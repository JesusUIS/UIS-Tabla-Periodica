(function(d,b,a,f){var e=d("[staticpath]").attr("staticpath");
var g=function(){fishersci.Common.fixIE8Tags();
fishersci.components.IE8.testIE();
fishersci.Common.equalizeHeight();
fishersci.Common.checkCookie();
fishersci.components.Header.init();
if(typeof NS("fishersci.components").SearchBar=="undefined"){fishersci.components.GlobalSearch.init()
}fishersci.components.Footer.init();
fishersci.components.Cartlet.init();
fishersci.components.Tabs.init();
fishersci.components.FeatureProducts.init();
fishersci.Login.init();
fishersci.components.ShoppingCart.init();
fishersci.components.MyProfile.init();
fishersci.components.ContactUs.init();
try{fishersci.components.EcommMarketing.init()
}catch(h){}fishersci.components.Registration.init();
fishersci.components.HeroCarousel.init();
try{fishersci.components.Videos.init()
}catch(h){}try{fishersci.components.PromoBar.init()
}catch(h){}fishersci.components.MruZipCode.init();
fishersci.Common.setLocaleClass();
try{fishersci.components.Trademarks.init()
}catch(h){console.log("ERROR: fishersci.components.Trademarks.init()")
}try{fishersci.Modals.init()
}catch(h){console.log("ERROR: fishersci.components.Modals.init()")
}if(env.addToCartCapability){fishersci.Common.loadScripts([e+"clientlibs/commercelibs/legacy/common.js",e+"clientlibs/commercelibs/legacy/fs-app.js",e+"clientlibs/commercelibs/legacy/FS_addToCart.js",e+"clientlibs/commercelibs/legacy/productPage_addToCart.js"]);
fishersci.components.EcommMarketing.addHiddenFields()
}if(!d.cookie("new_cart")){if(env.addToCartCapability&&LocalePath.getLocalePath()!=="/us/en/"&&LocalePath.getCountry()!=="ca"){fishersci.Common.loadScripts(["/shop/javascript/FS_addToHotlist.js","/shop/javascript/viewhotlist.js"])
}}if(env.isBrowse&&LocalePath.getLocalePath()!=="/us/en/"&&LocalePath.getCountry()!=="ca"){fishersci.Common.loadScripts(["/shop/javascript/FS_addToHotlist.js"])
}if(env.initEloqua){fishersci.components.Eloqua.init()
}if(env.promoUiJs){fishersci.components.Promos.init();
fishersci.components.Header.renderI18n()
}if(env.isPromoSearch){fishersci.components.FeaturedPromotions.init()
}try{if(env.showRecentlyViewed){fishersci.components.RecentlyViewedProducts.init()
}}catch(h){console.log("ERROR: fishersci.components.RecentlyViewedProducts.init(): "+h.message)
}fishersci.components.ProductCarousel.init();
fishersci.Common.initOffCanvasMenu();
fishersci.Common.windowResize();
fishersci.Common.visibilityToggle();
fishersci.Common.equalizeComponentHeights(".specialOfferBlock");
fishersci.Common.equalizeComponentHeights(".ie8 .category_container");
fishersci.Common.initCollapsibleBlocks();
fishersci.Common.autoHide();
fishersci.Common.doRegUserRedirect();
fishersci.Common.revealFeaturedProducts();
fishersci.SearchCommon.init();
fishersci.components.AddToList.init();
fishersci.components.FeaturedCollection.init();
fishersci.components.LiveChat.init();
d("input, textarea").placeholder();
fishersci.Common.createLiteLinks()
};
setTimeout(function(){g()
},5)
})(jQuery,window,document);
NS("fishersci").Login=(function(){var d="Login.js",e=fishersci.Common.getFullURL(),a="https://"+document.location.hostname+"/shop/login/login",h="#signInForm",j="#qa_session_expire_extend",g="/shop/LoginError?acctLock=true",f="/",k="/store1/cart/",b=($("input[name=displayMode]").val()==="b")?true:false;
return{init:function(){console.log("init() called frommm  "+d);
var l=this;
if(b){l.detectEnterLogin()
}$("body").on("click",j,function(){l.detectLogin();
return false
});
l.redirectIfExists()
},redirectIfExists:function(){if(fishersci.util.QueryString.getByKey("redirectURL")){var l=location.origin+"/"+fishersci.util.QueryString.getByKey("redirectURL")+location.search;
l=fishersci.util.QueryString.remove(l,"modal");
env.redirectToPage=env.redirectToPage||l
}},detectEnterLogin:function(){var l=$("#signInForm");
if(l.length>0){l.keypress(function(m){if(m.charCode==13){$(j).click()
}})
}},detectLogin:function(){$(document).find("#qa_login_error_message").empty();
$(document).find(".login_global_error").hide();
var o=$(document.createElement("img")).attr({src:"/shop/FisherSci/theme/images/search/ajax_loader_product.gif",id:"qa_add_list_spinner","class":"ajax_loading_gif"});
$("#qa_add_list_spinner").remove();
$(".signIn_btn").after(o);
$.colorbox.resize();
var m=$(h).serializeArray();
m.push({name:"logonId",value:$("#userid").val()});
m.push({name:"logonPassword",value:$("#logonPassword").val()});
if($.cookie("new_users_ui")){a="/store1/users/service/login";
if(typeof btoa==="function"){function l(p){var r=new Uint16Array(p.length);
for(var q=0;
q<r.length;
q++){r[q]=p.charCodeAt(q)
}return String.fromCharCode.apply(String.fromCharCode,new Uint8Array(r.buffer))
}$.map(m,function(q,p){m[p]["value"]=btoa(l(q.value))
});
m.push({name:"dc",value:true})
}}$.ajax({url:a,type:"POST",data:m,dataType:"json",success:function(p,u,r){if(p.loginSuccess===true){$.cookie("loginAttempt",true,{path:"/"});
store.session.remove("savedCartTriggered");
console.log("Successful login");
console.log("redirect URL = "+p.redirectUrl);
store.set("loggedInForSearch",true);
store.set("previousLogIn",true);
if(!b){$.cookie("showFeatureAnnouncementPopUp",true)
}if(typeof env.redirectToPage!=="undefined"&&!p.redirect){document.location=env.redirectToPage;
return
}var q=$.cookie("loginRequestedPage");
if(q!=""&&typeof q!=="undefined"){if(q=="undefined"){$.cookie("loginRequestedPage","",{path:"/"});
window.location.href="/"
}else{$.cookie("loginRequestedPage","",{expires:-1,path:"/"});
window.location.href=q.replace(/http:/ig,"https:")
}}else{if(p.redirect&&fishersci.util.QueryString.getByKey("modal")!="guestCheckout"){window.location.href=p.redirectUrl
}else{var s=fishersci.util.QueryString.remove(e,"modal");
if(s.slice(-1)=="?"){s=s.slice(0,-1)
}if(s.toLowerCase().search("/store1/checkout/")!=-1){window.location.href=k
}else{if(s.toLowerCase().search("forgotpasswordcmd")!=-1||s.toLowerCase().search("relogonformview")!=-1||s.toLowerCase().search("loginerror")!=-1){window.location.href=f
}else{if(LocalePath.getLocalePath()!="/us/en/"){if(fishersci.util.QueryString.getByKey("jsTimeout")=="true"){window.location.href="/"
}else{n(s)
}}else{n(s)
}}}}}}else{if(p.accountLocked){fishersci.Common.setCookie("loginRequestedPage","");
window.location.href=g
}else{$(document).find("#qa_login_error_message").append('<span class="icon_Warning_Triangle font_icon"></span>'+p.errorMessage);
$(document).find(".login_global_error").show();
$.colorbox.resize()
}if(p.redirect&&p.redirectUrl){window.location.href=p.redirectUrl
}}$("#qa_add_list_spinner").remove()
},error:function(p,r,q){console.log("Login response error");
console.log("Text Status: "+r);
console.log("Error Thrown: "+q);
$("#qa_add_list_spinner").remove()
}});
function n(p){if(window.location.href==p){window.location.reload()
}else{window.location.href=p
}}}}
}());
NS("fishersci").Locale=(function(){var b="Locale.js",a="";
return{getCountryList:function(){return["country 1","country 2","country 3","country 4"]
},getCountryListByContinent:function(d){return["country 1","country 2","country 3","country 4"]
},getCountryCode:function(d){return"country 1"
},getCountryByCode:function(d){return"us"
}}
}());
if(navigator.appVersion.indexOf("MSIE 7.")!=-1){var usertypecookie="";
var cname="usertype";
var ca=document.cookie.split(";");
for(var i=0;
i<ca.length;
i++){var c=ca[i];
while(c.charAt(0)==" "){c=c.substring(1)
}if(c.indexOf(cname)===0){usertypecookie=((c.substring(cname.length,c.length).toLowerCase().indexOf("g")!=-1)?"g":"x")
}}if(usertypecookie=="g"){var thisURL=window.location.href;
if(thisURL.indexOf(".co.uk")!=-1){window.location.href="https://classic-uk.fishersci.com"
}if(thisURL.indexOf(".ie")!=-1){window.location.href="https://classic-ie.fishersci.com"
}if(thisURL.indexOf(".ca")!=-1){window.location.href="http://classic.fishersci.ca"
}if(thisURL.indexOf("fishersci.fr")!=-1){window.location.href="https://classic-fr.fishersci.com"
}if(thisURL.indexOf("fishersci.es")!=-1){window.location.href="https://classic-es.fishersci.com"
}if(thisURL.indexOf("fishersci.nl")!=-1){window.location.href="https://classic-nl.fishersci.com"
}if(thisURL.indexOf("fishersci.it")!=-1){window.location.href="https://classic-it.fishersci.com"
}if(thisURL.indexOf("fishersci.pt")!=-1){window.location.href="https://classic-pt.fishersci.com"
}if(thisURL.indexOf("fishersci.no")!=-1){window.location.href="https://classic-no.fishersci.com"
}if(thisURL.indexOf("fishersci.se")!=-1){window.location.href="https://classic-se.fishersci.com"
}if(thisURL.indexOf("fishersci.dk")!=-1){window.location.href="https://classic-dk.fishersci.com"
}if(thisURL.indexOf("fishersci.fi")!=-1){window.location.href="https://classic-fi.fishersci.com"
}if(thisURL.indexOf("fishersci.ch")!=-1){window.location.href="https://classic-ch.fishersci.com"
}if(thisURL.indexOf("fishersci.at")!=-1){window.location.href="https://classic-at.fishersci.com"
}if(thisURL.indexOf("fishersci.be")!=-1){window.location.href="https://classic-be.fishersci.com"
}}}NS("fishersci.components").IE8=(function(){var a="IE8.js",b="";
return{testIE:function(){console.log("testing IE");
b=($("html").hasClass("ie8")?8:9);
if($("html").hasClass("ie7")){b=7
}if(b<=8){fishersci.Common.setChevrons();
$(".product_table").not(".shopping_cart_main, .oligos_mixed_cart_table, .genomics_mixed_cart_table, .multiplex_mixed_cart_table, .my_lists_table").wrap("<div class='ie8_border_fake'></div>");
$(".rapidOrderTable tbody.roRow:even, .rapidOrderTable tbody.roRow:even th, .rapidOrderTable tbody.roRow:even td").each(function(){$(this).addClass("roWhite")
});
$(".product_table").each(function(){var l=$(this);
l.children("tbody:odd").find("th, td").each(function(){var m=$(this);
if(m.attr("scope")!="col"&&!m.hasClass("roWhite")){m.css("background-color","#efeced")
}})
});
$("#customhome").parent().css({"max-width":"892px","padding-left":"30px"});
$(".breadcrumbs.categorical_breadcrumbs.hide_in_mobile").parent().css({"padding-left":"1px","padding-right":"0"});
$(".top_brands .csAction").addClass("homepageCarousel");
$(".ie8_wrap").each(function(){$(this).removeClass("no_wrap").css({"white-space":"normal","min-width":"100%"}).find("a").css("float","none")
});
$(".reveal_products .product_grid_item .product_grid_image img").each(function(){var l=$(this);
if(l.attr("src")==""){l.css("visibility","hidden")
}});
$("ul.top_links_list img").each(function(){var m=$(this);
var l=(m.attr("width")!=""?parseInt(m.attr("width")):24)+18;
m.parent().attr("style","width: "+l+"px;")
});
$("#ProductPageContainer").find(".breadcrumbs_wrap .breadcrumbs .breadcrumb li a img").each(function(){var l=$(this).parent();
l.css("display","inline-block").width(l.width()+$(this).width())
});
$(".ie8 #rightPanelWrapper .heroCarousel ul.hero_carousel li img").css("width","881px");
var k=fishersci.Common.getFullURL();
if(k.indexOf("modal=login")>0||k.indexOf("viewhotlist")>0){$("#cboxContent").css("background-color","#fff").addClass("whiteBg")
}$("#register_account select").each(function(){var l=$(this);
if(l.attr("id")=="search.accountCode"){l.attr("style","width: 334px;")
}});
if(self!==top&&$("body").width()<1240){$("body").addClass("framed")
}$("#register_account .form_area select").each(function(){var l=$(this);
if(l.attr("name")=="accountCode"){l.removeAttr("style").attr("style","width: 334px !important;")
}});
$(".topBreadCrumb li.selected span.icon_Arrow_Right2").remove();
$(".breadcrumb li a").each(function(){var m=$(this);
var l=$.trim(m.text());
if(l.length>29){m.text((l.substr(0,29))+"\u2026")
}});
if($(".breadcrumb li:last-child").length){$(".breadcrumb li:last-child").css({"max-width":"none"})
}}if(b<=7){if(LocalePath.getLocalePath()!="/us/en/"&&fishersci.Common.getCookie("usertype").toLowerCase()=="g"){$("body").append("<div id='oldIeMessageWrapper'>");
$("#oldIeMessageWrapper").append("<div id='oldIeMessageContent'>");
$("#oldIeMessageContent").append("<h3>Browser Compatibility Issue</h3>");
$("#oldIeMessageContent").append("<p>FisherSci.com only supports IE8+<br />We recommend the following solutions:</p>");
$("#oldIeMessageContent").append("<ul id='oldIeOptions' class='oldIeOptions'>");
$("#oldIeOptions").append("<li>Upgrade your version of IE</li>");
$("#oldIeOptions").append("<li>Use an alternative Browser</li>");
$("#oldIeOptions").append("<li>Visit FisherSci Classic</li>");
$("#oldIeMessageContent").append("<p class='apology'>We apologize for the inconvenience.</p>");
$.colorbox({html:$("#oldIeMessageWrapper").html(),closeButton:false,onOpen:function(){window.setTimeout(function(){window.location.href="https://webshop.fishersci.com/insight2_"+(fishersci.Common.getDomainCountry().slice(-2).toLowerCase())+"/welcome.do"
},12000)
}})
}$(".header_wrap a.logo").each(function(){var q=$(this);
var l=q.attr("href");
var n=q.find("img");
var o=n.attr("src").replace(".svg",".gif");
var p=n.attr("title");
var m=n.attr("alt");
q.replaceWith("<a href='"+l+"' style='margin: 8px 0 0 12px; width: 264px; position: absolute; vertical-align: baseline;'><img src='"+o+"' title='"+p+"' alt='"+m+"' width='264' height='55' style='max-height: 60px;'></a>")
});
$(".header_main .siteSearch").parent().attr("style","width: 575px");
var d=$("#SearchBox");
var g=d.attr("placedholder");
d.val(g).focus(function(){if(d.val()==g){d.val("")
}}).blur(function(){if(d.val()==""){d.val(g)
}}).attr("style","height: 40px !important; line-height: 40px !important;");
$(".search_fields").attr("style","height: 42px;");
$(".main_commerce_section .product_catalog_group_main, .main_commerce_section .product_catalog_group_main *").attr("style","background-color: #dfedf9 !important");
$(".main_commerce_section .cart-total_extra_spacing").attr("style","width: 872px !important");
$(".main_commerce_section .cart_total").attr("style","width: 264px !important; text-align: center;");
$(".main_commerce_section .product_item_grouptotal_element").attr("style","width: 112px !important; text-align: right;");
$(".review_submit_block .order_details_main>ul").addClass("ie7Temp").find("li").each(function(){var m=$(this);
var l=m.html();
m.replaceWith("<td>"+l+"</td>")
});
$("#order-review .review_cart_table_main div, #order-review .estimation_charges_main div, #order-review .shopping_cart_order_subtotal div").each(function(){var l=$(this);
if(l.hasClass("large-7")){l.parent().addClass("ie7TableWrap");
l.wrap("<td width='58%'></td>").removeAttr("class")
}if(l.hasClass("large-3")){l.wrap("<td width='25%;'></td>").removeAttr("class")
}if(l.hasClass("large-2")){l.wrap("<td></td>").removeAttr("class")
}});
$(".ie7Temp").each(function(){var m=$(this);
var l=m.html();
m.replaceWith("<tr class='ie7Row'>"+l+"</tr>")
});
$(".ie7TableWrap").wrapInner("<tr class='ie7Row'></tr>");
$("tr.ie7Row").wrap("<table cellspacing='0' class='ie7Table'></table>");
var e=$(".breadcrumbs_wrap ol.breadcrumb");
var j=e.find("li.active");
var h=j.html();
j.remove();
e.after("<div class='ie7FakeLi'>"+h+"</div>");
$("#related_products_carousel_container").parent().parent().remove();
$("#SKUHighlightContainer .block_head span").removeClass("float_right");
$(".green-container-box").attr("style","padding: 8px;");
$("div.topBrand, #ImageGalleryContainer ul.csPager").remove();
var f=$("#ImageGalleryContainer ul.product_carousel li").first();
$("#ImageGalleryContainer ul.product_carousel").empty().append(f);
if($("#customhome").length>0){$(".title_component").each(function(){$(this).parent().find("div.large-4.columns").css({width:"271px","float":"left",overflow:"hidden"})
})
}$(".off_canvas_target.left_navigation").parent().parent().attr("style","max-width: 300px;")
}}}
}());
NS("fishersci").Forms=(function(){var d="Forms.js",a="active",b="hide";
return{processForm:function(h){fishersci.Forms.setUpValidity(true);
var e=typeof h.data("multistep")!=="undefined";
var f=e?h.find("[data-form-validity]").not(":hidden").not(":disabled"):h.find("[data-form-validity]");
$.validity.start();
f.each(function(){var j=$(this);
fishersci.Forms.checkField(j)
});
$(".error.injected_label").each(function(j){$(this).attr("id","qa_error_label_"+j)
});
var g=$.validity.end();
return g.valid
},processField:function(f){fishersci.Forms.setUpValidity(false);
f.removeClass("error");
f.siblings(".error .injected_label").remove();
f.siblings(".error.injected_label").remove();
$.validity.outputs.generalFormErrors.start=function(){};
$.validity.start();
fishersci.Forms.checkField(f);
$(".error.injected_label").each(function(g){$(this).attr("id","qa_error_label_"+g)
});
var e=$.validity.end()
},setUpEventHandlers:function(g){var e=typeof g.data("multistep")!=="undefined";
var f=e?g.find("[data-form-validity]").not(":hidden").not(":disabled"):g.find("[data-form-validity]");
f.each(function(){var h=$(this);
h.off("blur").on("blur",function(){var j=$(this);
fishersci.Forms.processField(j)
})
})
},setUpValidity:function(e){$.validity.outputs.generalFormErrors={start:function(){fishersci.Forms.clearFormErrors()
},end:function(f){if(!f.valid&&$.validity.settings.scrollTo){$("html, body").animate({scrollTop:$(".injected_label").eq(0).prev().offset().top},500)
}},raise:function(k,j){var h=$(k.parents(".form_field")[0]),g=$(k).attr("data-append-msg")==""?true:false,f=$('<label class="error injected_label"><span class="icon_Warning_Triangle font_icon"></span>'+j+"</label>");
h.addClass("error");
k.addClass("error");
if(g){$(k).closest("div").append(f)
}else{f.insertAfter(k)
}},raiseAggregate:function(g,f){this.raise($(g.get(g.length-1)),f)
}};
$.validity.setup({outputMode:"generalFormErrors",scrollTo:e})
},checkField:function(G){var e=G,H="form-required-field",j="form-validation-match",P="form-validation-match-regex",q="form-select-field",f="form-radio-group",o="form-checkbox",g="form-file-upload",Q,E=e.data(H),r=e.data(j),s=e.data(P),I=e.data(q),u=e.data(f),M=e.data(o),U=e.data(g),k=e.data("form-error-message")||"This field is required (default)",F=e.data("validationMatchesMatch"),C=e.data("minLength"),R=e.data("maxLength"),K=false;
if(e.prop("tagName")!=="SELECT"){if(e.val().trim().length===0){e.val("")
}}if(typeof K!=="undefined"){K=true;
console.log("optional field")
}if(typeof E!=="undefined"){e.require(k);
K=false
}console.log("optional field: "+K+" "+e.attr("name"));
if(typeof r!=="undefined"){var y=e.data(j),S="",O="";
if(y.toLowerCase()==="phone"){if(K){if(e.val().length>0){S=fishersci.Forms.PHONE_REGEX()
}}else{S=fishersci.Forms.PHONE_REGEX()
}}if(y.toLowerCase()==="account"){console.log("account");
S=fishersci.Forms.ACCOUNT()
}if(y.toLowerCase()==="creditcard"){console.log("credit card");
var n=Q;
var z=e.val();
var p=fishersci.Forms.validateCreditCard(n,z);
if(!p){$.validity.outputs.generalFormErrors.raise(e,k)
}return
}if(y.toLowerCase()==="expirationdates"){console.log("exp. dates");
S=fishersci.Forms.EXP_DATE_REGEX()
}if(y.toLowerCase()==="ordernumber"){console.log("exp. dates");
S=fishersci.Forms.ORDER_NUMBER()
}if(y.toLowerCase()==="zipcodeca"){console.log("exp. dates");
S=fishersci.Forms.ZIP_CODE_CA()
}O=S!==""?S:y;
e.match(O,k)
}if(typeof s!=="undefined"){e.match(new RegExp(s),k)
}if(typeof C!=="undefined"){var m=e.data("lengthMessage")||"Provide the appropriate minimum length",D=C==""?0:parseInt(C);
e.minLength(D,m)
}if(typeof R!=="undefined"){var A=e.data("lengthMessage")||"Provide the appropriate maximum length",v=R==""?0:parseInt(R);
e.maxLength(v,A)
}if(typeof F!=="undefined"){var N=e.data("validationMatchMessage")||"Value don't match";
var h=e.attr("id");
if(h!=="undefined"){$("#"+F+",#"+h).equal(N)
}}if(typeof I!=="undefined"){console.log("select field");
Q=e.val();
e.assert(fishersci.Forms.selectNotEmpty,"You must select an option.")
}if(typeof u!=="undefined"){console.log("radio group");
e.assert(fishersci.Forms.isChecked,"You must make a selection.")
}if(typeof M!=="undefined"){console.log("checkbox");
e.assert(fishersci.Forms.isChecked,"<br>You must make a selection.")
}if(typeof U!=="undefined"){var T=e.val()!=="",L,l,w,B=e.data("file-type");
if(typeof B!=="undefined"){L=e.val().split(".").pop().toLowerCase();
l=e.data("file-type").replace(" ","").split(",");
w=$.inArray(L,l)!==-1;
e.assert(w,"Please attach proper file formats ("+B+")")
}e.assert(T,"Please attach a file.")
}if(typeof e.attr("multiple")!=="undefined"){var J=e.val()&&e.val().length>=1&&e.val()[0]!=="";
e.assert(J,"Please select at least one option")
}},validateCreditCard:function(e,g){if(e=="Mastercard"){if(g.length==16){var f=g.substring(0,6);
if(((f>=510000)&&(f<=559999))||((f>=222100)&&(f<=272099))){return fishersci.Forms.isCreditCard(g)
}}}if(e=="American Express"){if(g.length==15){var f=g.substring(0,2);
if(f>=34&&f<=37){return fishersci.Forms.isCreditCard(g)
}}}if(e=="Visa"){if(g.length==16||g.length==13){if(g.startsWith("4")){return fishersci.Forms.isCreditCard(g)
}}}return false
},isCreditCard:function(n){var h=0;
var l=1;
var e=n.length;
var m=0;
for(var f=0;
f<e;
f++){var g=e-f-1;
var k=e-f;
var j=n.substring(g,k);
m=j*l;
if(m>=10){h+=(m%10)+1
}else{h+=m
}if(l==1){l++
}else{l--
}}if((h%10)===0){return true
}else{return false
}},selectNotEmpty:function(e){return e.value!=="0"
},isChecked:function(e){var f=$(e).attr("name");
return $('[name="'+f+'"]:checked').length!=0
},submitForm:function(e){},checkAllBoxes:function(e){var f=$(e).parents(".checkbox_set");
f.find('input[type="checkbox"]').attr("checked","checked")
},uncheckAllBoxes:function(e){var f=$(e).parents(".checkbox_set");
f.find('input[type="checkbox"]').attr("checked",false)
},clearForm:function(e){if(!e||typeof e=="undefined"){}e.find("input[type=text], textarea").val("");
e.find("select").each(function(){var f=$(this);
f.val(f.find("option:first").val())
});
e.find("select.auto_populated option").remove();
e.find("input[type=checkbox]").attr("checked",false);
e.find("input[type=radio]").attr("checked",false)
},PHONE_REGEX:function(){return/^\d{3}-\d{3}-\d{4}$/
},ACCOUNT:function(){return/^[0-9]{6}-[0-9]{3}$/
},EXP_DATE_REGEX:function(){return/^[0-9]{6}$/
},ORDER_NUMBER:function(){return/^[a-zA-Z]{1}[0-9]{8}/
},ZIP_CODE_CA:function(){return/^([A-Za-z0-9]){3}( )?([A-Za-z0-9]){3}$/
},clearFormErrors:function(){$(".form_errors").hide();
$(".error .injected_label").remove();
$(".error.injected_label").remove();
$(".form_field").not(".date, .credit_card_type").removeClass("error")
}}
}());
NS("fishersci.util").QueryString=(function(){return{getByKey:function(a){var d,b;
a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
d=new RegExp("[\\?&]"+a+"=([^&#]*)");
b=d.exec(location.search);
return b===null?undefined:decodeURIComponent(b[1].replace(/\+/g," "))
},update:function(d,a,e){if(typeof d==="string"){var b=new RegExp("([?|&])"+a+"=.*?(&|$)","i"),f=d.indexOf("?")!==-1?"&":"?";
if(d.match(b)){return d.replace(b,"$1"+a+"="+e+"$2")
}else{return d+f+a+"="+e
}}else{return d
}},remove:function(e,d){var g=e.split("?"),f,b,a;
if(g.length>=2){f=encodeURIComponent(d)+"=";
b=g[1].split(/[&;]/g);
for(a=b.length;
a-->0;
){if(b[a].lastIndexOf(f,0)!==-1){b.splice(a,1)
}}e=g[0]+"?"+b.join("&");
return e
}else{return e
}}}
}());
NS("fishersci").Modals=(function(){return{init:function(){var a=this;
a.ajaxColorbox();
a.iframeColorbox()
},betaMessageModal:function(){var a='<div id="betamessageViewModal" class="modal common_modal"><h3 id="qa_session_expire_header">Oops, this feature isn&apos;t quite ready yet!</h3><p>Thank you for your patience while we work on building a better experience for our customers. We look forward to sharing this feature with you soon, so stay tuned!</p></div>';
$(".beta_view_modal").on("click",function(){$.colorbox({inline:true,html:a,innerWidth:"350px"})
})
},ajaxColorbox:function(){$(".ajax_colorbox").on("click",function(a){a.preventDefault();
$.colorbox({href:$(this).attr("href")})
})
},iframeColorbox:function(){$(".iframe_colorbox").on("click",function(d){d.preventDefault();
var f=0.8;
if(fishersci.Common.inDesktopBreakpoint()){f=0.6
}var b=$(window).width()*f;
var a=$(window).height()*f;
$.colorbox({html:"<iframe style='width: 100%; height: 100%' id='iframeContent' src='"+$(this).attr("href")+"'></iframe>",height:a,width:b,scrolling:false,fastIframe:false,onComplete:function(){$("#iframeContent").one("load",function(){$(this).contents().find("#kampyleButton").hide();
$(this).contents().find("#recently_viewed_products").hide()
})
}})
})
},confirm:function(d,b){fishersci.Common.getTranslationData("mylist",false);
var e={message:d};
var a=Handlebars.templates["forms/confirmationModal"](e);
$.colorbox({html:a,scrolling:false,onComplete:function(){$("#okButton").on("click",function(){b();
$.colorbox.close()
})
}})
},cartErrorModal:function(b){var b=b||{};
var d={message:b.message||false,alert:b.alert||false,icon:b.icon||false,options:b.options||false,serviceErrorCode:b.serviceErrorCode||false};
var a=Handlebars.templates["forms/cart-error-modal"](d);
$.colorbox({html:a,scrolling:false,width:b.width||"50%",onComplete:function(){$(".cancel_button").off().on("click",function(){$.colorbox.close()
})
}})
},alert:function(b){fishersci.Common.getTranslationData("mylist",false);
var d={message:b};
var a=Handlebars.templates["forms/alertModal"](d);
$.colorbox({html:a})
}}
}());
NS("fishersci.components").FeatureAnnouncement=(function(){var a="FeatureAnnouncement.js",b=$("#feature-announcement-wrapper");
return{init:function(){console.log("init() called from "+a);
if(!window.FeatureAnnouncement){console.warn(a+" - FeatureAnnouncement variable is undefined. This component won't be executed");
return
}var k=this;
var g=window.FeatureAnnouncement.items[0];
var j=window.FeatureAnnouncement.items;
for(var f=0;
f<j.length;
f++){j[f].id=f
}if(k.isValid(g)){var h=3000,l="show";
var e=15000,d="hide";
k.fillInformation(g);
k.slideEvent(h,l);
k.slideEvent(e,d);
k.dismiss();
k.adjustHeight()
}},isValid:function(e){var f=this;
var g=false;
var d=$.cookie("showFeatureAnnouncementPopUp");
if(typeof(d)==="undefined"||d==="true"){if(typeof(e)!=="undefined"){if(f.validateTimeRange(e)){if(f.validatePath(e)){if(f.validateCmsCookies()){g=true;
console.log("FeatureAnnouncement - This FA passes all the validations, is good for displaying the pop up.")
}else{console.log("FeatureAnnouncement - The validation for PUNCHOUT/CMS cookie failed")
}}else{console.log("FeatureAnnouncement - The current URL path is not on the inclusion list for this FA")
}}else{console.log("FeatureAnnouncement - This FA is outdated")
}}else{console.warn("FeatureAnnouncement - This FA is undefined")
}}else{console.warn("FeatureAnnouncement - The user dismissed the pop up window by clicking the X mark so it won't be displayed again")
}return g
},validateTimeRange:function(f){var d=new Date(f.Startdate);
var h=new Date(f.Enddate);
var e=new Date();
var g=false;
h.setHours(23);
h.setMinutes(59);
h.setSeconds(59);
if(e>=d&&e<=h){g=true
}return g
},validatePath:function(e){var g=e.InclusionList;
var d=fishersci.Common.getFullURL();
var f=false;
g=g.substring(1,g.length-1).replace(" ","");
g=g.split(",");
g.forEach(function(h){if(d.indexOf(h)>-1){f=true
}});
return f
},validateCmsCookies:function(){var e=$.cookie("punchout");
var f=$.cookie("cms");
var d=true;
if(typeof(e)!=="undefined"&&e.indexOf("cmsDisabled")>-1){d=false
}if(typeof(f)!=="undefined"&&f==="false"){d=false
}return d
},slideEvent:function(e,d){if(b.length>0){if(d==="show"){b.delay(e).show("slide",{direction:"right"},500);
$.cookie("showFeatureAnnouncementPopUp",true)
}else{if(d==="hide"){b.delay(e).hide("slide",{direction:"right"},500)
}else{console.error("Header.slideEvent() - The slide type "+d+" is incorrect.")
}}}},dismiss:function(){var d=$(".fe-popup-dismiss");
if(b.length>0){d.click(function(){b.remove();
$.cookie("showFeatureAnnouncementPopUp",false)
})
}},fillInformation:function(e){if(typeof(e)!=="undefined"&&b.length>0){e.Description=$.parseHTML(e.Description);
e.Description=e.Description[0].data;
var d=Handlebars.templates["feature-announcement/featureAnnouncementPopup"](e);
b.append(d)
}},adjustHeight:function(){var h=$(".pop-up-window");
var d=$(".fe-popup-text");
var g=50;
b.css({position:"absolute",visibility:"hidden",display:"block"});
var f=h.height();
var e=d.height();
b.removeAttr("style");
if(d.length>0){if(e>g){h.height(f+(e-g))
}}}}
}());
NS("fishersci.components").Header=(function(){var U=$("#header"),j="Header.js",T,h,F,V,H,k,D,b,n,ab,E,K,r,m,S,X,q,M,I,f,Z,a,A,C,Y,N,G,aa,u,y,P,W,L,p,o="Choose an industry to see programs, literature, promotions and search results relevant to you. All products sold on the site are available regardless of which option you choose.",Q=false,B=false,d,O,e={},v={},J=LocalePath.getLocalePath(),z=J+"signin.html",s,R,g,l;
e["default"]="";
e["/gb/en/"]=e["/ie/en/"]=e["/fr/en/"]=e["/de/en/"]=e["/es/en/"]=e["/it/en/"]=e["/nl/en/"]="We use cookies on our website to provide you with a good experience. You may choose to accept or decline our cookie usage. Our website may not be usable if you decline cookie usage. <a href='"+J+"footer/cookie-usage.html'>Click here</a> to learn more about how we use cookies on our website.";
e["/fr/fr/"]="Notre site web utilise des cookies afin de vous offrir une meilleure expÃ©rience. Vous pouvez choisir dâ€™accepter ou de refuser leur utilisation. Si vous refusez lâ€™utilisation des cookies sur notre site web, il vous sera peut-Ãªtre impossible de l'utiliser en totalitÃ©. <a href='"+J+"footer/cookie-usage.html'>Cliquez ici</a> pour obtenir plus dâ€™informations sur lâ€™utilisation des cookies sur notre site web.";
e["/de/de/"]="Wir verwenden auf unserer Webseite Cookies, damit Sie ein gutes Weberlebnis haben. Sie kÃ¶nnen sich entscheiden, die Verwendung unserer Cookies zu akzeptieren oder abzulehnen. Unsere Webseite ist mÃ¶glicherweise unbrauchbar, wenn Sie die Verwendung von Cookies ablehnen. <a href='"+J+"footer/cookie-usage.html'>Hier klicken</a>, um mehr darÃ¼ber zu erfahren, wie wir Cookies auf unserer Webseite verwenden.";
e["/es/es/"]="Utilizamos cookies en nuestro sitio web para mejorar la experiencia del usuario. Puede aceptar o rechazar su uso. Es posible que no pueda utilizar el sitio web si no las acepta. <a href='"+J+"footer/cookie-usage.html'>Haga clic</a> aquÃ para mÃ¡s informaciÃ³n.";
e["/it/it/"]="Il nostro sito Web utilizza i cookie per fornire all'utente una migliore esperienza. L'utente puÃ² scegliere di accettare o rifiutare l'uso dei cookie. In caso di rifiuto, potrebbe non essere possibile utilizzare il nostro sito Web. <a href='"+J+"footer/cookie-usage.html'>Fare clic</a> qui per ulteriori informazioni sulle modalitÃ  di utilizzo dei cookie sul nostro sito Web.";
e["/nl/nl/"]="Wij maken voor onze website gebruik van Cookies, zodat u een goede website beleving hebt. U kunt bepalen of u het gebruik hiervan accepteert. Als u geen Cookies accepteert, kan onze website wellicht niet goed functioneren. <a href='"+J+"footer/cookie-usage.html'>Klik hier</a> om meer informatie te krijgen hoe wij Cookies op onze website gebruiken.";
v["/gb/en/"]=v["/ie/en/"]=v["/fr/en/"]=v["/de/en/"]=v["/es/en/"]=v["/it/en/"]=v["/nl/en/"]="I ACCEPT COOKIES";
v["/fr/fr/"]="J'ACCEPTE LES COOKIES";
v["/de/de/"]="ICH AKZEPTIERE COOKIES";
v["/es/es/"]="ACEPTO EL USODE COOKIES";
v["/it/it/"]="ACCETTO I COOKIE";
v["/nl/nl/"]="ACCEPTEER COOKIES";
function w(){$("[class*='i18n-']").each(function(){var ae=this.className.split(/\s+/);
for(var ac=0;
ac<ae.length;
++ac){var ad=ae[ac];
if(ad.substr(0,5)==="i18n-"){$(this).text(I18n.t(ad.split("-").splice(1,2).join(".")))
}}})
}w();
return{init:function(){var ac=this;
var ad;
ac.initVariables();
ac.getCountryAddress();
if(fishersci.Common.isNewHeader()){ac.initLastLevelItem();
ac.initNewHeaderEvents();
ac.setBreakpointClass();
ac.updatePromoBlocksCTAArrow();
fishersci.components.GlobalSearch.setSiteSearchPlaceholder();
if(fishersci.Common.inDesktopBreakpoint()){ac.alignTabFlyout()
}if(fishersci.Common.inMobileBreakpoint()){ac.setUpMobileDrawer();
ac.backToMainFlyout()
}}fishersci.components.FeatureAnnouncement.init();
fisherDataLayer.generalData.eStore=$.cookie("estore")||"cookie not set";
fisherDataLayer.generalData.url=document.location.href;
if(fishersci.Common.getQueryString("modal")==="login"&&document.location.protocol==="http:"){document.location.protocol="https:"
}h.on("click",".js_sign_out",function(ae){ae.preventDefault();
$.removeCookie("mruZipOffered",{path:"/"});
store.session.remove("savedCartTriggered");
fishersci.components.PromoCode.doDestroyPromoCookies();
$.cookie("loginpopuphide",false,{path:"/"});
window.location.replace($(this).attr("href"))
});
ad=setTimeout(function(){if(fishersci.Common.isPunchoutSite()){fishersci.Common.doRemoveBulkCookies({prevmemb:{path:"/"},prevsess:{path:"/"},prevorde:{path:"/"},optimize:{path:"/",domain:".fishersci.com"},ouid:{path:"/"},loginreq:{path:"/"}})
}},3000);
$(".change_language").on("click",function(aj){aj.preventDefault();
var ai=fishersci.util.QueryString.update(window.location.href,"change_lang",true);
var af=$(this).attr("data-locale");
var ah=af.split("_");
var ak=false;
if(fishersci.util.QueryString.getByKey("language")){var ag=ah[0].toLowerCase();
ai=fishersci.util.QueryString.update(ai,"language",ag);
ak=true
}if(fishersci.util.QueryString.getByKey("countryCode")){var ae=ah[1].toUpperCase();
ai=fishersci.util.QueryString.update(ai,"countryCode",ae);
ak=true
}window.location.href=ai;
if(window.location.hash&&ak==false){window.location.reload()
}});
l=true;
console.log("Header Initialized-----------")
},initVariables:function(){T="/shop/service/profiles/current";
h=$(".account_information.block_links");
F=h.find("header");
O=$(".mobile_country_picker");
d=$(".mobile_country_dropdown");
a=$(".language_country_selection.block_links");
V=$("#nav");
H=$(".nav_links");
k=$(".nav_link_item");
D=".flyout_menu";
b=".flyout_body";
n="block_links_list";
ab=".login_dropdown";
E=$(".global_search");
K=$("#SearchBox");
r=$(".search_heading");
m="http:";
S="https:";
X=true;
q=$("header em");
M="Your Account, ";
I=$(".shopping_cart_quantity");
f=$(".site_specific_tabs");
Z=$("[data-locale]");
A="estore";
C="click_overlay";
Y="."+C;
N=200;
G=500;
aa="";
u="";
y="873px";
P="315px";
W="464px";
L="458px";
p="439px";
s=$("input[name=cookieMsg]").val();
R=($("input[name=displayMode]").val()==="b")?true:false;
g="/shop/FisherSci/include/js/session-timer.js";
if($.cookie("new_users_ui")){T="/store1/users/service/profiles/menu";
g="/store1/users/resources/js/session-timer.js"
}},initNewHeaderEvents:function(){var ac=this;
if(fishersci.Common.inMobileBreakpoint()||fishersci.Common.inTabletBreakpoint()){ac.toggleHeaderTabs()
}ac.activeNewEstoreHeaders();
ac.renderNewHeaderLinksSpacing();
ac.showCartCount();
if($(".hero_carousel_container").length>0){$(".hero_carousel_container").css("max-width","none");
$(".hero_carousel_pagination_container").css("max-width","none")
}},showCartCount:function(){var ad=0;
if($.cookie("new_cart")){if($.cookie("CART_ID")&&$.cookie("CART_ID")!==""){var ac=$.cookie("CART_ID").split("_");
ad=ac[1]
}else{ad=0
}}if(ad>999){$(".shopping_cart_quantity").text("999+")
}else{$(".shopping_cart_quantity").text(ad)
}if(ad>0){$(".shopping_cart_quantity").removeClass("hide");
$(".empty_cart_modal .js_shopping_cart_count").text(ad)
}else{$(".shopping_cart_quantity").addClass("hide")
}if($("#qa_ecs_webreq_cart tbody").length>0){$(".empty_cart_modal .js_shopping_cart_webreq_count").text($("#qa_ecs_webreq_cart tbody").length)
}},toggleHeaderTabs:function(){var ah=$(".new-header-tabs");
var ac=$("#burger-menu");
var ad=ac.find(".font_icon");
var af=$(".header-hr");
var ae=$("#mobile-drawer");
var ag=$(".dim-background");
ah.addClass("hide");
ac.click(function(ai){ai.stopPropagation();
ai.preventDefault();
if(ad.hasClass("icon_Menu")){ad.removeClass("icon_Menu");
ad.addClass("icon_Remove");
ah.removeClass("hide");
ah.addClass("active");
af.addClass("active");
if(fishersci.Common.inMobileBreakpoint()){var aj=$("#mobile-drawer").find(".tab_nav").children("li").first();
ae.addClass("active");
ag.addClass("active");
fishersci.components.Tabs.resetTabs(aj)
}}else{ad.removeClass("icon_Remove");
ad.addClass("icon_Menu");
ah.addClass("hide");
ah.removeClass("active");
af.removeClass("active");
if(fishersci.Common.inMobileBreakpoint()){ae.removeClass("active");
ag.removeClass("active")
}}})
},resetHeaderTabs:function(){var ae=$(".new-header-tabs");
var ac=$("#burger-menu");
var ad=ac.find(".font_icon");
ad.removeClass("icon_Remove");
ad.addClass("icon_Menu");
ae.addClass("hide");
ac.off("click")
},activeNewEstoreHeaders:function(){var ad=".estore-scientific";
var ac=fishersci.Common.getFullURL();
var ae;
if(ac.indexOf("healthcare-products")>-1){ad=".estore-healthcare"
}else{if(ac.indexOf("education-products")>-1){ad=".estore-scied"
}}$(".estore-scientific").parent().removeClass("active");
$(".estore-healthcare").parent().removeClass("active");
$(".estore-scied").parent().removeClass("active");
ae=$(ad).parent().addClass("active")
},renderNewHeaderLinksSpacing:function(){var ae=this;
var ad=$(".new-header-tabs");
var ac=$(".quickOrder_width");
if(!ae.isSingleHeaderLink()){ad.removeClass("large-9");
ad.addClass("large-7");
ac.addClass("multipleHeaderLinksOrder");
ae.toggleHeaderLinkClassTablet()
}},toggleHeaderLinkClassTablet:function(){var ac=$("#right-nav-menu");
if(fishersci.Common.inTabletBreakpoint()&&ac.length>0){ac.addClass("multipleHeaderLinks")
}else{ac.removeClass("multipleHeaderLinks")
}},isSingleHeaderLink:function(){var ag="12";
var ad=true;
var ac=$(".new-header-link");
if(ac.length>0){ag=ac.attr("class").split("large-")[1].split(" ")[0];
if(typeof(ag.split(".")[1])!=="undefined"){var af="large-"+ag;
var ae="large-"+ag.split(".")[0];
ac.removeClass(af);
ac.addClass(ae)
}if(ag>0&&ag<12){ad=false
}}return ad
},equalizeFlyoutColumns:function(){$(D).each(function(){var ad=$(this);
var ae=ad.find(".flyout_promos");
var ac=ad.find(".flyout_columns");
if(ae.length){if(ae.outerHeight()>ac.outerHeight()){ae.addClass("bordered")
}else{ac.addClass("bordered")
}}})
},positionCookieBalloon:function(){var ac=$("#estoreCookieBalloon");
if(fishersci.Common.getBreakpoint()!="mobile"){ac.css({left:(($("#estoreTrigger").position().left+18)-(ac.width()/2))+"px",top:"25px"})
}else{ac.css({left:"0px",top:($("#header .tabs.site_specific_tabs").height()+3)+"px"})
}},removeCookieBalloon:function(){$("#estoreCookieBalloon").hide();
B=Q=false
},closeCookieBalloon:function(){console.log("Clearing the estore cookie balloon");
if(Q){$("#estoreCookieBalloon").slideUp()
}B=Q=false
},delayCloseBalloon:function(){if(Q){console.log("Fully loaded.  Starting timeout");
var ac=setTimeout("fishersci.components.Header.closeCookieBalloon()",8000)
}else{console.log("No estore cookie balloon showing")
}},getCommonHeaderData:function(ai){console.log("getCommonHeaderData() called from  "+j);
var ak=this;
var af;
var am=$.cookie("estoreCookie")!=undefined?parseInt($.cookie("estoreCookie")):0;
console.log("Initial estoreBalloonShown = "+am);
if(typeof s==="undefined"){console.log("getCommonHeaderData - The cookie message is undefined")
}else{console.log("getCommonHeaderData - The cookie message has been set correctly")
}$(".login-popup").on("click",".icon_Remove, .btn-sign-in",function(){console.log("popup close clicked. Let's close and set coookie");
$(".login-popup").addClass("hide");
$.cookie("loginpopuphide",true,{path:"/"})
});
if(typeof $.cookie("gsessionId")!="undefined"){$.cookie("loginpopuphide",true,{path:"/"})
}if(typeof $.cookie("loginpopuphide")=="undefined"||$.cookie("loginpopuphide")=="false"){console.log("cookie not exists, show the login popup");
$(".login-popup").removeClass("hide");
$.cookie("loginpopuphide",true,{path:"/"})
}$(document).ready(function(){console.log("timeout hit");
setTimeout(function(){$(".login-popup").fadeOut(2000);
$.cookie("loginpopuphide",true,{path:"/"})
},10000)
});
if(ai.commonHeaderDataSuccess){console.log("CommonHeaderData successful------------");
h.show();
console.log("Success condition generated from getCommonHeaderData() function");
if(!R||ai.userDetails.loggedIn){$(".block_links_list.login_dropdown").find("li").remove().end().hide();
ah(ai)
}else{ao(ag(ai))
}if(env&&env.userType==="M"){fishersci.components.MruZipCode.init()
}if(!($("html").hasClass("ie7"))){$("li.estoreSelectIcon").remove();
if($(".tabs.site_specific_tabs li").length>1){f.append('<li class="estoreSelectIcon"><a href="#" id="estoreTrigger" class="estoreTrigger"><img src="/etc/designs/fishersci/images/icons/icon_information_circle_blue_2_15x15.png" /></a></li>');
$("#estoreTrigger").on("click mouseover",function(){if(fishersci.Common.getBreakpoint()=="desktop"&&!Q){$("#estoreBalloonClose").addClass("hide")
}$("#estoreCookieBalloon").show();
B=true;
Q=false;
return false
}).on("mouseout",function(){ak.removeCookieBalloon();
$("#estoreBalloonClose").removeClass("hide")
});
var al='<div id="estoreCookieBalloon" class="estoreCookieBalloon"><div id="balloonPointer" class="balloonPointer hide_in_mobile"></div><div id="balloonContent" class="balloonContent"><div id="estoreBalloonClose" class="estoreBalloonClose">X</div><h4>Customize Your Experience</h4><p>'+o+"</p></div></div>";
$("#header.header").prepend(al);
ak.positionCookieBalloon();
$(window).resize(ak.positionCookieBalloon).click(function(){var ap=B;
ak.removeCookieBalloon();
if(ap){return false
}})
}}var ac=fishersci.Common.getFullURL();
if(ac.indexOf("modal=login")<0&&!($("html").hasClass("ie7"))){if(X&&navigator.cookieEnabled){if(am==0){console.log("Opening estore selection balloon");
$("#estoreCookieBalloon").show();
Q=B=true;
ak.delayCloseBalloon();
$.cookie("estoreCookie",1,{expires:180,path:"/"})
}}else{$.cookie("estoreCookie",1,{expires:180,path:"/"})
}}try{fishersci.legacy.SavedCart.init()
}catch(aj){console.log("ERROR: fishersci.legacy.SavedCard.init(): "+aj.message)
}an()
}function ad(ap){h.show();
showProfile=false;
var aq="";
if(ap.accountName){if((ap.accountName)!=""&&(ap.accountName)!="undefined"){aq=ap.accountName;
showProfile=true
}}else{if(ap.defaultAccountNumber){if((ap.defaultAccountNumber)!=""&&(ap.defaultAccountNumber)!="undefined"){aq=ap.defaultAccountNumber;
showProfile=true
}}else{if(ap.lastUsedAccountNumber){if((ap.lastUsedAccountNumber)!=""&&(ap.lastUsedAccountNumber)!="undefined"){aq=ap.lastUsedAccountNumber;
showProfile=true
}}}}if(showProfile){aq=ae(aq);
if(!R){$("header span.label_wrap").find("span:first").remove().end().append("<span class='account_alias hide_in_mobile hide_in_tablet'>"+aq+"</span>")
}else{$("header span.label_wrap").find("span:first").remove().end().append("<span class='account_alias hide_in_mobile hide_in_tablet'>"+myAccountText+"</span>")
}$("header span.account_text").addClass("hide_in_desktop")
}else{aq=fishersci.FisherCommerceMessages.noAcctSelected;
if(!R){$("header span.label_wrap").find("span:first").remove().end().append("<span class='account_alias hide_in_mobile hide_in_tablet'>"+aq+"</span>")
}else{$("header span.label_wrap").find("span:first").remove().end().append("<span class='account_alias hide_in_mobile hide_in_tablet'>"+myAccountText+"</span>")
}$("header span.account_text").addClass("hide_in_desktop")
}}function ae(ap){if(typeof ap==="undefined"||ap==""){ap=fishersci.FisherCommerceMessages.noAcctSelected
}else{ap=(ap.length>15)?ap.substr(0,15)+"...":ap
}return ap
}function ah(aM){console.log("_doAccountData() called from  "+j);
var aA=this,ar=aM.accountDropDown,av=ag(aM);
var au={accountLinksClass:n,menuCategories:ar,firstName:av.firstName,lastName:av.lastName,signOutHref:av.signOutHref||"/shop/logoff",signInText:function(){if(!av.signInText){return""
}return av.signInText
},showSignOut:(av.loggedIn&&!(av.userIsPunchOut)),isNewHeader:R,accountAlias:ae(av.accountAlias)};
var ay=av.loggedIn?Handlebars.templates["account/accountMenu"](au):Handlebars.templates["account/guestAccountMenu"](au);
ao(av);
if((av.userType=="G")&&(typeof $.cookie("persistentUser")!="undefined")&&(typeof $.cookie("persistentUser")!="")){q.find(".header_link .sign-in-text").html("&nbsp;&nbsp;&nbsp;"+I18n.t("accountMenu.yourAccount"));
q.find(".header_link_new .sign-in-text").html(I18n.t("accountMenu.yourAccount"))
}if(av.userType!=="G"){X=false;
q.find(".header_link .sign-in-text").html("&nbsp;&nbsp;&nbsp;"+I18n.t("accountMenu.yourAccount"));
q.find(".header_link_new .sign-in-text").html(I18n.t("accountMenu.yourAccount"));
if(!au.showSignOut){$(ab).hide()
}var aB=$.cookie("customHome")!=undefined?$.cookie("customHome"):"";
if(aB!=""){var aL=aB.split("|");
var aF=aL[0]=="true";
var aJ=aL[1]=="true";
var at=aL[2];
if(aF&&at!=""){$.get(at,function(aO){$("#customhome").html(aO).css({"margin-bottom":"1.5rem"});
fishersci.Common.visibilityToggle()
})
}}}else{$.cookie("customHome","",{expires:-1,path:"/"});
$("#customhome").html("").css({"margin-bottom":"0"})
}$(".header_link").css("visibility","visible");
env=typeof env!=="undefined"?env:{};
for(i in av){env[i]=av[i]
}$(document).trigger("accountDataLoaded",av);
if((env.isSearch||env.isBrowse)&&typeof searchResults!="undefined"){fishersci.SearchCommon.getPricingOnSearch.apply(searchResults)
}var aD=av.accountAlias;
if(!X){var aG=I18n.t("MyAccount")!='[missing "en.MyAccount" translation]'?I18n.t("MyAccount"):"My Account";
aD=ae(aD);
if(!R){$("header span.label_wrap").find("span:first").remove().end().append("<span class='account_alias hide_in_mobile hide_in_tablet'>"+aD+"</span>")
}else{$("header span.label_wrap").find("span:first").remove().end().append("<span class='account_alias hide_in_mobile hide_in_tablet'>"+aG+"</span>")
}$("header span.account_text").addClass("hide_in_desktop")
}if((env.accountNumber==="Guest or No Account Chosen"||env.accountNumber==="")&&env.userType==="R"){env.userType="RNoAcct";
env.accountNumber="Guest or No Account Chosen"
}if(env.loggedIn){if(!env.userIsPunchOut){(function(){var aP=document.createElement("script");
aP.src=g;
aP.type="text/javascript";
aP.async=true;
var aO=document.getElementsByTagName("script")[0];
aO.parentNode.insertBefore(aP,aO)
}())
}}if(typeof fisherDataLayer=="undefined"){fisherDataLayer={};
fisherDataLayer.userData={}
}if($.cookie("loginAttempt")==="true"&&env.loggedIn){var aE=av.userEmail;
var ap=av.firstName;
var aC=av.lastName;
var aI=av.zipInProfile;
var aH=av.logonId;
var aN=av.accountNumber;
var ax={queryString:"elqFormName=SYSTEM_FisherSciConnection&elqSiteID=839961370&emailAddress="+aE+"&firstName="+ap+"&lastName="+aC+"&zipPostal="+aI+"&SubmissionType=Login&logonId="+aH+"&accountNumber="+aN};
fishersci.components.Eloqua.createIframe(ax);
$.removeCookie("loginAttempt",{path:"/"})
}var aq={account:av.accountNumber,company:av.company,firstName:av.firstName,lastName:av.lastName,logonId:av.logonId,loggedIn:av.loggedIn?"Yes":"No",memberId:av.memberId,userType:av.userType,userIsPunchOut:av.userIsPunchOut,userEmail:av.userEmail,country:"us",commerceLeg:aM.commerceLeg};
if(av.userType!=="G"){av.loggedIn="Yes";
var az="";
if(av.firstName!=undefined&&av.firstName!=""){az=",&nbsp;"+av.firstName
}if(az==""&&av.lastName!=undefined&&av.lastName!=""){az=","+av.lastName
}var aw=$("#manageAccountLabel").length>0&&$("#manageAccountLabel").val()!=undefined&&$("#manageAccountLabel").val()!=""?$("#manageAccountLabel").val():"Manage Your Account";
var aK=$("#manageAccountURL").length>0&&$("#manageAccountURL").val()!=undefined&&$("#manageAccountURL").val()!=""?$("#manageAccountURL").val():"/store1/account-dashboard";
$(".top_links_list").prepend("<li class='manageAccountTopLink remove_pipe'><a href="+aK+"><span class='sign'>"+aw+"</span></a></li>");
if($(".user_name").length===0){$(".top_links_list").prepend("<li class='user_name'><p>"+I18n.t("searchResults.welcome")+az+"!</p></li>")
}}$.extend(fisherDataLayer.userData,aq);
h.append(ay)
}function ao(aq){console.log("__initCartCount() called from  "+j);
console.dir(aq);
var ar=aq.cartCount;
if($.cookie("new_cart")){if($.cookie("CART_ID")&&$.cookie("CART_ID")!==""){var ap=$.cookie("CART_ID").split("_");
ar=ap[1]
}else{ar=0
}}if(ar>999){I.text("999+")
}else{I.text(ar)
}if(ar>0){$(".shopping_cart_quantity").removeClass("hide");
$(".empty_cart_modal .js_shopping_cart_count").text(ar)
}else{$(".shopping_cart_quantity").addClass("hide")
}if($("#qa_ecs_webreq_cart tbody").length>0){$(".empty_cart_modal .js_shopping_cart_webreq_count").text($("#qa_ecs_webreq_cart tbody").length)
}}function ag(ar){console.log("_getUserDetails() called from  "+j);
var aq=this;
var ap=ar.userDetails;
return ap
}function an(){try{if((typeof $.cookie("persistentUser")!="undefined")&&($.cookie("usertype")=="G")){$.ajax({url:"/libs/services/decryptCookie",type:"get",dataType:"json",success:function(aq,aw,au){var at=aq.firstName;
var ar=aq.lastName;
var av="";
if(at!=undefined&&at!=""){av=",&nbsp;"+at
}if(av==""&&ar!=undefined&&ar!=""){av=",&nbsp;"+ar
}$(".top_links_list").prepend("<li class='user_name'><p>"+I18n.t("searchResults.welcome")+av+"!</p></li>");
ad(aq)
},error:function(aq,at,ar){console.log("error condition generated from decrypt cookie service")
}})
}}catch(ap){console.log("Error in setPersistentDtls")
}}},navLocked:function(){return $(".homepageInputs #showNav").val()||false
},initNav:function(){var af=this;
var ag=af.navLocked();
var ac=fishersci.Common.getBreakpoint();
var ad="";
var ae="";
if(ag&&fishersci.Common.inDesktopBreakpoint()){af.lockNav()
}else{af.toggleNav()
}if(fishersci.Common.inDesktopBreakpoint()||fishersci.Common.inTabletBreakpoint()){if(fishersci.Common.inCQAuthoringMode()){k.on("click",function(){af.largeNavEvents(this);
af.setClickOverlay();
return false
})
}else{k.hover(function(){var ah=this;
window.clearTimeout(ae);
window.clearTimeout(u);
ad=setTimeout(function(){af.largeNavEvents(ah)
},N)
},function(){window.clearTimeout(ad);
window.clearTimeout(aa);
ae=setTimeout(function(){af.resetNavFlyouts()
},G)
})
}if(fishersci.Common.inDesktopBreakpoint()){$(".nav_link_item").each(function(){var aq=$(this);
if(aq.find(".design").length>0||aq.find(".dualCategory").length>0){var aj=aq.find(".flyout_body");
var at=[];
var av=(aq.find(".dualCategory").length>0?6:5);
aj.find(".block_links_list li").each(function(){at[at.length]=$(this).html()
});
var ao=at.length;
at.length=(av==6?Math.min(18,ao):Math.min(20,ao));
var al=at.length;
var ai=Math.min(Math.ceil(al/av),4);
var au=aj.find(".flyoutPromoBox").html();
var ah=aj.find(".viewAllLink").html();
var an=(au!=undefined);
var aw=(ah!=undefined);
var ar="";
if(an){ai++
}switch(ai){case 1:ar='<div class="columns large-12 flyoutCol"><ul class="flyoutContent">';
for(var am=0;
am<al;
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
aj.closest(".flyout_menu").addClass("oneColFlyout");
break;
case 2:ar='<div class="columns large-6 flyoutCol"><ul class="flyoutContent">';
for(var am=0;
am<(Math.min(av,al));
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
if(!an){ar+='<div class="columns large-6 flyoutCol"><ul class="flyoutContent">';
for(var am=av;
am<al;
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>"
}else{ar+='<div class="columns large-6 flyoutPromoArea">';
ar+=au;
ar+="</div>"
}aj.closest(".flyout_menu").addClass("twoColFlyout");
break;
case 3:ar='<div class="columns large-4 flyoutCol"><ul class="flyoutContent">';
for(var am=0;
am<av;
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
ar+='<div class="columns large-4 flyoutCol"><ul class="flyoutContent">';
for(var am=av;
am<(Math.min((av*2),al));
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
if(!an){ar+='<div class="columns large-4 flyoutCol"><ul class="flyoutContent">';
for(var am=(av*2);
am<al;
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>"
}else{ar+='<div class="columns large-4 flyoutPromoArea">';
ar+=au;
ar+="</div>"
}aj.closest(".flyout_menu").addClass("threeColFlyout");
break;
case 4:ar='<div class="columns large-3 flyoutCol"><ul class="flyoutContent">';
for(var am=0;
am<av;
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
ar+='<div class="columns large-3 flyoutCol"><ul class="flyoutContent">';
for(var am=av;
am<(av*2);
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
ar+='<div class="columns large-3 flyoutCol"><ul class="flyoutContent">';
for(var am=(av*2);
am<(Math.min((av*3),al));
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
if(!an){ar+='<div class="columns large-3 flyoutCol"><ul class="flyoutContent">';
for(var am=(av*3);
am<(Math.min((av*4),al));
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>"
}else{ar+='<div class="columns large-3 flyoutPromoArea">';
ar+=au;
ar+="</div>"
}aj.closest(".flyout_menu").addClass("fourColFlyout");
break;
case 5:ar='<div class="columns large-2 flyoutCol"><ul class="flyoutContent">';
for(var am=0;
am<av;
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
ar+='<div class="columns large-2 flyoutCol"><ul class="flyoutContent">';
for(var am=av;
am<(av*2);
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
ar+='<div class="columns large-2 flyoutCol"><ul class="flyoutContent">';
for(var am=(av*2);
am<(av*3);
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
ar+='<div class="columns large-2 flyoutCol"><ul class="flyoutContent">';
for(var am=(av*3);
am<(Math.min((av*4),al));
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>";
if(!an){ar+='<div class="columns large-2 flyoutCol"><ul class="flyoutContent">';
for(var am=(av*4);
am<(Math.min((av*5),al));
am++){ar+="<li>"+at[am]+"</li>"
}ar+="</ul></div>"
}else{ar+='<div class="columns large-2 flyoutPromoArea">';
ar+=au;
ar+="</div>"
}aj.closest(".flyout_menu").addClass("fiveColFlyout");
break
}if(aw){ar+='<div class="flyoutViewAll">'+ah+"</div>"
}aj.html(ar);
if(an){var ak=aj.find(".flyoutPromoArea");
var ap=0;
aj.find(".flyoutCol").each(function(){ap=Math.max(ap,$(this).height())
});
ak.css("min-height",Math.max(ak.height(),ap+84)+"px")
}}})
}}if(!fishersci.Common.inCQAuthoringMode()){$(".nav_link_item>a").each(function(){var ah=$(this);
if(!fishersci.Common.inDesktopBreakpoint()){ah.attr("href","#")
}else{if(ah.attr("href")=="#"){ah.click(function(){return false
})
}else{ah.css("cursor","pointer")
}}})
}if(fishersci.Common.getBreakpoint()==="mobile"){k.on("click",function(){af.smallNavEvents(this)
});
$(".flyout_heading .heading_link a").each(function(){var ah=$(this);
ah.parent().html(ah.text())
})
}$(".nav_link").each(function(){$this=$(this);
if(typeof $this.attr("id")!="undefined"){if($this.attr("id").substr(0,16)=="qa_Configurators"){$this.addClass("hide_in_mobile")
}}})
},renderI18n:w,toggleNav:function(){var ac=this;
V.find("header").on("click",function(){if(V.hasClass("active")){ac.resetNav()
}else{ac.activateNav()
}});
if(!fishersci.Common.inCQAuthoringMode()){if(fishersci.Common.inDesktopBreakpoint()){V.hover(function(){if(!V.hasClass("active")){window.clearTimeout(u);
aa=setTimeout(function(){ac.activateNav()
},N)
}},function(){window.clearTimeout(aa);
u=setTimeout(function(){ac.resetNav()
},G)
})
}}},activateNav:function(){var ac=this;
ac.resetAccountDropDown();
ac.resetSearchDropDown();
ac.setClickOverlay();
V.addClass("active")
},lockNav:function(){var ac=H.outerHeight();
V.addClass("active locked_nav");
$("#main, #main .content-par-main").css("min-height",ac);
if(fishersci.Common.inCQAuthoringMode()){$("#main, #main .content-par-main").css("min-height",ac*2)
}},largeNavEvents:function(ah){var an=this;
var ar=an.getNavDimensions(ah);
var ad=$(ah).offset().top;
var at=$(window).height();
var ae=$(window).scrollTop();
var al=ad-ae;
var ac=al+ar.$_FLYOUT.outerHeight();
var aq=at-ac;
var aj=ac>at;
an.resetNavFlyouts();
if(!ar.$_THIS.hasClass("active")){if(ar.breakpoint==="desktop"||ar.breakpoint==="tablet"){ar.$_THIS.addClass("active");
ar.$_FLYOUT.attr("style","");
if(R){var af=ar.$_THIS.find("input[name=enableFlyoutFeaturedNH]").val();
var ag=(typeof af!=="undefined"&&af==="true");
var ai=ag?$(".header_wrap").width():$(".general_tabs").width();
var ak=ag?70:40;
var ap=($(ar.$_THIS).closest(".navItem").offset().top-$(ar.$_THIS).find("a").offset().top)+"px";
var ao=$(ar.$_THIS).outerWidth()+1;
ar.nav_width=$(".genericTabContent0 .navItem").width();
ar.navOuterWidth=$(".genericTabContent0 .navItem").outerWidth();
ar.flyout_width=(ai-ar.nav_width);
var am={left:ao,width:ar.flyout_width-ak,top:ap};
ar.$_FLYOUT.css(am)
}else{ar.flyout_width=(ar.header_width-ar.nav_width)-(V.offset().left*2);
ar.$_FLYOUT.css({left:ar.nav_width})
}ar.$_FLYOUT.show()
}}},smallNavEvents:function(ag){var af=this;
var ae=af.getNavDimensions(ag);
af.resetNavFlyouts();
if(!ae.$_THIS.hasClass("active")){var ad=(R)?ae.$_THIS.closest(".tab.active"):H;
var ac=ad.outerWidth();
ad.animate({left:(-1*ac)},200);
ae.$_FLYOUT.show().css("left",ac);
$(".nav_link_item>.flyout_menu h3.flyout_heading").on("click",function(){ad.animate({left:0},200,function(){ae.$_FLYOUT.hide().removeAttr("style")
});
return false
})
}},getNavDimensions:function(ad){var ac={};
ac.$_THIS=$(ad);
ac.breakpoint=fishersci.Common.getBreakpoint();
ac.header_width=U.outerWidth();
ac.nav_width=V.outerWidth();
ac.nav_height=H.outerHeight();
ac.flyout_width=0;
ac.$_FLYOUT=ac.$_THIS.find(D);
ac.$_FLYOUTS=$(D);
ac.$_FLYOUT_BODY=ac.$_FLYOUT.find(b);
ac.navLinks_height=$(".tabs_wrap").find(".genericTabContent0").outerHeight();
return ac
},resetNavFlyouts:function(){$(D).removeAttr("style");
$(b).removeAttr("style");
H.removeAttr("style");
$(".navItem.active").removeClass("active");
k.removeClass("active")
},resetNav:function(){var ae=this;
var af=V.hasClass("locked_nav");
var ad=fishersci.Common.inDesktopBreakpoint();
var ac=true;
if(af){if(ad){ac=false
}}if(ac){console.log("RESET NAV");
V.removeClass("active");
ae.removeClickOverlay();
ae.resetNavFlyouts()
}},getCountryAddress:function(){$("a.contact_us").colorbox({height:"340px",width:"320px",href:function(){var ad=$(this).siblings(".country_node_path").val();
var ac="/content/fishersci/en_US/misc/appdata/websitecontactinfomodal.html?code="+ad+"";
return ac
}})
},isGuest:function(){return X
},setSiteSpecificCookies:function(){var ad=$.cookie(A);
var ai=$(".new-header");
f.find("li.active").removeClass("active");
if(typeof ad!=="undefined"&&ad!=null){if(!$("#isHomePage").length){f.find("a."+ad).parent().addClass("active")
}else{var ah=f.find("a."+ad);
ah.closest("li").addClass("active");
ah.closest("li").html('<h1 class="no_margin estore_header_label">'+ah.closest("li").html()+"</h1>")
}if(f.find("li.active").length<0){if(!$("#isHomePage").length){f.find("li").eq(0).addClass("active")
}else{var ah=f.find("li").eq(0);
ah.addClass("active");
ah.html('<h1 class="no_margin estore_header_label">'+ah.html()+"</h1>")
}}if(fishersci.Common.isNewHeader()){var ag=$("body");
if(ai.length>0&&ad!=="estore-scientific"){var ac=(ad==="estore-healthcare")?"healthcare":"scied";
var ae=ac+"-page";
var af=ac+"-body";
if(!ai.hasClass(ae)){ai.addClass(ae)
}if(!ag.hasClass(af)){ag.addClass(af)
}}}}else{f.find("li").eq(0).addClass("active");
$.cookie(A,"estore-scientific",{path:"/"})
}f.find("a").on("click",function(ak){ak.preventDefault();
var aj=$(this);
$.cookie(A,aj.attr("class"),{path:"/"});
window.location=aj.attr("href")
})
},setClickOverlay:function(ae){var ad=this;
if($(Y).length==0){$("body").append('<div class="'+C+'"></div>')
}var ac=$(Y);
ac.height($(window).height()).show();
ac.on("click",function(){ad.resetNav();
ad.resetNavFlyouts();
ad.resetAccountDropDown();
ad.resetSearchDropDown();
ad.removeClickOverlay()
})
},removeClickOverlay:function(){$(Y).hide()
},initAccountDropdown:function(){var ae=this;
var ac="";
var ad="";
var af=$(".signIn_text");
var ag=$(".dim-background");
af.click(function(){h.addClass("signingIn")
});
F.on("click",function(){ae.toggleAccountDropDown();
if(ag.hasClass("active")){ag.removeClass("active")
}else{ag.addClass("active")
}});
if(fishersci.Common.inDesktopBreakpoint()){h.hover(function(){window.clearTimeout(ad);
ac=setTimeout(function(){$(".login-popup").addClass("hide");
ae.activateAccountDropDown();
ag.addClass("active")
},N)
},function(){window.clearTimeout(ac);
ad=setTimeout(function(){if(!h.hasClass("signingIn")){ae.resetAccountDropDown();
ag.removeClass("active")
}},G)
})
}},languageCountyDropdown:function(){var ae=this;
var ac="";
var ad="";
a.on("click",function(){ae.toggleLanguageDropDownTab()
});
if(fishersci.Common.getBreakpoint()==="mobile"){d.on("click",function(){d.addClass("active");
ae.toggleLanguageDropDown()
})
}if(fishersci.Common.inDesktopBreakpoint()){$(".language_country_selection").hover(function(){window.clearTimeout(ad);
ac=setTimeout(function(){$(".language_country_selection").addClass("active")
},N)
},function(){window.clearTimeout(ac);
ad=setTimeout(function(){$(".language_country_selection").removeClass("active")
},G)
})
}Z.on("click",function(ag){var af=$(this);
ag.preventDefault();
$.cookie("locale",af.attr("data-locale"),{path:"/"});
store.set("SelectedItem","");
window.location=af.attr("href")
})
},toggleLanguageDropDownTab:function(){var ac=this;
console.log("Toggle Language Dropdown Tab");
if(a.hasClass("active")){ac.resetLanguageDropDownTab()
}else{ac.activateLanguageDropDownTab()
}},toggleLanguageDropDown:function(){var ac=this;
console.log("Toggle Language Dropdown");
if(O.hasClass("hide")){ac.activateLanguageDropDown()
}else{ac.resetLanguageDropDown()
}},toggleAccountDropDown:function(){var ac=this;
console.log("Toggle Account Dropdown");
if(h.hasClass("active")){ac.resetAccountDropDown()
}else{ac.activateAccountDropDown()
}},resetRecentlyViewedZindex:function(){var ac=$(".recently_viewed_products");
var ad=$(".account_information > .block_links_list");
if(ac.length>0&&ad.length>0){if(ad.offset().top+ad.height()>ac.offset().top){ac.css("z-index","900")
}else{ac.css("z-index","1200")
}}},resetLanguageDropDown:function(){var ac=this;
O.addClass("hide");
d.removeClass("active");
ac.removeClickOverlay();
ac.resetRecentlyViewedZindex()
},resetLanguageDropDownTab:function(){var ac=this;
a.removeClass("active");
ac.removeClickOverlay();
ac.resetRecentlyViewedZindex()
},resetAccountDropDown:function(){var ac=this;
h.removeClass("active");
ac.removeClickOverlay();
ac.resetRecentlyViewedZindex()
},activateLanguageDropDownTab:function(){var ac=this;
ac.resetNav();
ac.resetSearchDropDown();
a.addClass("active");
ac.setClickOverlay();
ac.resetRecentlyViewedZindex()
},activateLanguageDropDown:function(){var ac=this;
ac.resetNav();
ac.resetSearchDropDown();
O.removeClass("hide");
ac.setClickOverlay();
ac.resetRecentlyViewedZindex()
},activateAccountDropDown:function(){var ac=this;
ac.resetNav();
ac.resetSearchDropDown();
h.addClass("active");
ac.setClickOverlay();
ac.resetRecentlyViewedZindex()
},initSearchDropdown:function(){var ac=this;
r.on("click",function(){ac.toggleSearchDropDown()
})
},toggleSearchDropDown:function(){var ac=this;
if(E.hasClass("active")){ac.resetSearchDropDown()
}else{ac.activateSearchDropDown()
}},resetSearchDropDown:function(){var ac=this;
E.removeClass("active");
ac.removeClickOverlay()
},activateSearchDropDown:function(){var ac=this;
ac.resetNav();
ac.resetAccountDropDown();
E.addClass("active");
K.focus();
ac.setClickOverlay()
},showLoginPopUp:function(){var ae=sessionStorage.getItem("loginPopupShown");
if(typeof ae!=="undefined"&&ae!==null||($.cookie("usertype")!="G"&&typeof $.cookie("usertype")!=="undefined")||(typeof env!=="undefined"&&env.userType!=="G")){return
}sessionStorage.setItem("loginPopupShown","true");
fishersci.Common.getTranslationData("loginpopup",false);
var ad={};
if(LocalePath.getCountry().toUpperCase()=="US"){ad.registerURL="/shop/userregistration?enterWOAccNo=WO"
}else{if(LocalePath.getCountry().toUpperCase()=="CA"){ad.registerURL="/shop/register/user"
}else{ad.registerURL="/shop/registrationLanding.do"
}}var ac=Handlebars.templates["account/loginPopup"](ad);
$(".myAccount").append(ac);
$(".login-popup").on("click",".icon_Remove, .btn-sign-in",function(){$(".login-popup").addClass("hide")
});
setTimeout(function(){$(".login-popup").addClass("hide")
},10000)
},setBreakpointClass:function(){var ad=$(".new-header");
var ac=(fishersci.Common.inTabletBreakpoint())?"tablet":"mobile";
ac=ac+"-header";
ad.removeClass("tablet-header");
ad.removeClass("mobile-header");
if(!fishersci.Common.inDesktopBreakpoint()){ad.addClass(ac)
}},toggleDimBackground:function(){var ac=$(".dim-background");
if(ac.hasClass("active")){ac.removeClass("active")
}else{ac.addClass("active")
}},setUpMobileDrawer:function(){var af=$("#mobile-drawer");
var ad=$(".general_tabs");
var ae=ad.children().first();
var ac=Handlebars.templates["account/mobileAccountMenu"]();
ae.removeClass("hide_in_mobile");
af.append(ae);
fishersci.components.Tabs.initNewHeaderMobileEvents()
},initLastLevelItem:function(){var ac=$(".new-header-tabs").find(".lastLevelLink");
if(ac.length>0){ac.closest(".navItem").addClass("lastLevelItem")
}},backToMainFlyout:function(){var ac=$(".back-to-main");
var ad=$("#mobile-drawer");
if(ac.length>0){ac.click(function(ag){ag.stopPropagation();
ag.preventDefault();
var ae=$(this).closest(".tab");
ae.removeClass("active");
var af=$("a[href=#"+ae.attr("id")+"]").closest("li");
fishersci.components.Tabs.resetTabs(af);
if(ad.length>0){ad.addClass("active")
}})
}},alignTabFlyout:function(){var ac=$(".tabTitle");
if(ac.length>0){ac.each(function(){var af=$(this).offset().left;
var ad=$(this).parent("a").attr("href");
if($(ad).length>0&&$(ad).hasClass("tab-aligned")){var ae=35;
var ag=fishersci.Common.getPageOffsetMargin();
ag=(ag/2)+ae;
ag=Math.abs(af-ag);
$(ad).css("left",ag)
}})
}},updatePromoBlocksCTAArrow:function(){var ae=$(".new-header");
if(ae.length>0){var ad=ae.find(".promotionBlocks");
if(ad.length>0){var ac=ad.find(".icon_Arrow_Right2");
if(ac.length>0){ac.removeClass("icon_Arrow_Right2");
ac.addClass("icon_Arrow_Right3")
}}}},initCommonHeaderData:function(af){var ae=this;
if(U.length){h.show();
this.getCommonHeaderData(af);
var ad=fishersci.Common.inDesktopBreakpoint()===true?"815px":"620px";
$(".language_country_selection .service_link").colorbox({width:ad,href:function(){var ah=$('input[name="countryModelPageURL"]').val();
return ah+".html"
},onClosed:function(){if($("#cboxClose").hasClass("country_modal_close")){$("#colorbox").find(".country_modal_close").removeClass("country_modal_close")
}}},function(){$("#cboxClose").addClass("country_modal_close")
});
if(fishersci.Common.inMobileBreakpoint()){$("#countryListModal").colorbox({width:"320px",href:"/content/fishersci/eu/en_GB/country-language-modal.html"})
}ae.initNav();
ae.initAccountDropdown();
ae.initSearchDropdown();
ae.languageCountyDropdown();
ae.setSiteSpecificCookies();
$(window).on("scroll",function(ai){var ah=$("html").scrollTop();
if(ah>39){$("body").addClass("sticky-head");
fishersci.components.GlobalSearch.searchInputWidthResize()
}else{$("body").removeClass("sticky-head");
fishersci.components.GlobalSearch.searchInputWidthResize()
}if(ah>43&&$("body").hasClass("sticky-head")){$("body").addClass("sticky-nav");
fishersci.components.GlobalSearch.searchInputWidthResize();
if(!ae.isSingleHeaderLink()){$(".new-header").addClass("multipleHeaderLinks")
}}else{$("body").removeClass("sticky-nav");
$(".new-header").removeClass("multipleHeaderLinks");
fishersci.components.GlobalSearch.searchInputWidthResize()
}if(fishersci.Common.isNewHeader()){fishersci.components.GlobalSearch.adjustTypeAheadWidth()
}});
function ac(){$("#userid, #logonPassword").on("keydown",function(ah){if(ah.which==13){fishersci.Login.detectLogin()
}});
$("#userid").focus()
}var ag=fishersci.Common.getFullURL();
$(document).on("click",".btn-sign-in, .sign-in-modal",function(){var ak=$(this);
if($.cookie("new_users_ui")){z="/store1/users/service/loginmodal"
}if(ak.hasClass("sign-in-modal")&&!X){return true
}$(".callout-container").remove();
if(typeof Common!=="undefined"){Common.callOutOpen=""
}var aj="";
var ai=ak.attr("href");
$.cookie("loginRequestedPage",(ak.hasClass("sign-in-modal")?ai:""),{path:"/"});
if(window.location.protocol.toLowerCase().indexOf("s")<0){if(ag.indexOf("modal=login")<0){aj=((ag.indexOf("?")>-1)?"&":"?")+("modal=login")
}var ah=(fishersci.Common.getFullURL().toLowerCase().indexOf("localhost")>-1)?m:S;
window.location.href=(ag.replace(/http:/gi,ah)+aj)
}else{$.colorbox({href:z,width:"335px"},ac)
}return false
});
if(ag.indexOf("modal=login")>-1){$.colorbox({href:z,width:"335px"},ac)
}ae.equalizeFlyoutColumns()
}},getInitStatus:function(){return l
}}
}());
NS("fishersci.components").GlobalSearch=(function(){var e="GlobalSearch.js",j=$(".global_search"),f,g,o,p,k,m,d,a,h,n,l,b;
return{init:function(){var q=this;
q.initVariables();
q.initTypeAheadOptimization();
if($.cookie("viewselector")=="b"&&!!window.focusAreaConfig&&!!window.focusAreaConfig.items&&window.focusAreaConfig.items.length>0){q.initFcousAreaItems();
fishersci.components.GlobalSearch.searchInputWidthResize()
}if(j.length){console.log("init() called from  "+e);
q.doTypeAhead();
q.initSearch();
d.on("click",function(){if($.cookie("viewselector")=="b"&&!!window.focusAreaConfig&&!!window.focusAreaConfig.items&&window.focusAreaConfig.items.length>0){var r=$(this).closest("form").find("#SearchBox").val();
fishersci.components.GlobalSearch.doSubmitForm(r)
}else{k.closest(g).submit()
}})
}},initVariables:function(){f="#SearchBox";
g="#search_form";
o=".search_fields";
p="#search_button";
k=$(f);
m=$(g);
d=$(p);
a=$(o);
h=$("#SCSearchTerm");
l=LocalePath.getCountry();
b=LocalePath.getLanguage();
n=["fisherCatNum","supplierCatNum","casNum"]
},initFcousAreaItems:function(){var C=C||{},s={},w,L,u,v="all-categories",Q,J,z=[],N,I,B,V,r,U,M=window.focusAreaConfig||{},G=window.location.href,y,E,S,H,q,P,R,D,T,A;
C.items=C.items||{};
C.itemSelector=function(){function aa(ac){return ac.find(".focus-area-selector")
}function Y(ad,ac){H=$("<select class='focus-area-selector temp' id='focusarea-dropdown'></select>");
$("#searchAll").addClass("hide");
H.insertAfter(k);
if(typeof H.selectmenu("instance")==="undefined"){H.selectmenu({select:function(af,ae){af&&af.preventDefault();
A=M.items[this.selectedIndex];
store.set("search_url",A.searchURL);
store.set("type_ahead_url",A.typeAheadURL);
autoCompleteCache=[];
fishersci.components.GlobalSearch.searchInputWidthResize()
}})
}return H
}function Z(ac,ad){return ac.find("option[value='"+ad.id+"']").length>0
}function ab(ac,ad){D=ac.find("option[value='"+ad+"']");
D.remove()
}function X(ac,ad){R=$("<option value='"+ad.id+"'>"+ad.name+"</option>");
if(!ad.group){ac.append(R)
}else{T=W(ac,ad.group);
T.append(R)
}}function W(ac,ad){T=ac.find("optgroup[label='"+ad+"']");
if(T.length==0){T=$("<optgroup label='"+ad+"'></optgroup>");
ac.append(T)
}return T
}return function(){P=m;
return{_selectorExists:function(){q=aa(P);
return q.length>0
},_createSelector:function(ad,ae,ac){Y(P,ad,ae,ac)
},_addToSelector:function(ac){if(!ac){return
}q=aa(P);
if(q.length>0){if(!Z(q,ac)){X(q,ac)
}}},_removeFromSelector:function(ac){q=aa(P);
ab(q,ac)
},_setActive:function(ac){q=aa(P);
q.val(ac).selectmenu("refresh");
A=M.items[q.prop("selectedIndex")];
store.set("search_url",A.searchURL);
store.set("type_ahead_url",A.typeAheadURL)
}}
}
}();
focusAreaItem=function(ad,ac,aa,X,ab,W,Y,Z){return function(ae){var af={id:ad,name:ac,group:ab,actionPath:aa,typeAheadUrl:X,include:W,exclude:Y,activation:Z};
ae=$.extend(true,af,ae);
if(!!ae.include){ae.include=new RegExp(ae.include,"i")
}if(!!ae.exclude){ae.exclude=new RegExp(ae.exclude,"i")
}if(!!ae.activation){ae.activation=new RegExp(ae.activation,"i")
}return{id:ae.id,name:ae.name,group:ae.group,include:ae.include,exclude:ae.exclude,activation:ae.activation,isIncluded:function(ah){var ai=true,ag=false;
if(this.include){ai=this.include.test(ah)
}if(this.exclude){ag=this.exclude.test(ah)
}return ai&&!ag
}}
}
};
C.items.allSources=new focusAreaItem(v,"All Categories","//"+window.location.hostname+"/"+l+"/"+b+"/catalog/search/products?keyword={keyword}","//"+window.location.hostname+"/"+l+"/"+b+"/catalog/service/typeahead/suggestion?term={keyword}");
var F={_addItem:function(W){if(W&&W.isIncluded(G)){if(s&&W.id){s[W.id]=W;
if(F.itemSelector){if(!F.itemSelector._selectorExists()){F.itemSelector._createSelector(function(X){F._setActiveItem(X)
})
}F.itemSelector._addToSelector(W)
}}}},_setActiveItem:function(W){if(s&&W){if(!!s[W]){L=s[W];
if(F.itemSelector){F.itemSelector._setActive(W)
}}}},_removeItem:function(X){if(!s||!X){return
}V=Object.keys;
if(!V){V=function(aa){var Z=[];
for(var Y in aa){if(aa.hasOwnProperty(Y)){Z.push(Y)
}}return Z
}
}delete s[X];
F.itemSelector._removeFromSelector(X);
var W=V(s);
if(L.id==X){F._setActiveItem(W[0])
}},_setMatchedRules:function(X){U=false;
if(X&&X.activation&&X.isIncluded(G)){X.matchedRules=[];
r=X.activation.source.split("|");
for(var W=0;
W<r.length;
W++){if(r[W]!=""){r[W]=new RegExp(r[W],"i");
if(r[W].test(G)){X.matchedRules.push({rule:r[W]});
U=true
}}}}return U
},_indexItems:function(W){for(var X=0;
X<W.length;
X++){W[X].rank=X;
if(W[X].matchedRules.length>1){W[X].matchedRules.sort(function(Z,Y){return;
Y.endIndex-Z.endIndex||Y.rule.source.length-Z.rule.source.length||Y.precedenceScore-Z.precedenceScore||Z.rank-Y.rank
})
}}W.sort(function(Z,Y){return;
Y.matchedRules[0].endIndex-Z.matchedRules[0].endIndex||Y.matchedRules[0].rule.source.length-Z.matchedRules[0].rule.source.length||Y.matchedRules[0].precedenceScore-Z.matchedRules[0].precedenceScore||Z.rank-Y.rank
});
return W[0]
}};
F.itemSelector=C.itemSelector();
u=C.items.allSources();
F._addItem(u);
Q=u.id;
I=G.indexOf("nav=");
if(I!=-1){N=G.substring(I).split("&")[0]+"&"
}if(!!M&&!!M.items&&M.items.length>0){for(var K=0;
K<M.items.length;
K++){w=M.items[K];
if(w.id==u.id){F._setActiveItem(Q);
F._removeItem(u.id)
}var O=(new focusAreaItem(w.id||("item_"+K),w.title,w.searchURL,w.typeAheadURL,w.group,w.include,w.exclude,w.activation))();
F._addItem(O);
U=F._setMatchedRules(O);
if(U){z.push(O)
}else{if(G.indexOf(w.searchURL)!==-1){Q=O.id
}}B=w.searchURL+"&";
if(!!N&&B.indexOf(N)!=-1){Q=O.id
}}if(z[0]){J=F._indexItems(z);
Q=J.id
}}F._setActiveItem(Q);
return F
},doTypeAhead:function(){if(!k.length){return false
}function C(G){if(G.statusCode==200){var F=[];
if(typeof(G.topSearchTerms)!="undefined"){F=F.concat(B({data:G.topSearchTerms,cat:"mostPopular",valKey:"dimVal",groupTitle:false}))
}if(typeof(G.categories)!="undefined"){F=F.concat(B({data:G.categories,cat:"prodCat",groupTitle:G.typeaheadLabels.categories,valKey:"dimVal"}))
}if(typeof(G.productName)!="undefined"){F=F.concat(B({data:G.productName,cat:"prodName",groupTitle:G.typeaheadLabels.productName}))
}if(typeof(G.fisher_Catalog_Number)!="undefined"){F=F.concat(B({data:G.fisher_Catalog_Number,cat:"fisherCatNum",groupTitle:G.typeaheadLabels.fisher_Catalog_Number}))
}if(typeof(G.supplier_Catalog_Number)!="undefined"){F=F.concat(B({data:G.supplier_Catalog_Number,cat:"supplierCatNum",groupTitle:G.typeaheadLabels.supplier_Catalog_Number}))
}if(typeof(G.casNumber)!="undefined"){F=F.concat(B({data:G.casNumber,cat:"casNum",groupTitle:G.typeaheadLabels.casNumber}))
}if(typeof(G.chemical_Formula)!="undefined"){F=F.concat(B({data:G.chemical_Formula,cat:"chemFormula",groupTitle:"Chemical Formula "}))
}if(typeof(G.supplier_Name)!="undefined"){F=F.concat(B({data:G.supplier_Name,cat:"supplierName",groupTitle:G.typeaheadLabels.supplier_Name,valKey:"dimVal"}))
}var E=10;
F=$.map(F,function(H){if(E){if(H.id!=-1){E--
}return H
}return null
});
q[u]=F;
return F
}}function B(E){var G=E.valKey?E.valKey:"value",F=$.map(E.data,function(I){var J=$.trim(I[G]),H=I.dimensionId?""+I.dimensionId:"0";
if($.inArray(E.cat,n)>-1&&!J.replace(/-/g,"").match(new RegExp("^"+u.replace(/-/g,""),"i"))){return null
}else{return{label:J,value:J,id:$.trim(H),cat:E.cat}
}});
if(F.length>0){if(E.groupTitle!=false){F.unshift({label:E.groupTitle,value:u,id:"-1",cat:E.cat})
}}return F
}function r(){return false
}var u="",D="RE_SC",q={},v,s,w=".typeahead-results",A=(fishersci.Common.isNewHeader()?w:null);
if(window.location.hostname.indexOf("local")!="-1"){v="//dev.fishersci.com/"+l+"/"+b+"/catalog/service/typeahead/suggestion/suggestionJsonpLocal";
s="jsonp"
}else{v="//"+window.location.hostname+"/"+l+"/"+b+"/catalog/service/typeahead/suggestion";
s="json"
}$(f).autocomplete({source:function(G,F){u=$.trim(G.term);
z=true;
if(typeof(q[u])!="undefined"){F(q[u])
}else{if(u.length>2){var H=null;
if(typeof(s)=="string"&&s=="jsonp"){H="jsoncallback"
}if($.cookie("viewselector")=="b"&&!!window.focusAreaConfig&&!!window.focusAreaConfig.items&&window.focusAreaConfig.items.length>0){var E=store.get("type_ahead_url");
v=E.replace(/{countryCode}/,l).replace(/{langCode}/,b).replace(/term={keyword}/,"")
}$.ajax({url:v,dataType:s,jsonp:H,data:{term:G.term,type:"fisher",count:10,clientId:"",estore:D},success:function(J){if(typeof(J)==="object"&&J!==null){var I=C(J);
F(I)
}}})
}}},minLength:3,select:function(E,F){if(F.item.id!="-1"){k.val(F.item.value);
r();
if(F.item.cat){k.parent().append('<input type="hidden" name="typeAheadCat" value="'+F.item.cat+'" />')
}k.val(F.item.value);
if($.cookie("viewselector")=="b"&&!!window.focusAreaConfig&&!!window.focusAreaConfig.items&&window.focusAreaConfig.items.length>0){fishersci.components.GlobalSearch.doSubmitForm(F.item.value)
}else{k.closest(g).submit()
}}},appendTo:A,open:function(E,F){$(".ui-menu-item:last",".ui-autocomplete").addClass("searchFor")
},delay:300}).data("ui-autocomplete")._renderItem=function(F,I){console.log("renderItem function has been called");
if(I.id!="-1"){y=!y;
if(y){var J="even"
}var E=new RegExp("[-.*+?|^${}()[\\]\\/\\\\]","g");
var H=this.term.replace(E,"\\$&");
H=H.replace(/[\s]+/g,"|");
re=new RegExp("("+H+")","gi");
t=I.label.replace(re,"<strong>$1</strong>");
return $('<li class="ta-entry legacy"></li>').data("item.autocomplete",I).append($("<a />").html(t)).addClass(J).appendTo(F)
}else{y=false;
var G=$(document.createElement("span"));
G.html(I.label);
var K=$(document.createElement("div"));
K.addClass("ta-category");
if(z){K.addClass("ta-first");
z=false
}return $('<li class="ta-header"></li>').data("item.autocomplete",I).append(K.append(G)).appendTo(F)
}};
$(f).keydown(function(E){_SELF=this;
if(E.keyCode==13){if($.cookie("viewselector")=="b"&&!!window.focusAreaConfig&&!!window.focusAreaConfig.items&&window.focusAreaConfig.items.length>0){fishersci.components.GlobalSearch.doSubmitForm(_SELF.value)
}}});
var z=true;
var y=false;
$("#selectedIndustry").change(function(){var E=$(this).prop("selectedIndex");
selectIndustry(E);
fishersci.components.GlobalSearch.searchInputWidthResize()
})
},doSubmitForm:function(r){var s=store.get("search_url"),q;
r=$.trim(r);
r=encodeURI(r).replace(/[!'(),"*]/gi,"").replace(/\%20/g,"+");
q=s.replace(/{countryCode}/,l).replace(/{langCode}/,b).replace(/{keyword}/,r);
$.cookie("searchTerm",r,{path:"/"});
if(s.indexOf("keyword")==-1){q=q.replace(/\/$/,"")+"/"+r
}m.submit(function(u){u.preventDefault()
});
window.location.href=q;
return false
},initSearch:function(){k.blur(function(){a.removeClass("active")
});
if($.cookie("searchTerm")!=null&&location.pathname.indexOf("home")==-1){setTimeout(function(){k.val($.cookie("searchTerm"))
},0);
k.on("change",function(){$.cookie("searchTerm",k.val(),{path:"/"})
})
}},initTypeAheadOptimization:function(){var r=$("#typeahead-opt");
var v=$(".typeahead-default-text");
var q=$(".cancel-search");
var u=$(document);
var s=this;
if(r.length>0){k.click(function(){if(r.hasClass("hide")){r.removeClass("hide")
}if(fishersci.Common.inMobileBreakpoint()){j.addClass("search-focused");
s.activateMobileSearchMode()
}});
u.click(function(z){z.stopPropagation();
var w=(z.target);
var y=$(w);
if(y.closest("#typeahead-opt").length==0){if(y.closest(".searchForm").length==0&&!r.hasClass("hide")){r.addClass("hide")
}}});
k.keydown(function(w){if(w.keyCode===27){if(!r.hasClass("hide")){r.addClass("hide")
}}});
k.on("input",function(){var y=$(this).val().length;
var w=(y>2)?"hidden":"unset";
v.css("visibility",w)
});
k.focus(function(){var w=$(".ui-autocomplete");
if(w.css("display")==="none"){v.css("visibility","unset")
}});
if(fishersci.Common.inMobileBreakpoint()){q.click(function(w){w.preventDefault();
w.stopPropagation();
s.deactivateMobileSearchMode()
})
}}},adjustTypeAheadWidth:function(){var s=$(".ui-autocomplete");
var r=$(".typeahead-results");
var q=r.width();
if(s.css("display")!=="none"){s.width(q)
}},setSiteSearchPlaceholder:function(){var u=window.siteSearchPlaceholder||I18n.t("searchResults.placeholder");
if(typeof(u)==="undefined"){console.warn("setSiteSearchPlaceholder() - The Placeholder variable is undefined. Forcing the function exit. This code won't be executed.");
return
}var q;
var r;
var s=$("#SearchBox");
if(s.length>0){q=u.replace(",","").split(" ");
r=q.slice(0,3).join(" ");
r=r+"...";
if(fishersci.Common.inMobileBreakpoint()||fishersci.Common.inTabletBreakpoint()){s.attr("placeholder",r)
}else{s.attr("placeholder",u)
}}},activateMobileSearchMode:function(){var r=$(".new_header_top");
var q=$("#burger-menu");
var v=$(".logo-wrapper");
var u=$(".cartlet-wrapper");
var s=$("#SearchBox");
r.addClass("hide");
q.addClass("hide");
v.addClass("hide");
u.addClass("hide");
s.attr("placeholder","")
},deactivateMobileSearchMode:function(){var r=$(".new_header_top");
var q=$("#burger-menu");
var w=$(".logo-wrapper");
var v=$(".cartlet-wrapper");
var s=$("#typeahead-opt");
var u=this;
r.removeClass("hide");
q.removeClass("hide");
w.removeClass("hide");
v.removeClass("hide");
j.removeClass("search-focused");
s.addClass("hide");
u.setSiteSearchPlaceholder()
},searchInputWidthResize:function(){$(".search_term_new.ui-autocomplete-input").removeAttr("style");
setTimeout(function(){var r=$(".searchForm").width();
var q=$("#focusarea-dropdown-button").width();
var s=38+16;
$(".search_term_new.ui-autocomplete-input").width(r-(q+s))
},50)
}}
}());
NS("fishersci.components").PromoBar=(function(){var a="PromoBar.js";
return{init:function(){var b=this;
console.log("init() called from  "+a);
if($.cookie("viewselector")=="b"&&!!window.globalHeaderPromoConfig){$("#promoBarContent").empty();
b.initGlobalHeaderPromo()
}},initGlobalHeaderPromo:function(){if(window.globalHeaderPromoConfig){for(var f in globalHeaderPromoConfig.Promos){var g=globalHeaderPromoConfig.Promos[f];
var d=g.URL;
var k=g.Text;
var j=g.LinkText;
if(k){$("body").addClass("has-promo-bar");
var e=new Date();
if(g.startdate&&g.startdate>e){continue
}if(g.enddate&&g.enddate<e){continue
}var b;
if(d){b=$('<a class="promo-bar-snippet" href="'+d+'"></a>')
}else{b=$('<span class="promo-bar-snippet" href=""></span>')
}var l=$("<strong>"+k+"</strong> ");
if(d){j+="<em>›</em>"
}var h=$("<span> "+j+"</span>");
l.appendTo(b);
h.appendTo(b);
b.appendTo($("#promoBarContent"));
$("#promoBar").show()
}return true
}}return false
}}
}());
NS("fishersci.components").Footer=(function(){var a=$("#footer"),e="Footer.js",b,d;
return{init:function(){console.log("init() called from  "+e);
if(a.length>0){var f=this;
f.initVariables();
f.offerSignUp()
}},initVariables:function(){b=$('[name="emailAddress"]');
d=$('[name="offerSubmit"]')
},offerSignUp:function(){console.log("offerSignUp called from "+e);
var f=this;
if(b.length>0){d.on("click",f.doSubmitOffer)
}},doSubmitOffer:function(){console.log("doOfferSubmit called from "+e);
if(!fishersci.Common.validateEmail({email:b.val()})){fishersci.Common.doMessages({el:d,msg:"TO DO - error msgs",msgId:"qa_offerEmailError",msgPosition:"bottom"})
}else{fishersci.Common.doMessages({el:d,msgId:"qa_offerEmailError",removeExisting:true,removeAndReturn:true});
$.ajax({})
}}}
}());
NS("fishersci.components").Cartlet=(function(){var f="Cartlet.js",l=$("#cartletDrop"),o,h,b,a,e,n,g,k,d,j,m;
return{init:function(){if(l.length){var p=this;
p.initVariables();
$(document).click(function(q){l.attr("data-clicked",0);
p.toggleCartlet("off")
});
h.hover(function(){setTimeout(function(){$(".cartletRow .qty-details").each(function(q,r){$(this).position({my:"left+80 top-11",of:$(this).prev().find(".uom_label").css("max-width","110px")});
$(this).css("visibility","visible")
})
},0);
$(".login_dropdown").parent().parent().removeClass("active");
p.toggleCartlet("on");
fisherDataLayer.uiLabel="Hover Cartlet";
fisherDataLayer.customLinkGeneral="UI Event captured: Hover Cartlet";
_satellite.track("trackUiGeneral")
},function(){p.toggleCartlet("off")
});
a.click(function(q){q.stopPropagation();
l.attr("data-clicked",1);
p.toggleCloseButton(l,"on")
});
l.click(function(q){q.stopPropagation()
});
l.delegate(".closeButton span,.closeButton img","click",function(){l.attr("data-clicked",0);
p.toggleCartlet("off")
});
p.cacheBustCartletLinks();
$("#shopping_cart_icon_cartlet").on("click",function(){fisherDataLayer.uiLabel="View Cart from Cart Icon";
fisherDataLayer.customLinkGeneral="UI Event captured: View Cart from Cart Icon";
_satellite.track("trackUiGeneral")
})
}},initVariables:function(){o=".shopping_cart";
h=$(o);
b=".shopping_cart_quantity";
a=$(b);
e="Please wait...";
n="view cart";
g="/etc/designs/fishersci/images/";
k=g+"icons/closeoverlay.gif";
d="/shop/jsoncartlet";
j="/shop/orderdisplayview?storeId=10652&langId=-1&shopCart=true&stepNumber=0";
m="/shop/checkoutcontrollercmd?shopCart=true&orderType=FISHER&storeId=10652&langId=-1"
},cacheBustCartletLinks:function(){var s=$("#shopping_cart_icon_cartlet");
var q=s.attr("href");
var p=fishersci.util.QueryString.update(q,"nocache",Date.now());
var r=[];
if($.cookie("new_cart")){p="/store1/cart/?language="+LocalePath.getLanguage()+"&countryCode="+LocalePath.getCountry().toUpperCase()
}s.attr("href",p)
},toggleCartlet:function(p){var z=this,A=l.attr("data-refresh")==0?false:true,r="",w="",B,s,q,y,u=LocalePath.getLanguage(),v=LocalePath.getCountry();
if(p=="on"){$(".header_main .shopping_cart.hide_in_mobile").addClass("active");
if(typeof(cartletTimer)!="undefined"){window.clearTimeout(cartletTimer);
delete cartletTimer
}if(A){r=$(document.createElement("div")).attr("id","cartletLoading"),w=$(document.createElement("img")).attr({id:"loadingImg",src:g+"icons/loader.gif"});
r.append(w,e);
data={storeId:"10652",landId:"-1"};
LBCIDCookie="";
if($.cookie("new_cart")){q="/store1/cartlet/?language="+u+"&countryCode="+v.toUpperCase()+"&nocache="+(new Date().getTime())
}else{q=d+"?nocache="+(new Date().getTime())
}if(LBCIDCookie!="undefined"&&LBCIDCookie!=""){data.LBCID=LBCIDCookie
}$.ajax({url:q,data:data,success:function(E){if($.cookie("new_cart")){z.renderNewCartlet(E);
return
}var D=(LocalePath.getCountry()?LocalePath.getCountry():false);
if(D&&(D==="us"||D==="ca")){var C;
if(typeof($("input[name=displayMode]"))!=="undefined"&&$("input[name=displayMode]").val()==="b"){C=z.populateCartlet_new(E)
}else{C=z.populateCartlet(E)
}l.html(C)
}else{B=jQuery.parseJSON(E);
if(B.extraitems){B.basketitems=B.basketitems.concat(B.extraitems)
}s=B.basketitems.length;
if(s>3){B.additionalItemCount=s-3
}B.timeStamp=Date.now();
htmlContent=Handlebars.templates["cartlet/cartlet"](B);
l.html(htmlContent)
}l.attr("data-refresh",0);
if(l.attr("data-clicked")=="1"){z.toggleCloseButton(l,"on")
}},error:function(C,E,D){console.log("Error occured");
console.log("Text Status = "+E);
console.log("Error Thrown = "+D)
}})
}l.show()
}else{if(l.attr("data-clicked")!=1){cartletTimer=window.setTimeout(function(){$(".header_main .shopping_cart.hide_in_mobile").removeClass("active");
l.fadeOut(function(){z.toggleCloseButton(l,"off")
});
delete cartletTimer
},250)
}}},renderNewCartlet:function(p){l.html(p);
l.attr("data-refresh",0);
if(l.attr("data-clicked")=="1"){_SELF.toggleCloseButton(l,"on")
}},toggleCloseButton:function(q,u){if(u==="on"){var s=$(document.createElement("div")).addClass("closeButton").html($(document.createElement("span")).text("close").attr("id","qa_cartletCloseButtonTxt")),p=$(document.createElement("div")).addClass("clear").html($(document.createElement("hr"))),r=$(document.createElement("img")).attr({src:k,id:"qa_cartletCloseButtonImg"});
s.append(r,p);
if(!$(".closeButton",q).length){q.prepend(s)
}}else{$(".closeButton",q).remove()
}},populateCartlet:function(w){console.log(">>>Header Display Mode: LEGACY Header");
var B=this,A=$(document.createElement("p")).attr("id","qa_noItems").text("Error retrieving cart data"),v=0;
if(typeof(w.storeId)!="undefined"){var r,u=$(document.createElement("ul")).attr("id","cartletItems"),z=j,y=m+"&orderId=",C='<p><a class="float_right cartButton btn primary" href="'+z+'&fromCartlet=Go%20To%20Shopping%20Cart" id="qa_cartletCartButton">'+I18n.t("cartlet.viewCart")+"</a></p>",D=$('<p class="cartletSubtotal"></p>').html('<span class="float_left" id="qa_cartletSubtotalLabel">'+I18n.t("cartlet.subtotal")+':</span> <span class="float_right" id="qa_cartletSubtotal">$'+B.formatCurrency(w.cartTotal)+"</span>"),H='<p class="bold cartletMaxMsg" id="qa_cartletMaxMsg">'+I18n.t("cartlet.recentAdded")+"</p>",F=(w.luminexGroup.items).length+(w.genomicsGroup.items).length+(w.webreqGroup.items).length+(w.regularGroup.items).length+(w.oligosGroup.items).length,s="";
if(F<1){A=$('<div class="cartlet-display"><input type="hidden" name="headerDisplay" id="headerDisplay" value="legacyHeader" /><p id="qa_noItems">'+I18n.t("cartlet.cartEmpty")+"</p></div>");
$("#cartCount").text("0")
}else{A=$('<div class="cartlet-display"><input type="hidden" name="headerDisplay" id="headerDisplay" value="legacyHeader" /></div>');
var G=null;
if((w.webreqGroup.items).length){$.each(w.webreqGroup.items,function(){u.append(B.createItemRow(this,"webreq",v));
v++
});
r=w.webreqGroup.items[0].orderId;
G=y.replace("FISHER","WEBREQ")
}if((w.oligosGroup.items).length){$.each(w.oligosGroup.items,function(){u.append(B.createItemRow(this,"oligos",v));
v++
});
r=w.oligosGroup.items[0].orderId;
G=y
}if((w.genomicsGroup.items).length){$.each(w.genomicsGroup.items,function(){u.append(B.createItemRow(this,"genomics",v));
v++
});
r=w.genomicsGroup.items[0].orderId;
G=y
}if((w.luminexGroup.items).length){$.each(w.luminexGroup.items,function(){u.append(B.createItemRow(this,"luminex",v));
v++
});
r=w.luminexGroup.items[0].orderId;
G=y
}if((w.regularGroup.items).length){var p=0;
var q=false;
$.each(w.regularGroup.items,function(I){u.append(B.createItemRow(this,"regular",v));
v++;
if(w.regularGroup.items[I].outOfStock){p++
}});
r=w.regularGroup.items[0].orderId;
G=y
}y=G;
$(".cartletRow:even",u).addClass("alt");
var E=$("#ecs-cart-has-errors").is(":visible");
if(v>3){s=$('<div class="display-table-cell qty_hidden_in_cart"><span class="font_icon icon_Plus"></span><span class="qty_hidden">'+((v)-3)+"</span> "+I18n.t("cartlet.additionalProducts")+"</div>")
}A.append(H,u,s,D,C)
}}return A
},populateCartlet_new:function(w){console.log(">>>Header Display Mode: NEW Header");
var B=this,A=$(document.createElement("p")).attr("id","qa_noItems").text("Error retrieving cart data"),v=0;
if(typeof(w.storeId)!="undefined"){var r,u=$(document.createElement("ul")).attr("id","cartletItems"),z=j,y=m+"&orderId=",C='<p><a class="float_right cartButton btn primary" href="'+z+'&fromCartlet=Go%20To%20Shopping%20Cart" id="qa_cartletCartButton">'+I18n.t("cartlet.viewCart")+"</a></p>",D=$('<p class="cartletSubtotal"></p>').html('<span class="float_left" id="qa_cartletSubtotalLabel">'+I18n.t("cartlet.subtotal")+':</span> <span class="float_right" id="qa_cartletSubtotal">$'+B.formatCurrency(w.cartTotal)+"</span>"),H='<p class="bold cartletMaxMsg" id="qa_cartletMaxMsg">'+I18n.t("cartlet.recentAdded")+"</p>",F=(w.luminexGroup.items).length+(w.genomicsGroup.items).length+(w.webreqGroup.items).length+(w.regularGroup.items).length+(w.oligosGroup.items).length,s="";
if(F<1){A=$('<div class="cartlet-display"><input type="hidden" name="headerDisplay" id="headerDisplay" value="b" /><p id="qa_noItems">'+I18n.t("cartlet.cartEmpty")+"</p></div>");
$("#cartCount").text("0")
}else{A=$('<div class="cartlet-display"><input type="hidden" name="headerDisplay" id="headerDisplay" value="b" /></div>');
var G=null;
if((w.webreqGroup.items).length){$.each(w.webreqGroup.items,function(){u.append(B.createItemRow(this,"webreq",v));
v++
});
r=w.webreqGroup.items[0].orderId;
G=y.replace("FISHER","WEBREQ")
}if((w.oligosGroup.items).length){$.each(w.oligosGroup.items,function(){u.append(B.createItemRow(this,"oligos",v));
v++
});
r=w.oligosGroup.items[0].orderId;
G=y
}if((w.genomicsGroup.items).length){$.each(w.genomicsGroup.items,function(){u.append(B.createItemRow(this,"genomics",v));
v++
});
r=w.genomicsGroup.items[0].orderId;
G=y
}if((w.luminexGroup.items).length){$.each(w.luminexGroup.items,function(){u.append(B.createItemRow(this,"luminex",v));
v++
});
r=w.luminexGroup.items[0].orderId;
G=y
}if((w.regularGroup.items).length){var p=0;
var q=false;
$.each(w.regularGroup.items,function(I){u.append(B.createItemRow(this,"regular",v));
v++;
if(w.regularGroup.items[I].outOfStock){p++
}});
r=w.regularGroup.items[0].orderId;
G=y
}y=G;
$(".cartletRow:even",u).addClass("alt");
var E=$("#ecs-cart-has-errors").is(":visible");
if(v>3){s=$('<div class="display-table-cell qty_hidden_in_cart"><span class="font_icon icon_Plus"></span><span class="qty_hidden">'+((v)-3)+"</span> "+I18n.t("cartlet.additionalProducts")+"</div>")
}A.append(H,u,s,D,C)
}}return A
},createItemRow:function(D,A,r){if(r>2){return false
}else{var v=this,E=$('<li class="cartletRow display-table-row"></li>'),q=$('<img class="cartlet_img" />'),B=$('<div class="display-table-cell"></div>'),w=$('<div class="display-table-cell"></div>'),s=$('<p class="cartletDesc"></p>'),u=$('<span class="itemType">'+A+" Item: </span>"),y=((typeof D.itemPage!=="undefined")?D.itemPage:"#"),p=$('<span class="cartletUom"></span>'),C=$('<p class="cartletQty"></p>').html('<span id="qa_cartlet_qtyLbl_'+r+'">Qty:</span> <span id="qa_cartlet_qty_'+r+'">'+D.quantity),z="";
if(typeof D.productId!=="undefined"){z=$('<span class="catalog_number">'+D.productId+"</span>")
}switch(A){case"oligos":p.html('<p class="uom_label" id="qa_cartlet_price_'+r+'">$'+v.unitPrice(D.subtotal,D.quantity+"</p>"));
s.append(D.productName).attr("id","qa_cartlet_desc_"+r);
B.attr("id","qa_cartlet_img_"+r);
break;
case"genomics":p.html('<p class="uom_label" id="qa_cartlet_price_'+r+'">$'+v.unitPrice(D.subtotal,D.quantity+"</p>"));
s.append(D.productName).attr("id","qa_cartlet_desc_"+r);
B.attr("id","qa_cartlet_img_"+r);
break;
case"luminex":p.html('<p class="uom_label">$<span id="qa_cartlet_price_luminex_'+r+'">'+v.unitPrice(D.subtotal,D.quantity+'</span> / <span id="qa_cartlet_uomLbl_luminex_'+r+'"></span> '));
s.append(D.productName).attr("id","qa_cartlet_desc_luminex"+r);
B.attr("id","qa_cartlet_img_luminex"+r);
break;
case"webreq":p.html('<p class="uom_label"><span id="qa_cartlet_uomLbl_'+r+'">Unit:</span> <span id="qa_cartlet_uom_'+r+'">'+D.units+'</span><br /><span id="qa_cartlet_priceLbl_'+r+'">Price</span> $<span id="qa_cartlet_price_'+r+'">'+v.formatCurrency(D.estPrice)+"</span></p>");
s.append(D.description).attr("id","qa_cartlet_desc_"+r);
B.attr("id","qa_cartlet_img_"+r);
break;
default:p.html('<p class="uom_label">$<span id="qa_cartlet_price_'+r+'">'+v.unitPrice(D.subtotal,D.quantity)+'</span> / <span id="qa_cartlet_uomLbl_'+r+'">'+D.units+"</span></p>"),u.html("");
B.append($(document.createElement("a")).attr({href:y}));
if(D.imagePath!=""&&D.imagePath!=null){$("a",B).html(q.attr({id:"qa_cartlet_img_"+r,src:D.imagePath}))
}else{B.attr({"class":"display-table-cell hide",id:"qa_cartlet_img_"+r});
$("a",B).text("No Image Available")
}s.append($(document.createElement("a")).attr({href:y,id:"qa_cartlet_desc_"+r}).text(D.productName));
break
}s.append(z);
w.append(u,s,p);
E.append(B,w);
return E
}},unitPrice:function(q,s){var p=this;
var r=parseFloat(q)/parseFloat(s);
return p.formatCurrency(r)
},formatCurrency:function(q){q=q.toFixed(2);
q+="";
x=q.split(".");
x1=x[0];
x2=x.length>1?"."+x[1]:"";
var p=/(\d+)(\d{3})/;
while(p.test(x1)){x1=x1.replace(p,"$1,$2")
}return x1+x2
}}
}());
NS("fishersci.components").Tabs=(function(){var l,b,k,m,f,d,e,h,n,j,a,g;
return{init:function(r){var p=this;
p.initVariables();
var s=$(e).find(b),o=$(e).find(k),q=$(e).find(m);
$(e).each(function(){var u=$(this);
var v=u.closest(".new-header-tabs").length;
if(!v){if(r||j){j=r;
u.find(f).off("click");
u.find(k).off("click")
}u.find(f).on("click",function(w){w.preventDefault();
p.setTab(this)
});
u.find(k).on("click",function(A){var y=$(this).data("navigateTo");
if(typeof y!=="undefined"&&y==="no"){A.preventDefault()
}var w=$(this).closest(".quickView_tabs").length;
var z=$(this).closest("#catalog_promotions").length;
if(!w&&!z){p.setTab(this)
}});
p.initJumpToMenu()
}});
if(a){p.initNewHeaderEvents()
}},initNewHeaderEvents:function(){var q=this;
var o=g.find("li");
var r=$(".new_header_main").find(".tab");
var p=$(".header_wrap").outerWidth();
o.first().removeClass("active");
r.first().removeClass("active");
if(!fishersci.Common.inCQAuthoringMode()){o.mouseover(function(){var u=this;
var s={};
s.timer=setTimeout(function(){q.startMouseOver(u)
},200);
s.startTime=new Date().getTime();
$(this).one("mouseout",function(){var v=new Date().getTime();
if((s.startTime+200)>v){clearTimeout(s.timer)
}})
})
}else{o.click(function(){q.resetTabs(this);
q.setTab(this)
})
}},startMouseOver:function(q){var p=this;
var r=$(".dim-background");
p.resetTabs(q);
$("#focusarea-dropdown").selectmenu("close");
$(".ui-selectmenu-open").removeClass("ui-selectmenu-open");
$("#typeahead-opt").addClass("hide");
$("#SearchBox").blur();
p.setTab(q);
r.addClass("active");
var o=p.activeTab();
if(typeof o!=="undefined"){$("#"+o).mouseleave(function(){p.resetTabs(q);
r.removeClass("active")
});
$("#header_logo_row").mouseover(function(){p.resetTabs(q);
r.removeClass("active")
})
}},initNewHeaderMobileEvents:function(){var p=this;
var o=$(".tab_nav").children();
var q=$("#mobile-drawer");
o.click(function(s){s.stopPropagation();
s.preventDefault();
if(q.length>0){q.removeClass("active")
}var r=$(this);
if(r.hasClass("active")){p.resetTabs(this)
}else{p.setTab(this)
}})
},initVariables:function(){l=".general_tabs";
b=".tab_nav";
k=b+" li a";
m=".tab";
f=".mobile_tab_link";
d=".jump_to_menu";
e=l;
_TABS_NAV=$(e).find(b);
g=$(".new_header_main").find(_TABS_NAV);
_TABS=$(e).find(m);
h="active";
n="."+h;
a=($("input[name=displayMode]").val()==="b")?true:false
},activeTab:function(){return $(_TABS).filter(".active").attr("id")
},setTab:function(q){console.log("fishersci.components.Tabs.setTab()");
var r=this;
var s=$(q);
var p=s.parents(l).find(".tabs_wrap");
r.resetTabs(q);
s.parent().addClass(h);
p.find(q.hash).addClass(h);
s.addClass(h);
fishersci.Common.equalizeComponentHeights(".specialOfferBlock");
if($(".videos").length){fishersci.components.ProductCarousel.init()
}if(a){var o=s.children().first().attr("href");
$(o).addClass("active")
}},resetTabs:function(o){var p=$(_TABS_NAV);
var q=$(_TABS);
if(typeof o!=="undefined"){p=$(o).parents(b);
q=$(o).parents(l).find(m)
}p.find(n).removeClass(h);
q.filter(n).removeClass(h);
$(e).find(f).removeClass(h);
setTimeout(function(){if(!$(l+" "+b+" li"+n).length){$(l+" "+b+" li"+n).first().trigger("mouseover")
}},500)
},initJumpToMenu:function(){$(d).on("change",function(){var q=$(this),p=q.val(),o=q.parents(".general_tabs");
o.find(f+'[href="'+p+'"]').trigger("click")
})
}}
}());
NS("fishersci.components").SearchResults=(function(){var f="SearchResults.js",u,j,K,g,n,G,y,l,N,m,L,r,e,I,R,P,B,z,o,T,S,q,a,s,w,b,C,v,Q,F,H,M,h,d,O,p,k,E,J,A,D=false;
return{init:function(){console.log("init called from "+f);
var Y=this;
Y.initVariables();
Y.getIads();
Y.preventSingleResultRedirect();
fishersci.components.SearchResults.localGds=true;
var ab=this.getUrlVars()["gds"];
var V="icon_Remove";
var aa="checked gds_checked";
var ac="icon_caret_down";
var X="icon_caret_right";
var W="icon_caret_right";
if(!D){if(ab=="show"||ab=="hide"){sessionStorage.setItem("gds",ab)
}if(sessionStorage.getItem("gds")!="show"){console.log("BEAK-1433:  Ensuring legacy version shows, not GDS");
$(".lnav_gds_form, .gds_general_search").removeClass("lnav_gds_form gds_general_search");
$("#qa_brandRemove").removeClass("icon_Remove").addClass("icon_Remove_Circle");
$(".quickView_tabs a span.gds").remove();
V="icon_Remove_Circle";
aa="checked";
ac=W="icon_Arrow_Down2";
X="icon_Arrow_Right2";
if($(".simple_list li .replaced").hasClass(".gdsChecked")){$(".simple_list li .replaced").removeClass(".gdsChecked").addClass(".checked")
}fishersci.components.SearchResults.localGds=false;
$(".gds_col_wrapper").removeClass("gds_col_wrapper")
}else{$(".search_result_item .result_title a").on("click",function(ad){$(this).css("color","#005daa")
});
$(".quickView_tabs a span.gds").removeClass("hide");
$(".selected_filters p").removeClass(".uppercase bold");
$(".wrapper-dropdown ul > li").removeClass("bold");
$(".selected_filters .icon_Remove_temp").addClass(V).removeClass("icon_Remove_temp");
$(".gds_brand_mag_glass").removeClass("hide");
$(".search_results.general_search").addClass("gds_general_search");
$(".quickView_tabs a span.non_gds").remove()
}}$(".selected_filters .icon_Remove_temp").addClass(V).removeClass("icon_Remove_temp");
$(".search_filters li .replaced.checked_temp").addClass(aa).removeClass("checked_temp");
$(".filter_heading a").find(".icon_Arrow_Right2_temp").addClass(X).removeClass("icon_Arrow_Right2_temp").end().find(".icon_Arrow_Down2_temp").addClass(ac).removeClass("icon_Arrow_Down2_temp");
$(".showMoreWrapper a").find(".icon_Arrow_Down2_temp").addClass(W).removeClass("icon_Arrow_Down2_temp");
$(".search_results.general_search").css("visibility","visible");
$(window).on("scroll",function(af){var ad=$("html").scrollTop();
var ae=$("#back-to-top-button");
if(ad>650&&!ae.hasClass("active")&&fishersci.Common.inDesktopBreakpoint()){ae.show(300);
ae.toggleClass("active");
ae.off("click").on("click",function(ag){ag.preventDefault();
$("html,body").animate({scrollTop:0},200);
return false
})
}else{if(ad<300&&$("#back-to-top-button").hasClass("active")){ae.hide(300);
ae.toggleClass("active")
}}});
if(LocalePath.getCountry()!=="us"&&LocalePath.getCountry()!=="ca"){Y.initLanguageSorting();
Y.initLanguagePreference()
}else{if($("#languageSelector").find("option[value="+LocalePath.getLanguage().toUpperCase()+"]")[0]!=undefined){$("#languageSelector").find("option[value="+LocalePath.getLanguage().toUpperCase()+"]").attr("selected",true)
}$(".langpref_EU").addClass("hide")
}o.submit(function(){var ad=$("#languageSelector").val();
store.set("SelectedItem",ad);
$("#selectLang").val(ad)
});
z.on("click",function(ad){ad.preventDefault();
o.submit()
});
fishersci.Common.glyphToolTipHover();
if(u.length){N.on("click",function(ad){ad.preventDefault();
if(!O){Y.getLoadMore({})
}});
Y.offCanvasFilters();
Y.removeItemLevelFacet();
fishersci.SearchCommon.appendStrategyResponse(window.searchResults);
if(E.length){fishersci.SearchCommon.renderPagination({items:window.searchResults.aggrRecordListSize})
}}if(fishersci.Common.getBreakpoint()=="desktop"){console.log("Adjusting genecard for desktop");
if($.trim($(".selected_filters").html())!=""){$(".selected_filters").css("margin-bottom","1.5rem")
}if($.trim($("#autoCorrectText").html())!=""){$(".search_filters h3").css("margin-bottom","0.75rem");
$(".magellan-links").css("margin-top","0")
}}$(K).each(function(ad){if(ad>3){$(this).removeClass("active")
}});
if($(".selected_link").length){var U,Z;
U=$(".selected_link").length-1;
Z=encodeURI($("#all_categories").attr("value"));
$(".selected_link:eq( "+U+" )").addClass("selected");
$(".selected_link:eq( "+U+" ) a").attr("href","javascript:void(0)");
$(".topBreadCrumb li:last-child").addClass("selected");
$(".topBreadCrumb li:last-child a").attr("href","javascript:void(0);");
if(!env.isBrowse){$(".selected_link").parent().prepend("<li class='selected_link all_category'><a href="+Z+" class='all_categories'><span class='font_icon icon_Chevron_Left'></span>"+I18n.t("searchResults.allCategories")+"</a></li>")
}$("#hb-topBreadcrumbs").addClass("show_breadcrumb")
}$(".search_filters").on("click",".category_link",function(){if($("#qa_srchSort_Ns_input option:selected").length>0){var ad=$("#qa_srchSort_Ns_input option:selected").val();
this.href=this.href+"&sortBy="+ad
}});
$(".all_categories").on("click",function(ae){if($("#qa_srchSort_Ns_input option:selected").length>0){var ad=$("#qa_srchSort_Ns_input option:selected").val();
this.href=this.href+"&sortBy="+ad
}});
p.on("click",Y.removeAllFilters)
},addGdsMagGlass:function(U){if(U=="show"&&fishersci.components.SearchResults.localGds){$("#qa_gdsBrandMagGlass").removeClass("hide")
}else{$("#qa_gdsBrandMagGlass").addClass("hide")
}},checkIadsLoaded:function(){console.log("checking for iads");
if($("#fs-search-1").html()==""){$("#fs-search-1").attr("id","fs-search-1-replaced")
}},getIads:function(){var W=((typeof(this.getUrlVars()["keyword"])!="undefined")?this.getUrlVars()["keyword"].replace(/\+/g," "):"");
var V={searchTerm:W,focusArea:"all"};
if(typeof(Offers)!="undefined"){try{console.log("Making Interact Ads request with:");
console.dir(V);
J=setTimeout(fishersci.components.SearchResults.checkIadsLoaded,2500);
Offers.loadSearchOffers(V)
}catch(U){console.log("Error loading Interact Ads");
console.error(U)
}}else{console.log("Offers is undefined so not bothering with Interact Ads")
}console.log("Interact ads complete")
},getUrlVars:function(){var V={};
var U=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(W,X,Y){V[X]=Y
});
return V
},initVariables:function(){k=LocalePath.getLocalePath();
u=$(".search_results");
j=$(".search_results_filters");
K=(".search_filter");
g=$(".item_Facet_Value .icon_Remove");
n=k+"catalog/service/search/products";
G=k+"catalog/service/browse/products";
y=k+"catalog/service/search/msds";
l=$("#SCSearchTerm").attr("content");
N=$("#loadmoresearch");
m=!fishersci.Common.isLocal()?n:n.replace(k,"/");
L=!fishersci.Common.isLocal()?G:G;
r=!fishersci.Common.isLocal()?y:y;
e=$("#hb-refinements");
I=$("#hb-breadcrumbs");
R=$("#hb-topBreadcrumbs");
P=$("#hb-search");
B=$("#hb-msds-search");
z=$("#msdsSearch");
o=$("#msdsSearchForm");
T="/etc/designs/fishersci/clientlibs/handlebars/search/searchRefinements.hbs";
S="/etc/designs/fishersci/clientlibs/handlebars/search/searchBreadcrumbs.hbs";
q="/etc/designs/fishersci/clientlibs/handlebars/search/searchTopBreadcrumbs.hbs";
a=Handlebars.templates["search/searchResults"];
s="/etc/designs/fishersci/clientlibs/handlebars-temp/msdssearchresulttmpl";
w=30;
b=1;
C=30;
v=$('[data-result="start"]');
Q=$('[data-result="end"]');
F=$('[data-result="total"]');
H=(typeof env!=="undefined"&&(env.isBrowse||env.isBrand))?true:false;
M=(typeof env!=="undefined"&&env.isMsdsSearch)?true:false;
h=$('[data-type="refinement-nav"]');
d=$('[data-type="refinement-sort"]');
O=false;
p=$("#search_removeAll_filters");
E=$(".pagination");
A=true
},initSearchResults:function(){console.log("initSearchResults called from "+f);
var U=this;
data={storeId:"10652",offset:"0",nav:h.val(),keyword:l,Ns:d.val()};
$.ajax({url:m,dataType:"json",data:data,success:function(V){U.initSearchObject({data:V});
U.initRefinements({data:V});
U.initBreadcrumbs({data:V});
U.initTopBreadcrumbs({data:V});
U.renderSearchResults({data:V})
}})
},initLanguagePreference:function(){$(".langpref_EU").removeClass("hide");
var U=LocalePath.getLanguage().toUpperCase();
o.off("change","#languageSelector").on("change","#languageSelector",function(){var Y=$(this).val();
store.set("SelectedItem",Y);
$("#selectLang").val(Y);
if(env.isMsdsSearchResults===true){var X=fishersci.Common.getFullURL();
var W=fishersci.util.QueryString.update(X,"selectLang",Y);
window.location.href=W
}});
var V=store.get("SelectedItem");
console.log(V);
if(V==null||V==""){V=U
}$("div.msds_search #languageSelector").val(V).find("option[value="+V+"]").attr("selected",true);
$("#selectLang").val(V);
if(!env.isMsdsSearchResults){$("#languageSelector").find("option[value="+U+"]").attr("selected",true)
}},initLanguageSorting:function(){var V=$("body").find("select#languageSelector option");
var U=V.map(function(W,X){return{t:$(X).text(),v:X.value}
}).get();
U.sort(function(X,W){return X.t>W.t?1:X.t<W.t?-1:0
});
V.each(function(W,X){console.log(W);
X.value=U[W].v;
$(X).text(U[W].t)
})
},initMsdsSearchResults:function(){console.log("initMsdsSearchResults called from "+f);
var U=this;
data={storeId:"10652",offset:"0",nav:fishersci.Common.getQueryString("nav"),msdsKeyword:l};
$.ajax({url:r,dataType:"json",data:data,success:function(V){U.renderMsdsSearchResults({data:V})
}})
},initBrowseResults:function(){console.log("initBrowseResults called from "+f);
var U=fishersci.components.SearchResults;
data={storeId:"10652",productHeirarchy:$_BROWSE_HEIR_ELEMENT,offset:"0",nav:h.val()!==""?h.val():$_BROWSE_ID_ELEMENT,isBrowse:true,langId:"-1",Ns:d.val()};
$.ajax({url:L,dataType:"json",data:data,success:function(V){U.initSearchObject({data:V});
U.initRefinements({data:V});
U.initBreadcrumbs({data:V});
U.initTopBreadcrumbs({data:V});
U.renderSearchResults({data:V});
U.setSearchDisplayElements({data:V});
if(!V.errorMessage){_doBrowseCat(V)
}else{_doBrowseError("We're sorry, there were no matches found on our site.")
}_doSortResults()
}});
_doBrowseCat=function(V){console.log("_doBrowseCat called from "+f);
$_BROWSE_CATEGORY_ELEMENT.text(V.browseResultName);
$_BROWSE_HEADER_ELEMENT.removeClass("hide").fadeIn()
};
_doBrowseError=function(V){console.log("_doBrowseError called from "+f);
$_BROWSE_HEADER_TEXT.text(V);
$_BROWSE_HEADER_ELEMENT.removeClass("hide").fadeIn();
fishersci.Common.hideOnError()
};
_doSortResults=function(){console.log("_doSortResults called from "+f);
var V=d.val();
if(V!==""){$('[value="'+V+'"]').attr("selected","selected")
}}
},initRefinements:function(W){console.log("initRefinements called from "+f);
var U=this;
e.html("");
var V=Handlebars.getTemplate(U.setRefinementTemplate());
e.append(V(W.data))
},initBreadcrumbs:function(W){console.log("initBreadcrumbs called from "+f);
var V=this;
I.html("");
var U=Handlebars.getTemplate(V.setBreadcrumbTemplate());
I.append(U(W.data))
},initTopBreadcrumbs:function(W){console.log("initTopBreadcrumbs called from "+f);
var U=this;
R.html("");
var V=Handlebars.getTemplate(U.setTopBreadcrumbTemplate());
R.append(V(W.data))
},initSearchObject:function(U){console.log("initSearchObject called from "+f);
fishersci.SearchCommon.initBrowseObject(U);
U.data.startFrom=0
},renderSearchResults:function(W){console.log("renderSearchResults called from "+f);
var V=this;
P.html("");
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
var U=Handlebars.getTemplate(V.setSearchTemplate());
W.data.startFrom=0;
P.append(U(W.data));
$(document).on("click",".cross-ref-item .show-details",function(){var X=$(this);
openCrossDetails(X)
});
$(document).on("click",".cross-ref-item .close-details",function(){var X=$(this);
closeCrossDetails(X)
});
$(document).on("click",".cross-ref-item .add-to-cart",function(){var X=$(this);
addItemToCart(X)
})
},renderMsdsSearchResults:function(V){console.log("renderMsdsSearchResults called from "+f);
var U=Handlebars.getTemplate(s);
V.data.startFrom=0;
B.append(U(V.data))
},getLoadMore:function(W){console.log("getLoadMore called from "+f);
var X=this;
var W=W||{};
var Y={pageNumber:b};
var V=$.extend(Y,W);
data={storeId:"10652",offset:C,nav:h.val(),Ns:d.val(),keyword:l};
if(V.pageNumber>1){data.offset=((V.pageNumber-1)*C);
b=V.pageNumber
}var U=getParameterByName("mainSearch");
if(U==="true"){data.mainSearch="true"
}var Z=getParameterByName("typeAheadCat");
if(Z!==null){data.typeAheadCat=Z
}$.ajax({url:X.setLoadMoreUrl(),dataType:"json",data:data,beforeSend:function(){O=true;
N.after('<img src = "/shop/FisherSci/theme/images/search/ajax_loader_product.gif" class="spinner_icon" />')
},success:function(aa){N.next("img.spinner_icon").remove();
X.initSearchObject({data:aa});
X.renderLoadMore({data:aa});
fishersci.Common.scrollToElement($(".general_search"));
O=false
}})
},setRefinementTemplate:function(){console.log("setRefinementTemplate called from "+f);
if(H){return _BROWSE_REFINEMENT_TMPL
}return T
},setSearchTemplate:function(){console.log("setSearchTemplate called from "+f);
if(H){return _BROWSE_RESULTS_TMPL
}return a
},setBreadcrumbTemplate:function(){console.log("setBreadcrumbTemplate called from "+f);
if(H){return _BROWSE_BREADCRUMB_TMPL
}return S
},setTopBreadcrumbTemplate:function(){console.log("setTopBreadcrumbTemplate called from "+f);
if(H){return _BROWSE_BREADCRUMB_TMPL
}return q
},setLoadMoreUrl:function(){console.log("setLoadMoreUrl called from "+f);
if(H){return L
}if(M){return r
}return m
},setSearchDisplayElements:function(W){console.log("setSearchDisplayElements called from "+f);
var V=W.data;
var U=fishersci.SearchCommon.getEndPage({pageNumber:b,data:V});
if(V.aggrRecordListSize<w){N.hide();
Q.text(V.aggrRecordListSize)
}else{N.show();
Q.text(U)
}F.text(V.aggrRecordListSize)
},renderLoadMore:function(Y){console.log("renderLoadMore called from "+f);
var X=Y.data;
var V=a,U=X.aggrRecordListSize,W=b*w;
X.startFrom=W;
P.html(V(X));
if(U<=(b*w)){Q.text(U)
}else{Q.text(b*w)
}fishersci.SearchCommon.getPricingOnSearch.apply(X)
},offCanvasFilters:function(){e.on("click",".off_canvas_link",function(U){var V=$(this);
if(j.hasClass("off_canvas_active")){j.removeClass("off_canvas_active")
}else{j.addClass("off_canvas_active")
}if(V.hasClass("active")){V.removeClass("active")
}else{V.addClass("active")
}})
},removeItemLevelFacet:function(){console.log("removeItemLevelFacet called from "+f);
g.on("click",function(U){if($(this).closest("ul.facet_Group_wraper").children().length>3){$(this).closest("li.item_Facet_Value").remove()
}else{$(this).closest("ul.facet_Group_wraper").remove()
}})
},preventSingleResultRedirect:function(){$.cookie("preventSingleResultRedirect","true",{path:"/",expires:365})
}}
}());
NS("fishersci.components").FeatureProducts=(function(){var e="FeatureProducts.js",b,f,d,a;
return{init:function(){console.log("init() called from  "+e);
var g=this;
g.initVariables();
$("body").on("click","#loadmore",function(h){h.preventDefault();
g.doLoadMore()
});
if(typeof env!="undefined"&&env.showFeaturedProducts&&d.length>0){g.updateFeaturePrice(d.val())
}$(".product_showPrice").hover(function(){$(this).append('<div class="fade_in"></div><p class="show_price">Click to show price</p>')
},function(){$(".fade_in, .show_price").remove()
});
$(".product_showPrice").on("click",function(){g.showFeaturePrice(a,this)
})
},initVariables:function(){b=$(".product_container");
f="";
d=$("#productDetailUrl");
a="/shop/api/price"
},doLoadMore:function(){f=$("#loadmore").attr("href");
$.ajax({url:f,type:"get",cache:false,dataType:"html",success:function(g){b.append($($.parseHTML(g)).find(".product_grid").html());
if($($.parseHTML(g)).find(".load_more").length!=0){$(".load_more").replaceWith($($.parseHTML(g)).find(".load_more"))
}else{$(".load_more").remove()
}if($($.parseHTML(g)).find("#productDetailUrl").attr("value")!=0){console.log($($.parseHTML(g)).find("#productDetailUrl").attr("value"));
fishersci.components.FeatureProducts.updateFeaturePrice($($.parseHTML(g)).find("#productDetailUrl").attr("value"))
}}})
},initFeatureProducts:function(g){g=g||{};
var h={offset:0,Ns:"default",promoCount:g.salenumber,family:g.isproductfamily};
$.ajax({url:g.featuredProductUrl,data:h,dataType:"json",error:function(j){},success:function(j){j.displayLayoutLength=g.displayLayoutLength;
j.skuNum=g.skuNum;
$("#"+g.element).append(Handlebars.templates["product/featuredProducts"](j))
}})
},updateFeaturePrice:function(g){$.ajax({url:g,type:"Get",cache:false,dataType:"json",success:function(h){console.log("products::: "+h.featuredProducts);
console.log("partCount length::: "+h.featuredProducts.length);
var l=h.featuredProducts;
for(var j=0;
j<l.length;
j++){var n=l[j];
console.log("partNumber::: "+n.partNumber);
var m=(n.partNumber).replace("~","");
console.log("partNumber without tilde ::: "+m);
var p=n.pricesAndUOM;
if(p!=null){var k=p.Sku_prices;
console.log("priceArr::: "+k);
if(typeof k==="undefined"&&p.discountedMin!=null){console.log("priceValue 1 1::: "+p.discountedMin);
$("#price_"+m).append("<p><span class='strikethrough' >"+p.minPrice+" - "+p.maxPrice+"</span></p><p>"+p.discountedMin+" - "+p.discountedMax+"</p>")
}else{if(typeof k==="undefined"&&p.minPrice!=null){console.log("priceValue 1 2::: "+p.minPrice);
$("#price_"+m).append("<p>"+p.minPrice+" - "+p.maxPrice+"</p>")
}else{if(k!="undefined"&&k.length==1){if(k!="undefined"&&k[0].webDiscount!=null&&k[0].webDiscount==true){$("#price_"+m).append("<p><span class='strikethrough' >"+k[0].itemPrice+"</span></p><p>"+k[0].webPrice+"</p>")
}else{if(k!="undefined"&&k[0].itemPrice!=null){$("#price_"+m).append("<p>"+k[0].itemPrice+"</p>")
}}}else{if(k.length==2){if(k[0].webDiscount!=null&&k[0].webDiscount==true){var o="<p><span class='strikethrough' >"+k[0].itemPrice+" - "+k[1].itemPrice+"</span></p><p>"+k[0].webPrice+" - "+k[0].webPrice+"</p>";
$("#price_"+m).append(o)
}else{var o="<p>"+k[0].itemPrice+" - "+k[1].itemPrice+"</span></p>";
$("#price_"+m).replaceWith(o)
}}}}}}}}})
},showFeaturePrice:function(g,j){var h=$(j).attr("id");
g+="?partNumber="+h;
console.log(g);
$(j).parent().find(".prod_price").remove();
console.log("showFeaturePrice - Sending the AJAX call");
$.ajaxq("FeatureProdPrice",{url:g,type:"POST",cache:false,dataType:"json",error:function(k,m,l){console.error("FeatureProduct.showFeaturePrice() - Error condition generated in AJAX call for product "+h+". ("+m+")");
console.error(l)
},success:function(k){console.log("FeatureProduct.showFeaturePrice() - Success on AJAX call for product "+h);
var n=k.Price;
if(typeof(n.PriceRange)!="undefined"){var l=Number(n.PriceRange[0].minPrice);
var m=Number(n.PriceRange[0].maxPrice);
l=l.toFixed(2);
m=m.toFixed(2);
$(j).parent().append("<p class='prod_price'><span><strong>$"+l+" - $"+m+"</strong></span></p>")
}else{if(n[0].priceUoms[0].hasDiscount==true){$(j).parent().append("<p class='prod_price'><span class='strikethrough'><strong>"+n[0].priceUoms[0].itemPrice+"</strong></span> <span class='discount_price'>"+n[0].priceUoms[0].webPrice+"</span></p>")
}else{$(j).parent().append("<p class='prod_price'><span><strong>"+n[0].priceUoms[0].itemPrice+"</strong></span></p>")
}}}})
}}
}());
NS("fishersci.components").ShoppingCart=(function(){var s="ShoppingCart.js",d,j,w,a,q,g,f,r,l,k,h,n,o,b,p,m,v,u,e;
return{init:function(){var A=this;
var E=LocalePath.getLanguage();
var y=LocalePath.getCountry();
var D="/store1/cart/?language="+E+"&countryCode="+y.toUpperCase();
var B="";
var C="";
var z;
A.initVariables();
fishersci.components.ShoppingCart.initProgressBar();
if($.cookie("new_cart")){$('[name="addlines2cart"]').click(function(L){L.preventDefault();
var N=$(this);
var O={};
var J=[];
var F=parseInt($('[name="quote_type"]').val());
var G=[];
var H=$('[name="quoteVersion"]').val()||"00";
var K;
var M=$('[name="quote_number"]').val();
var I={};
if(isNaN(F)){F=$('[name="quote_type"]').val()
}I={addToCartFrom:"Quotes",quotesNumber:M,quotesName:"Test",quotesType:F,gSessionId:$.cookie("gsessionId"),quoteVersion:H};
if(N.attr("data-disabled")){return
}N.attr({"data-disabled":true}).addClass("disabled");
$(".quote_details_info tbody tr").each(function(P,R){var Q=$(this);
switch(F){case 1:case"L":K=Q.find('[name*="_desired_quantity"]').val();
break;
case 0:case"O":K=$.trim(Q.find('[data-title="Qty"]').text());
break;
default:break
}if(K!==""&&!isNaN(parseInt(K))){J.push({partNumber:Q.find('[name="catalog_number"]').val(),quantity:parseInt(K),uom:Q.find('[name="units"]').val(),lineNum:Q.find('[data-title="Line"]').text(),quoteNumber:M,unit_price:parseFloat(Q.find('[name="unit_price"]').val().replace(/[$,]/g,""))});
G.push(";"+Q.find('[name="catalog_number"]').val()+";;;;eVar33=Quotes|eVar28=Regular Item - Quotes")
}});
I.itemList=J;
O.callback=function(P){if(P.wasAdded){if(!$.cookie("addToCartInitiated")){z=new Date();
z.setTime(z.getTime()+(60*60*1000));
$.cookie("addToCartInitiated","yes",{expires:z,path:"/"});
C=",scOpen"
}fisherDataLayer.linkTrackVars="products,events,eVar28,eVar33";
fisherDataLayer.linkTrackEvents="scAdd"+C;
fisherDataLayer.events="scAdd"+C;
fisherDataLayer.products=G.join(",");
fisherDataLayer.customLinkGeneral="Add to Cart from Quotes";
fisherDataLayer.productData.cartId=P.cartId;
fisherDataLayer.productData.cartTotal=P.subTotal;
fisherDataLayer.productData.addToCartFrom="Quotes";
_satellite.track("addToCartGeneral")
}setTimeout(function(){document.location.href=D
},500)
};
if(J.length>0){$.ajax({data:I,type:"POST",dataType:"JSON",url:"/store1/addMultipleToCartService/?language="+E+"&countryCode="+y.toUpperCase(),onBeforeSend:function(){fishersci.Common.addSpinnerToElement(N)
},error:function(R){fishersci.Common.getTranslationData("cartcheckout",false);
var P=JSON.parse(R.responseText);
if(P.body.showError){try{fishersci.Modals.cartErrorModal({message:I18n.translations[I18n.locale].cartcheckout.messages.webOrderingUnavailable,serviceErrorCode:P.body.serviceErrorCode,icon:"icon_Warning_Triangle"})
}catch(Q){console.log(Q)
}}},success:function(P){if(P.messageList){B=P.messageList.toString().replace(/,/g,"|");
D+="&urlMessages="+B
}if(P.status==200){if(O.callback){O.callback(P)
}}else{console.log(P)
}},complete:function(P){N.removeAttr("data-disabled").removeClass("disabled");
fishersci.Common.removeSpinnerFromElement(N)
}})
}else{N.removeAttr("data-disabled").removeClass("disabled");
alert("no valid quantities entered")
}});
(function(){var G=$('[name="addToCartFrom"]');
var F=[];
var K=[];
var I="/store1/addToCartService/service/?language="+E+"&countryCode="+y.toUpperCase()+"&headerString=";
var H={};
var J={addToCartFrom:"Substructure Search"};
H.callback=function(M){var L=false;
if(typeof M.messageList!=="undefined"){$.each(M.messageList,function(N,O){if(O==="mismatchTransTax"){L=true;
document.location.href="/store1/cart/?language="+E+"&countryCode="+y.toUpperCase()+"&urlMessages=mismatchTransTax"
}if(O==="EXCEEDS_CART_LINES"){L=true;
document.location.href="/store1/cart/?language="+E+"&countryCode="+y.toUpperCase()+"&urlMessages=EXCEEDS_CART_LINES"
}})
}if(M.wasAdded&&!L){fisherDataLayer.linkTrackVars="products,events,eVar28,eVar33";
fisherDataLayer.linkTrackEvents="scAdd";
fisherDataLayer.events="scAdd";
fisherDataLayer.products=K.join(",");
fisherDataLayer.customLinkGeneral="Add to Cart from Substructure Search";
_satellite.track("addToCartGeneral");
setTimeout(function(){document.location.href=D
},500)
}};
if(G.length>0&&G.val()=="Substructure Search"){$('[name="rapidOrderFrm"]').on("submit",function(O){O.preventDefault();
var N=$(this);
var M;
var P;
var L;
N.find("tbody").each(function(){var Q=$(this);
M=Q.find('[name="shoppingCartCatNum"]').val();
P=Q.find('[name="shoppingCartQty"]').val();
L=Q.find('[name="shoppingCartUnits"]').val();
F.push({partNumber:M,uom:L,quantity:P});
K.push(";"+M+";;;;eVar33=Substructure Search|eVar28=Regular Item - Substructure Search")
});
J.itemList=F;
$.ajax({url:I,data:J,type:"POST",dataType:"json",error:function(U,Q,R){fishersci.Common.getTranslationData("cartcheckout",false);
var S=JSON.parse(U.responseText);
if(S.body.showError){try{fishersci.Modals.cartErrorModal({message:I18n.translations[I18n.locale].cartcheckout.messages.webOrderingUnavailable,serviceErrorCode:S.body.serviceErrorCode,icon:"icon_Warning_Triangle"})
}catch(T){console.log(T)
}}},success:function(Q){if(H.callback){H.callback(Q)
}}});
console.log(J)
})
}})()
}if($("#DeliveryMethod")){fishersci.components.ShoppingCart.displayShippingMessage()
}p.on("change",A.doValidateZipState);
p.eq(0).trigger("change");
$(".submit,.cancel").on("click",function(L){console.log("checkout button clicked");
var K=$(this),J=K.data(),H=K.hasClass("cancel");
g.append('<input id="'+J.formElementname+'" type="hidden" name="'+J.formElementname+'" value="'+J.formValue+'"/>');
var I=A.doCheckExpirationDates();
var G=A.doCheckCreditCardSelected();
L.preventDefault();
if(H){g.submit();
return
}if(fishersci.Forms.processForm(g)){if(I>0||G>0){Common.doScroll({element:$(".form_field.error"),speed:"slow"});
return
}if($("#EmailAddress").length>0){fisherDataLayer.userData.emailAddress=$("#EmailAddress").val()
}if($(".payment_information").length>0){if($("#PaymentMethod :selected").length>0){var F=$("#PaymentMethod :selected").val();
if(F=="invoice"){fisherDataLayer.userData.purchaseType="invoice"
}else{fisherDataLayer.userData.purchaseType="credit card"
}}else{fisherDataLayer.userData.purchaseType="credit card"
}}g.submit()
}else{Common.doScroll({element:$(".form_field.error"),speed:"slow"})
}});
$(document).keyup(function(F){if(F.which==13){$(".submit").trigger("click")
}});
if(typeof k!=="undefined"&&k!==""){A.getActiveAccounts()
}$(".fund_tracking_form input:radio").change(function(){if($(this).val()=="Apply"){$(".apply_fund_div").removeClass("hide")
}else{$(".apply_fund_div").addClass("hide")
}});
$("#changeAccount").click(function(){$("#current_account_values").addClass("hide");
$("#account_values_drop").removeClass("hide");
return false
});
$("#saveAccount").click(function(){fishersci.components.ShoppingCart.sendAccount();
$("#account_values_drop").addClass("hide");
$("#current_account_values").removeClass("hide");
return false
});
$(".my_visa, .credit_card, .invoice-billed").hide();
$("#invoice_billed").click(function(){$(".invoice-billed").show();
$(".my_visa, .credit_card").hide();
console.log("Invoice Clicked")
});
$("#credit_card").click(function(){$(".credit_card").show();
$(".my_visa, .invoice-billed").hide();
console.log("credit_card Clicked")
});
$("#my_visa").click(function(){$(".my_visa").show();
$(".credit_card, .invoice-billed").hide();
console.log("my_visa Clicked")
});
$("#email_cart").click(function(){$.colorbox({href:"email-cart-modal-content.html"},function(){(function(){$.validity.outputs.custom={start:function(){console.log("Validity started");
$("input:text").removeClass("fail").parent().parent().parent().find("p").removeClass("fail")
},end:function(F){console.log("Validity end function called");
if(!F.valid&&$.validity.settings.scrollTo){location.hash=$(".fail:eq(0)").attr("id")
}},raise:function(G,F){console.log("Validity raise function called");
G.addClass("fail")
},raiseAggregate:function(G,F){this.raise($(G.get(G.length-1)),F)
}}
})();
$.validity.setup({outputMode:"custom"});
$("#send_cart_submit").click(function(){console.log("Submit button checked");
$.validity.start();
$("#cart_email_subject").require("Subject line is required");
$("#cart_email_sendername").require("Your name is required");
$("#cart_email_senderemail").require("Email address required").match("email","Invalid email format");
$("#cart_email_recipientemail").require("Email address required").match("email","Invalid email format");
var F=$.validity.end();
if(F.valid){alert("Form validation passed.  Process successful submission here.")
}return false
})
});
return false
});
$("#DeliveryMethod").on("change",fishersci.components.ShoppingCart.displayShippingMessage);
j.find("#phone").blur(function(){var F=$(this).val();
F=F.replace(/[A-Za-z$-]/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3");
$(this).val(F)
});
$(".submit_customer_data_form").on("click",fishersci.components.ShoppingCart.processCustomerDataForm);
$(".shopping_cart_quantity").each(function(){if($(this).text()=="0"){$(this).addClass("hide")
}});
$(".checkout_button").on("click",function(){if($.cookie("new_cart")){return
}fishersci.components.ShoppingCart.startCheckout()
});
if(fishersci.util.QueryString.getByKey("modal")=="guestCheckout"){fishersci.components.ShoppingCart.openGuestCheckoutModal()
}$(".print_cart").on("click",function(){A.openPrintViewPage(u,"shoppingCartTitle")
});
$(".print_confirmation").on("click",function(){A.openPrintViewPage(e,"orderConfirmationTitle")
})
},initVariables:function(){d=$(".shopping_cart_progress");
j=$(".shipping_info_block");
w=$("#customer_specific_data");
a=$(".form_errors");
q=$('[data-formname="payment"]');
g=$(".checkout_form");
f="/shop/GetValidAccounts";
r=$("#account_list");
l=$(".active_account_area");
k=$("#memberId").val();
h="/content/fishersci/en_US/guestcheckoutlogin.html";
n=$("#stateZipValid");
o="data-form-error-message";
b="data-zip-type";
p=$("[data-zip-type]");
u="/shop/service/cart";
e="/shop/service/orderconfirmation"
},doValidateZipState:function(){var C=$(this),y=C.attr(b),A=$("#"+y+"Zip").val(),B=$("#"+y+"State").val();
var D=fishersci.Common.validateZipCode({zipCode:A,state:B}),z=D.getZip();
if(typeof z!=="undefined"){if(z.isValidZipCode){n.val("true")
}else{n.val("").attr(o,z.errorMsg)
}}},doCheckExpirationDates:function(){console.log("doCheckExpirationDates called from "+s);
var z=0,y=$(),A=$("[data-form-select-field-date]");
A.each(function(){var C=$(this),B=C.attr("data-form-error-element");
y=$("#"+B);
if(C.val()==="0"){z++
}});
if(A.length>0){if(z>0){y.removeClass("hide").parent().addClass("error")
}else{y.addClass("hide").parent().removeClass("error")
}}return z
},doCheckCreditCardSelected:function(){console.log("doCheckAllCreditCardTypes called from "+s);
var A=0,y=$(),z=$("[data-form-select-field-credit]");
z.each(function(){var C=$(this),B=C.attr("data-form-error-element");
y=$("#"+B);
if(C.val()==="0"){A++
}});
if(z.length>0){if(A>0){y.removeClass("hide").parent().addClass("error")
}else{y.addClass("hide").parent().removeClass("error")
}}return A
},startCheckout:function(){fishersci.components.ShoppingCart.redirectToNextPage()
},redirectToNextPage:function(){if($.cookie("new_cart")){return
}if($("#memberId").val()==""){if(window.location.protocol=="http:"){var y=fishersci.Common.getFullURL().replace(/http:/ig,"https:");
var z=fishersci.util.QueryString.update(y,"modal","guestCheckout");
window.location.href=z
}else{fishersci.components.ShoppingCart.openGuestCheckoutModal()
}}else{var y=$(".checkout_button").attr("data-href");
if(typeof y=="undefined"){return
}window.location.href=y
}},openGuestCheckoutModal:function(){if($.cookie("new_cart")){return
}$.colorbox({href:h},function(){$("#guestCheckoutUsername, #guestCheckoutPassword").on("keydown",function(y){if(y.which==13){var z=fishersci.util.QueryString.remove(fishersci.Common.getFullURL(),"modal");
$("#redirectHereOnLogin").val(z);
fishersci.Login.detectLogin()
}});
$("#guestCheckoutUsername").focus()
});
$("#cboxWrapper").on("click","#loginOverlayContent .btn-sign-in",function(y){var z=fishersci.util.QueryString.remove(fishersci.Common.getFullURL(),"modal");
$("#redirectHereOnLogin").val(z);
fishersci.Login.detectLogin();
y.cancelBubble=true;
y.preventDefault();
if(y.stopPropagation){y.stopPropagation()
}});
$("#cboxWrapper").on("click","#loginOverlayContent .continue_btn",function(){if($.cookie("new_cart")){return
}var y=$(".checkout_button").attr("data-href");
$("#cboxWrapper .continue_btn").attr("href",y)
})
},getActiveAccounts:function(){if($.cookie("new_cart")){return
}console.log("getActiveAccounts called from "+s);
var y,z=[];
$.ajax({url:f,async:false,data:{storeId:"10652",langId:"-1",memberId:k},type:"POST",dataType:"json",beforeSend:function(){console.log("Sending memberId to get valid accounts")
},error:function(A){showLink=false;
return false
},success:function(C){var F=C.accounts;
if(F.length>=1){l.removeClass("hide");
$("#changeAccount").removeClass("hide")
}if(F.length==1){$("#changeAccount").addClass("hide")
}for(var B=0;
B<F.length;
B++){var E=F[B].accountNumber;
var A=F[B].accountName==null?"unnamed":F[B].accountName;
var D="";
if(F[B].isSelected===true){D='selected="selected"'
}r.append($("<option "+D+"></option>").val(E).html(E+" "+A));
z.push(F[B].accountNumber);
if(F[B].isSelected===true){y=E+" "+A
}}},complete:function(){$("#curAccount").text(y)
}})
},sendAccount:function(){console.log("getActiveAccounts called from "+s);
document.setActiveFisherAccount.accountNumber.value=r.val();
document.setActiveFisherAccount.fromShoppingCart.value="fromShoppingCart";
document.setActiveFisherAccount.submit()
},initProgressBar:function(){var y="num_steps_"+d.find("li").length;
d.addClass(y);
var z=0;
$($(".shopping_cart_progress li").get().reverse()).css("z-index",function(A){return A+1
})
},hideAllShippingMessages:function(){$("#amDeliveryMsg").hide();
$("#regularDeliveryMsg").hide();
$("#rushShipNextDayDeliveryMsg").hide();
$("#rushShipSecondDayDeliveryMsg").hide();
$("#amDeliveryMsgDelInfo").hide();
$("#regularDeliveryMsgDelInfo").hide();
$("#rushShipNextDayDeliveryMsgDelInfo").hide();
$("#rushShipSecondDayDeliveryMsgDelInfo").hide()
},displayShippingMessage:function(){var y=$("#DeliveryMethod").val();
fishersci.components.ShoppingCart.hideAllShippingMessages();
switch(y){case"1":$("#amDeliveryMsg").show();
$("#amDeliveryMsgDelInfo").show();
break;
case"4":$("#rushShipNextDayDeliveryMsg").show();
$("#rushShipNextDayDeliveryMsgDelInfo").show();
break;
case"5":$("#rushShipSecondDayDeliveryMsg").show();
$("#rushShipSecondDayDeliveryMsgDelInfo").show();
break;
default:$("#regularDeliveryMsg").show();
$("#regularDeliveryMsgDelInfo").show();
break
}},processShippingForm:function(){if(fishersci.Forms.processForm(j)){console.log("Form is valid, moving to submitShippingForm() ");
if($("#saveAddressDetails").prop("checked")){$("#saveAddressDetailsHidden").val("Y")
}else{$("#saveAddressDetailsHidden").val("N")
}fishersci.components.ShoppingCart.submitShippingForm()
}else{a.show();
console.log("Form is not valid");
return false
}},processPaymentForm:function(){if(fishersci.Forms.processForm(q)){console.log("Form is valid, moving to submitPaymentForm() ");
fishersci.components.ShoppingCart.submitPaymentForm()
}else{a.show();
console.log("Form is not valid")
}},submitShippingForm:function(){console.log("SUBMIT: submitShippingForm")
},submitPaymentForm:function(){console.log("SUBMIT: submitPaymentForm");
q.submit()
},processCustomerDataForm:function(){if(fishersci.Forms.processForm(w)){console.log("Form is valid, moving to submitCustomerDataForm() ");
fishersci.components.ShoppingCart.submitCustomerDataForm()
}else{a.show();
console.log("Form is not valid")
}},submitCustomerDataForm:function(){console.log("SUBMIT: submitCustomerDataForm")
},openPrintViewPage:function(z,y){if(env.vatExempt){window.print()
}else{Handlebars.registerPartial("itemTablePrintView",Handlebars.templates["check-out/itemTablePrintView"]);
Handlebars.registerPartial("itemTablePrintViewSAP",Handlebars.templates["check-out/itemTablePrintViewSAP"]);
Handlebars.registerPartial("cartTableLayout",Handlebars.templates["check-out/cartTableLayout"]);
fishersci.Common.getTranslationData("printview",false);
$.ajax({url:z,dataType:"json",beforeSend:function(){console.log("Getting cart for Print View")
},error:function(A){},success:function(C){C.title=I18n.translations[LocalePath.getLanguage()]["printview"].messages[y];
var B=$(".header_wrap .logo img").attr("src");
C.imgURL=B;
var A=(Handlebars.templates["check-out/shoppingCartPrintView"](C));
fishersci.Common.printHtmlElement(A,".shopping_cart_print_view")
}})
}}}
}());
NS("fishersci.components").MyProfile=(function(){var h,f,l,m,k,e,o,d,n,b,a,p,g,j;
return{init:function(){var q=this;
q.initVariables();
$(".checkall").on("click",function(r){r.preventDefault();
fishersci.Forms.checkAllBoxes(this)
});
$(".uncheckall").on("click",function(r){r.preventDefault();
fishersci.Forms.uncheckAllBoxes(this)
});
f.on("click",function(r){r.preventDefault();
q.editProfile(this)
});
m.on("click",function(r){r.preventDefault();
q.cancelEditMode(this)
});
k.on("click",function(r){r.preventDefault();
q.saveProfile(this)
});
g.on("click",function(){q.processEmailPreferencesForm()
});
o.on("click",function(s){s.preventDefault();
var r=q.validate_requiredFields(s);
if(r){n.hide()
}else{n.show()
}});
a.on("click",function(s){s.preventDefault();
var r=q.validate_requiredFields1(s);
if(r){n.hide()
}else{n.show()
}});
d.on("click",function(r){r.preventDefault();
$.colorbox.close()
});
l.on("click",function(){console.log("edit click");
q.editCC(this);
return false
});
h.find("input#phone, input#fax").blur(function(){var r=$(this).val();
r=r.replace(/[A-Za-z$-]/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3");
$(this).val(r)
})
},initVariables:function(){h=$(".my_profile");
f=h.find(".edit_mode_btn");
l=h.find(".edit_cc_btn");
m=h.find(".cancel_edit_btn");
k=h.find(".save_profile_btn");
e=$("#update_password_form");
o=e.find("a.btn_update_password");
d=e.find("a.cancel_update_password");
n=$("#top_Error_Panel");
b=$("#certificate-search-form");
a=b.find("a.certificate-srch-btn");
p=$("#emailPreferences");
g=$("#saveEmailPreferences");
j=$("#additional_emails")
},processForm:function(q){},submitForm:function(q){},processEmailPreferencesForm:function(){$("#emailPreferences label.error").remove();
var v=new RegExp(/^$|^([\w+-.%]+@[\w-.]+\.[A-Za-z]{2,4};?)+$/),u=j.attr("data-form-error-message");
var w=true;
var s=j.val();
var q=s;
if(q!=""){var r=q.split(";");
$.each(r,function(y,z){if(z==""){w=false
}else{if(!v.test(z)||z.length>50){w=false
}}})
}if(w){p.submit()
}else{j.after("<label class='error injected_label'><span class='icon_Warning_Triangle font_icon'></span>"+u+"</label>")
}},editProfile:function(r){var q=$(r).parents(".profile_section");
q.addClass("edit_mode");
q.find(".disabled").removeClass("disabled");
q.find("input").attr("disabled",false)
},validate_requiredFields:function(r){var q=fishersci.Forms.processForm(e);
return q
},validate_requiredFields1:function(q){var r=fishersci.Forms.processForm(b);
return r
},cancelEditMode:function(r){var s=this,q=$(r).parents(".profile_section");
$(r).closest("form")[0].reset();
s.resetFormMode(q)
},cancelCardEditMode:function(r){var s=this,q=$(r).parents(".profile_section");
$(r).closest("form")[0].reset();
s.resetCCEditFields(q)
},saveProfile:function(u){var v=this,r=$(u).parents(".profile_section"),w=r.find(".credit_card_fields");
if(w.length){var q=w.find("#full_cc");
var y=w.find("#cc_1").val()+""+w.find("#cc_2").val()+""+w.find("#cc_3").val()+""+w.find("#cc_4").val()+"";
q.val(parseInt(y))
}var s=fishersci.Forms.processForm(r);
if(s){}else{}},resetFormMode:function(q){if(q.length){q.removeClass("edit_mode");
q.find(".injected_label").remove();
q.find(".form_errors").hide();
q.find("#substituteMsg").hide();
q.find(".checked").attr("checked","checked");
q.find(".error .injected_label").remove();
q.find(".form_field").removeClass("error");
q.find(".checkbox_set").addClass("disabled");
q.find("input").attr("disabled",true);
q.find("#full_cc").val("");
q.find(".aoiErrMsg").addClass("hide");
if(q.find("#selectedInd").length){selectIndustry(parseInt(q.find("#selectedInd").attr("data-attr")));
q.find("#selectedInd").prop("selectedIndex",q.find("#selectedInd").attr("data-attr"));
q.find("#subseg").prop("selectedIndex",q.find("#subseg").attr("data-attr"));
q.find("#no_employees").prop("selectedIndex",q.find("#no_employees").attr("data-attr"));
validateCheckBox();
$("#jobrole_checks").find("input[type=checkbox]").attr("disabled",true);
$("#aoi_checks").find("input[type=checkbox]").attr("disabled",true);
$("#subSegContainer").slideDown()
}}},editCC:function(D){var B=this;
var s=$(".inline_cc_edit_fields");
s.find("input").val("");
s.find("select").val("");
var r=$(D);
var F=r.parents("table");
var z=F.find(".cc_alias").text();
var u=F.find(".cc_exp").text().split("/");
var w=""+u[0];
if(w.length==1){w="0"+u[0]+""
}var C=u[1];
var q=F.find(".cc_ref").text();
var A=F.find(".cc_type").text();
var y=F.find(".cc_num").text();
var E=F.find(".cc_number").val();
s.find("#cc_alias_to_edit").val(z);
s.find("#cc_exp_month_to_edit").val(w);
s.find("#cc_exp_year_to_edit").val(C);
s.find("#cc_bill_to_attn_to_edit").val(q);
s.find("#cc_num_to_edit").text(y);
s.find("#cc_number_to_edit").val(E);
s.find("#cc_type_to_edit1").text(A);
s.find("#cc_type_to_edit").val(A);
s.find("#expDatesHiddenEdit").val(w+C);
$(".credit_card_info_section .read_only_label").hide();
s.removeClass("hide").show();
var v=false;
$(".cancel_cc_edit_btn").on("click",function(){B.cancelCardEditMode(this);
return false
});
$(".save_cc_edit_btn").on("click",function(){v=fishersci.Forms.processForm(s);
if(v){}else{}return false
});
console.log(v)
},resetCCEditFields:function(q){$(".credit_card_info_section .read_only_label").show();
$(".credit_card_info_section .inline_cc_edit_fields").hide();
if(q.length){q.find(".injected_label").remove();
q.find(".form_errors").hide();
q.find(".error .injected_label").remove();
q.find(".form_field").removeClass("error")
}}}
}());
NS("fishersci.components").LiveChat=function(){var g="LiveChat.js",f,e,a,d,b=($("input[name=displayMode]").val()==="b")?true:false;
return{init:function(j){console.log("init called from "+g);
var h=this;
if(h.isLiveChatActive()){console.log("Live Chat available");
$("#lpchat,#lpchatfr").fadeIn();
$(".contact").addClass("remove_pipe")
}else{console.log("Live Chat NOT available");
if(b){$("#customerServiceButton").addClass("hide");
$("#serviceText2").addClass("hide");
$("#serviceText1").removeClass("hide")
}else{$("#lpchat,#lpchatfr").parent().remove()
}return false
}},isLiveChatActive:function(){var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
var s=new Date();
var o=window.livechatvariable||"{}";
var l=JSON.parse(o);
var q=r[s.getDay()];
var h=false;
var k,p,j,m;
if(typeof l.livechat!="undefined"){if(l.livechat.length===0){return false
}for(var n in l.livechat){if(l.livechat[n].day==q){m=s.getMinutes();
if(m<10){m="0"+m
}j=parseInt(s.getHours()+""+m);
k=parseInt(l.livechat[n].starttime.replace(":",""));
p=parseInt(l.livechat[n].endtime.replace(":",""));
if(j>k&&j<p){h=true;
break
}}}if(h){return true
}else{return false
}}else{return false
}},doLiveChatClick:function(){console.log("doLiveChatClick called from "+g);
$(".lpChatTextLink").trigger("click")
}}
}();
NS("fishersci.components").ContactUs=(function(){var k,f,e,g,d,a,j,b,h;
return{init:function(){console.log("contact us form");
var l=this;
l.initVariables();
if(k.length){console.log("ContactUs.init()");
if($(".contactsinfo").find(".contactsinfo").length>-1){l.populateCountrySpecificData()
}l.initLocationDropdowns();
f.on("click",function(o){o.preventDefault();
var n=$(this).data("form-name");
var m=$('form[name="'+n+'"]');
l.addHiddenFormFields(n);
l.processForm(m)
});
k.find('*[data-form-validation-match="phone"]').blur(function(){var m=$(this).val();
m=m.replace(/[A-Za-z$-]/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3");
$(this).val(m)
});
e.on("click",function(){var n=$(this).data("form-name");
var m=$('form[name="'+n+'"]');
fishersci.Forms.clearForm(m);
return false
});
$(".list_cancel_tag").on("click",function(){$(this).closest(".off_canvas_wrap").find(".off_canvas_link").click()
})
}$(".js_print_ack").on("click",function(){l.printAcknowledgement()
})
},initVariables:function(){k=$(".contact_us_form");
f=k.find(".submit_form");
e=k.find(".clear_form");
g=$(".continent_select");
d=$(".country_select");
a=window.location.pathname.replace(".html","");
j=fishersci.Common.inCQAuthoringMode();
b=fishersci.Common.getQueryString("continent");
h=fishersci.Common.getQueryString("country")
},processForm:function(l){if(typeof l!=="undefined"){k=l
}$.validity.outputs.contactUsErrors={start:function(){$(".form_errors").hide();
$(".error .injected_label").remove();
$(".form_field").removeClass("error")
},end:function(r){if(!r.valid&&$.validity.settings.scrollTo){location.hash=$(".error:eq(0)").attr("id")
}},raise:function(u,s){var r=$(u.parents(".form_field")[0]);
r.addClass("error");
u.addClass("error");
r.append('<label class="error injected_label"><span class="icon_Warning_Triangle font_icon"></span>'+s+"</label>")
},raiseAggregate:function(s,r){this.raise($(s.get(s.length-1)),r)
}};
$.validity.setup({outputMode:"contactUsErrors"});
var p=this,n=k.find("[data-form-validity]"),q="form-required-field",m="form-validation-match";
$.validity.start();
n.each(function(){var r=$(this),w=r.data(q),s=r.data(m),v=r.data("form-error-message")||"This field is required (default)";
if(w!=="undefined"){r.require(v)
}if(typeof s!=="undefined"){var u=r.data(m);
if(u.toLowerCase()==="phone"){u=fishersci.Forms.PHONE_REGEX()
}r.match(u,v)
}});
var o=$.validity.end();
if(o.valid){k.submit()
}else{console.log("Form is not valid")
}},initLocationDropdowns:function(){var l=this;
g.on("change",l.populateCountrySelect);
if(j){d.on("change",function(){var o=g.val();
var n=d.val();
var m=fishersci.Common.flushQueryStrings(window.location.href);
m+="?continent="+o+"&country="+n;
window.location=m
});
if(typeof b!=="undefined"&&typeof h!=="undefined"){g.val(b);
d.val(h);
l.populateCountrySpecificData()
}}else{d.on("change",l.populateCountrySpecificData)
}},populateContinentsSelect:function(){console.log("populateContinentsSelect()");
var m=$(this),n=window.location.pathname.replace(".html",""),l=n+"/jcr:content.continents.all.json",o={};
$.ajax(l).done(function(p){console.log("Done");
console.dir(p);
o=p
}).fail(function(){console.log("error occured")
}).always(function(){console.log("complete")
})
},populateCountrySelect:function(){console.log("populateCountrySelect()");
var n=this,m=$(this),o=m.val(),l=a+"/jcr:content.continents.all.json";
$.ajax(l).done(function(s){var q=fishersci.components.ContactUs.getCountryListFromContinentObj(o,s);
d.find("option").remove();
if(typeof q!="undefined"){var r="";
for(var p=0;
p<q.length;
p++){r=q[p];
d.append('<option value="'+r.value+'">'+r.text+"</option>")
}d.prepend('<option value="default">Select a country</option>')
}}).fail(function(){console.log("error: "+l)
})
},getCountryListFromContinentObj:function(n,o){var m="";
for(var l=0;
l<o.length;
l++){m=o[l];
if(m.value.trim()==n.trim()){return m[m.value]
}}},populateCountrySpecificData:function(){var o=g.val();
var n=d.val();
var l=$(".contactsinfo");
var m=a+"/jcr:content/content-par-main/contactslanding.contactsinfo.ajax.html?continent="+o+"&country="+n;
$.ajax(m).done(function(p){l.html(p)
}).fail(function(){console.log("error: "+m)
})
},printAcknowledgement:function(){var l=$(".contactus_ack").html();
var m=window.open("","title","attributes");
m.document.write(l);
m.document.close();
m.focus();
m.print();
m.close()
},addHiddenFormFields:function(l){$.ajax({dataType:"json",url:"/libs/services/token.json?cache=false",async:false,success:function(n){if(l=="websiteSupportForm"){var p=$("#preferredEmailContainer2")
}else{var p=$("#preferredEmailContainer")
}if(p.length==0){return
}var o=n.token;
var m=$("#email_token");
if(m.length==0){if(l=="websiteSupportForm"){var q='<input id="preferred_email_token2" type="hidden" name="preferred_email_token2" value="'+o+'"/>'
}else{var q='<input id="preferred_email_token" type="hidden" name="preferred_email_token" value="'+o+'"/>'
}p.append(q)
}else{m.val(o)
}}})
}}
}());
NS("fishersci.components").BrowseResults=(function(){var k="BrowseResults.js",D,o,P,l,y,K,H,u,A,z,v,Q,B,f,O,W,G,d,I,F,X,J,L,R,j,C,h,b,V,M,S,n,r,p,E,a,m,e,w,s,N,T,q,g,U;
return{init:function(){console.log("init called from "+k);
var Z=this;
var Y;
Z.initVariables();
if(L){s.on("click",w,function(ab){$this=$(this);
if(!$(this).parent().hasClass("top_level")){$("#content_spotlighting").html("");
if($this.is("a")){ab.preventDefault()
}var aa=$this.data("refinements");
location.hash="nav="+aa;
m.val(aa);
Z.initBrowseResults({refine:true})
}});
e.on("change",function(){var aa=m.val();
if(typeof aa!=="undefined"&&aa!=""){location.hash="nav="+aa
}else{location.hash=""
}Z.initBrowseResults({sortBy:true})
});
$(window).on("scroll",function(ac){var aa=$("html").scrollTop();
var ab=$("#back-to-top-button");
if(aa>650&&!ab.hasClass("active")&&fishersci.Common.inDesktopBreakpoint()){ab.show(300);
ab.toggleClass("active");
ab.off("click").on("click",function(ad){ad.preventDefault();
$("html,body").animate({scrollTop:0},200);
return false
})
}else{if(aa<300&&$("#back-to-top-button").hasClass("active")){ab.hide(300);
ab.toggleClass("active")
}}})
}fishersci.Common.glyphToolTipHover();
if(D.length){Z.offCanvasFilters();
Z.removeItemLevelFacet();
fishersci.SearchCommon.appendStrategyResponse(window.searchResults)
}Y=fishersci.Common.getHashToArray();
if(m.val()==""){if(fishersci.Common.getHashToArray().arrayToObj().nav){m.val(fishersci.Common.getHashToArray().arrayToObj().nav)
}}},initVariables:function(){D=$(".search_results");
o=$(".search_results_filters");
P=(".search_filter");
l=$(".item_Facet_Value .icon_Remove");
y=LocalePath.getLocalePath()+"catalog/service/search/products";
K=LocalePath.getLocalePath()+"catalog/service/browse/products";
H=LocalePath.getLocalePath()+"catalog/service/search/msds";
u=$("#SCSearchTerm").attr("content");
A=$(".pagination ul li").not(".active",".disabled");
z=$(".pagination-container");
v=!fishersci.Common.isLocal()?y:"/etc/designs/fishersci/clientlibs/json-temp/search-results.json";
Q=!fishersci.Common.isLocal()?K:K;
B=!fishersci.Common.isLocal()?H:H;
f=$("#hb-refinements");
O=$("#hb-breadcrumbs");
W=$("#hb-search");
G=30;
d=fishersci.Common.getQueryString("page")!=""?fishersci.Common.getQueryString("page"):1;
I=30;
F=$('[data-result="start"]');
X=$('[data-result="end"]');
J=$('[data-result="total"]');
L=(typeof env!=="undefined"&&env.isBrowse)?true:false;
R=(typeof env!=="undefined"&&env.isMsdsSearch)?true:false;
j=$("#browseIdentifier").val();
C=$("#checkTest").val();
h=$("#OverrideCross").val();
b=$("#browsefilters").val();
V=$("#categoryfilter").val();
M=$("#brandfilter").val();
S=$("#offerfilter").val();
$_ISBROWSE_ITEMLEVEL=$("#isbrowseItemLevel").val();
r=$("#retreiveKey").val();
p=$(".browse_header");
E=$(".browse_error_msg");
a=$(".browse_error");
m=$('[data-type="refinement-nav"]');
e=$('[data-type="refinement-sort"]');
w='[data-type="refinement"]';
s=$(".general_search");
N=$("#content_spotlighting");
T=false;
q=$("#showMoreNav");
g=$(".filter_error_msg");
U=$(".more_results")
},updateRefinements:function(){if($(".selected_link").length){var ab,ac;
var Y=new Array();
var Z="";
if(typeof b!=="undefined"){Y=b.split(",")
}$.each(Y,function(ad,ae){Z=Z+ae;
if(ae!=""){Z=Z+"+"
}});
Z=Z.substring(0,Z.length-1);
ab=$(".selected_link").length-1;
ac=$("#all_categories").attr("value");
$(".selected_link:eq( "+ab+" )").addClass("selected");
if(typeof $_ISBROWSE_ITEMLEVEL!=="undefined"&&$_ISBROWSE_ITEMLEVEL=="browseItemLevel"){if(!h){$(".remove_all").attr("data-refinements",Z);
for(var aa=0;
aa<ab;
aa++){if(Y[0]){if($(".selected_link:eq( "+aa+" ) a").attr("data-id")!==Y[0]){$(".selected_link:eq( "+aa+" ) a").attr("href","javascript:void(0)");
$(".selected_link:eq( "+aa+" )").addClass("selected top_level")
}}}}else{$(".remove_all").attr("data-refinements",$(".selected_link:eq( "+ab+" ) a").attr("data-id"))
}}else{$(".remove_all").attr("data-refinements",$(".selected_link:eq( "+ab+" ) a").attr("data-id"));
$(".selected_link:eq(0) a").attr("href","javascript:void(0)");
$(".selected_link:eq(0)").addClass("selected top_level")
}$(".selected_link:eq( "+ab+" ) a").attr("href","javascript:void(0)")
}},initBrowseResults:function(ac){console.log("initBrowseResults called from "+k);
var af=fishersci.components.BrowseResults;
var ac=ac||{};
var ah=fishersci.Common.getHashToArray();
var Y=m.val()||"";
var ag=j;
var ai=ah.arrayToObj();
var aa=ai.offset||0;
var Z=ac.refine||false;
var ad=ac.sortBy||false;
var ab=e.val();
N.html("");
if(C){data={storeId:"10652",offset:aa,sortBy:e.val(),keyword:r}
}else{data={storeId:"10652",offset:aa,Ns:e.val()}
}if(Y!=""){data.nav=Y
}if(Y===""&&ag!==""){data.identifier=ag
}if(C){delete data.identifier
}if(typeof $_ISBROWSE_ITEMLEVEL!=="undefined"&&$_ISBROWSE_ITEMLEVEL=="browseItemLevel"){data.type="itemPM";
if(typeof(data.nav)==="undefined"){data.nav=af.getNavId(data)
}}var ae="";
if(C){ae=y
}else{ae=Q
}$.ajax({url:ae,dataType:"json",data:data,beforeSend:function(){fishersci.Common.showPleaseWaitMessage()
},success:function(ak){d=1;
fishersci.SearchCommon.initBrowseObject({data:ak});
fishersci.Common.hidePleaseWaitMessage();
af.initRefinements({data:ak});
af.initBreadcrumbs({data:ak});
af.renderSearchResults({data:ak});
af.setSearchDisplayElements({data:ak});
af.updateProductCount({data:ak});
z.show();
fishersci.Common.glyphToolTipHover();
if(Z||ad){fishersci.SearchCommon.renderPagination({items:ak.aggrRecordListSize,hrefTextPrefix:location.hash?location.hash.replace(fishersci.Common.removeSearchRegEx(),"")+"&page=":"#&page=",onPageClick:function(al,am){af.getLoadMore({pageNumber:al})
}})
}if(ak.contentSpotlightVO.pageUrl){for(var aj in ak.contentSpotlightVO.pageUrl){if(aj===2){break
}fishersci.SearchCommon.doContentSpotlighting({url:ak.contentSpotlightVO.pageUrl[aj],container:$("#content_spotlighting")})
}}else{N.hide()
}q.val(ak.refine);
if(!ak.errorMessage){af._doBrowseCat(ak)
}else{af._doBrowseError(ak.errorMessage);
O.hide()
}if(!ak.refErrorMessage){$(".breadcrumb_section").show();
$(".search_refinements_error_message").hide()
}else{$(".search_refinements_error_message").find("p").html(ak.refErrorMessage);
$(".search_refinements_error_message").show();
$(".breadcrumb_section").hide()
}$("html, body").animate({scrollTop:0},800);
fishersci.SearchCommon.initBrandSearch()
}})
},getNavId:function(Z){console.log("getNavId called from "+k);
var Y="";
if(V!=""){Y=V
}if(M!=""){Y=Y+"+"+M
}if(S!=""){Y=Y+"+"+S
}if(Y.startsWith("+")){Y=Y.substr(1)
}return Y
},_doBrowseError:function(Y){console.log("_doBrowseError called from "+k);
a.removeClass("hide").html(Y);
E.removeClass("hide");
p.removeClass("hide").fadeIn();
fishersci.Common.hideOnError()
},_doBrowseCat:function(Y){console.log("_doBrowseCat called from "+k);
p.removeClass("hide").fadeIn()
},updateProductCount:function(Y){console.log("updateProductCount called from "+k);
if($('.circle[id*="tabname"]').length>0){$('.circle[id*="tabname"]').eq(0).text(Y.data.aggrRecordListSize)
}},initRefinements:function(ac){console.log("initRefinements called from "+k);
var Y=m.val()||"";
var ae=this,ah=ac.data.refinements!=null?ac.data.refinements.length.length:0;
if(ah===0){f.find(".off_canvas_target").html("<h4>No Refinements</h4>");
return false
}var ag=(fishersci.Common.getFullURL().indexOf("identifier")<0);
var Z=ac.data;
Z.showRemoveAll=ag;
for(var ad=0;
ad<Z.refinements.length;
ad++){var af=Z.refinements[ad];
af.showRefinement=(ag||af.name.substr(0,5).toLowerCase()!="brand")
}for(var ad=0;
ad<Z.breadCrumbs.length;
ad++){var af=Z.breadCrumbs[ad];
af.showX=(ag||af.name.substr(0,5).toLowerCase()!="brand")
}ac.data.isFromSEO=C;
ac.data.overrideFilter=(h=="true");
var ab=new Array();
var aa=[", ","+"];
if(typeof b!=="undefined"){ab=b.split(new RegExp("["+aa.join("")+"]","g"))
}$.each(ac.data.breadCrumbs,function(aj,ak){var ai=ak.breadcrumbElements;
$.each(ai,function(al,am){if($.inArray(am.id,ab)==-1){am.browseFlag=true
}})
});
$.each(ac.data.refinements,function(aj,ak){var ai=ak.refinementElements;
$.each(ai,function(al,am){if($.inArray(am.id,ab)==-1){am.browseFlag=true
}if(window.location.href.indexOf("nav")>-1){am.nav=Y
}})
});
f.html("");
if(typeof $_ISBROWSE_ITEMLEVEL!=="undefined"&&$_ISBROWSE_ITEMLEVEL=="browseItemLevel"){f.append(Handlebars.templates["browse/browseItemLevelRefinements"](ac.data))
}else{f.append(Handlebars.templates["browse/browseRefinements"](ac.data))
}fishersci.Common.initCollapsibleBlocks();
$(P).each(function(ai){if(ai>3){$(this).removeClass("active")
}});
ae.updateRefinements()
},initBreadcrumbs:function(Z){console.log("initBreadcrumbs called from "+k);
var Y=this;
O.html("");
if($("#hb-breadcrumbs").length!=0){document.getElementById("hb-breadcrumbs").innerHTML=Handlebars.templates["browse/browseBreadcrumbs"](Z.data);
if($("html").hasClass("ie8")){$(".facet_Group_wraper li.chevron").each(function(){$(this).removeClass("chevron").addClass("chevron_ie8").next().css("border-left","none").end().prev().css("margin-right","-10px")
})
}}},renderSearchResults:function(aa){console.log("renderSearchResults called from "+k);
var Z=this;
var Y;
if(aa.data.refErrorMessage=="_ERR_REFINEMENT"){g.show();
U.hide()
}else{g.hide();
U.show()
}W.html("");
aa.data.startFrom=aa.data.startFrom||0;
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
if(typeof(aa.data.productResults)!=="undefined"){W.append(Handlebars.templates["browse/browseResults"](aa.data))
}Y=setTimeout(function(){if(env.accountNumber){fishersci.SearchCommon.getPricingOnSearch.apply(aa.data);
clearTimeout(window.acctTimer)
}},500)
},getLoadMore:function(aa){console.log("getLoadMore called from "+k);
var ab=this;
var aa=aa||{};
var ac={pageNumber:1};
var Y=$.extend(ac,aa);
var ad=m.val()||"";
var Z=j;
if(C){data={storeId:"10652",offset:0,sortBy:e.val(),keyword:r}
}else{data={storeId:"10652",offset:0,Ns:e.val(),keyword:u}
}if(Y.pageNumber>1){data.offset=((Y.pageNumber-1)*I)
}d=Y.pageNumber;
if(ad!=""){data.nav=ad
}if(ad===""&&Z!==""){data.identifier=Z
}if(C){delete data.identifier
}if(typeof $_ISBROWSE_ITEMLEVEL!=="undefined"&&$_ISBROWSE_ITEMLEVEL=="browseItemLevel"){data.type="itemPM";
if(typeof(data.nav)==="undefined"){data.nav=ab.getNavId(data)
}}$.ajax({url:ab.setLoadMoreUrl(),dataType:"json",data:data,beforeSend:function(){T=true;
z.after('<img src = "/shop/FisherSci/theme/images/search/ajax_loader_product.gif" class="spinner_icon" />')
},success:function(ae){z.next("img.spinner_icon").remove();
fishersci.SearchCommon.initBrowseObject({data:ae});
ab.renderLoadMore({data:ae});
T=false
}})
},setLoadMoreUrl:function(){console.log("setLoadMoreUrl called from "+k);
if(L){if(C){return y
}else{return Q
}}if(R){return B
}return v
},setSearchDisplayElements:function(aa){console.log("setSearchDisplayElements called from "+k);
var Z=aa.data;
var Y=0;
if(typeof(aa.data.productResults)!=="undefined"){endPage=fishersci.SearchCommon.getEndPage({pageNumber:d,data:Z})
}if(Z.aggrRecordListSize<=G){X.text(Z.aggrRecordListSize)
}else{z.show();
X.text(endPage)
}F.text(((d-1)*I)+1);
J.text(Z.aggrRecordListSize)
},renderLoadMore:function(ac){console.log("renderLoadMore called from "+k);
var ab=ac.data;
var Z=this;
var Y=ab.aggrRecordListSize,aa=(d-1)*G;
ab.startFrom=aa;
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
W.html(Handlebars.templates["browse/browseResults"](ab));
F.text(((d-1)*I)+1);
if(Y<=(d*G)){X.text(Y)
}else{X.text(d*G);
z.show()
}fishersci.SearchCommon.getPricingOnSearch.apply(ab);
$("html, body").animate({scrollTop:0},400)
},offCanvasFilters:function(){f.on("click",".off_canvas_link",function(Y){var Z=$(this);
if(o.hasClass("off_canvas_active")){o.removeClass("off_canvas_active")
}else{o.addClass("off_canvas_active")
}if(Z.hasClass("active")){Z.removeClass("active")
}else{Z.addClass("active")
}})
},removeItemLevelFacet:function(){console.log("removeItemLevelFacet called from "+k);
l.on("click",function(Y){if($(this).closest("ul.facet_Group_wraper").children().length>3){$(this).closest("li.item_Facet_Value").remove()
}else{$(this).closest("ul.facet_Group_wraper").remove()
}})
}}
}());
NS("fishersci.components").MagellanSearch=(function(){var b="MagellanSearch.js";
var a="10652";
window.pricingData=window.pricingData||{};
return{init:function(){},addProductToCart:function(l,m){console.log("HOST PAGE received products for cart:"+JSON.stringify(l));
var g=LocalePath.getLanguage();
var j=LocalePath.getCountry();
var e=l[0].sku;
var n=l[0].qty||1;
var k="/shop/additemstocart";
var h={storeId:"10652",successUrl:"pqvaddtocartview",shoppingCartQty:n,errorUrl:"pqvaddtocartview",shoppingCartCatNum:e,shoppingCartUnits:l[0].shoppingCartUnits||"EA",used:"0",requestIsAJAX:"true",addOne:"true",ignoreEmptyQty:"true",addToCartFrom:"Magellan"};
var d="";
var f;
if(!$.cookie("addToCartInitiated")){f=new Date();
f.setTime(f.getTime()+(60*60*1000));
$.cookie("addToCartInitiated","yes",{expires:f,path:"/"});
d=",scOpen"
}if(l[0].assayID){h.assayId=l[0].assayID
}if(l[0].geneSymbols){h.geneSymbols=l[0].geneSymbols.join(",")
}if($.cookie("new_cart")){k="/store1/addToCartService/service/?language="+g+"&countryCode="+j.toUpperCase()+"&headerString=";
h={addToCartFrom:"Magellan",cartId:"",itemList:[{partNumber:e,quantity:n,uom:l[0].shoppingCartUnits||"EA"}]};
if(l[0].assayID){h.itemList[0].assayId=l[0].assayID
}if(l[0].geneSymbols){h.itemList[0].geneSymbol=l[0].geneSymbols.join(",")
}}$.ajax({url:k,data:h,type:"POST",error:function(q){if($.cookie("new_cart")){fishersci.Common.getTranslationData("cartcheckout",false);
var o=JSON.parse(q.responseText);
if(o.body.showError){try{fishersci.Modals.cartErrorModal({message:I18n.translations[I18n.locale].cartcheckout.messages.webOrderingUnavailable,serviceErrorCode:o.body.serviceErrorCode,icon:"icon_Warning_Triangle"})
}catch(p){console.log(p)
}}}},success:function(p){var q="GET";
var o="";
if(typeof $.cookie("new_cart")==="undefined"){p=typeof p=="string"?JSON.parse(p):p
}if($.cookie("new_cart")){if(typeof p.messageList!=="undefined"){$.each(p.messageList,function(r,s){if(s==="mismatchTransTax"){document.location.href="/store1/cart/?language="+g+"&countryCode="+j.toUpperCase()+"&urlMessages=mismatchTransTax"
}if(s==="EXCEEDS_CART_LINES"){document.location.href="/store1/cart/?language="+g+"&countryCode="+j.toUpperCase()+"&urlMessages=EXCEEDS_CART_LINES"
}})
}}if(p.wasAdded===true){if($.cookie("new_overlay")){if($.cookie("new_overlay_post")){q="POST";
o=p
}$.ajax({url:"/store1/cartOverlay/"+e+"?language="+LocalePath.getLanguage().toLowerCase()+"&countryCode="+LocalePath.getCountry().toUpperCase(),dataType:"html",method:q,data:o,success:function(r){if($("#cartOverlay").length>0){$("#cartOverlayWrapper, #pageOverlay").remove()
}$("body").append(r)
}})
}else{fs_updateCartletState(p);
if(typeof fishersci.components.Cartlet!=="undefined"){fishersci.components.Cartlet.toggleCartlet("on")
}}fishersci.Common.setProductDataLayer({partNumber:e,merchVars:"eVar33=Magellan Search"});
fishersci.Common.setEventDataLayer({event:"scAdd"+d});
fisherDataLayer.productData.cartId=p.cartId;
fisherDataLayer.productData.cartTotal=p.subTotal;
fisherDataLayer.productData.partNumber=e;
fisherDataLayer.productData.addToCartFrom="Magellan";
fishersci.Common.doSatelliteTrack("addToCart")
}else{p.wasAdded="false";
if(p.messageList){p.errorMsg=p.messageList[0]
}fishersci.Common.setProductDataLayer({partNumber:e,merchVars:""});
fishersci.Common.doSatelliteTrack("magellanRestricted")
}m(p)
}})
},getPricing:function(){if(!arguments){return
}console.log(arguments);
var d=this;
var e=arguments[0].parts;
var h=arguments[1];
var g=[];
var f=[];
if(e.length>0){$.ajax({url:"/shop/service/price",contentType:"application/json",dataType:"json",method:"POST",data:'{"parts":'+JSON.stringify(e)+"}",success:function(k){if(k){h(k);
g=d.buildBadPricingString(k);
if(g.length>0){for(var j=0;
j<g.length;
j++){f.push(";"+g[j]+";;;;")
}fisherDataLayer.products=f.join(",");
fishersci.Common.doSatelliteTrack("magellanNA")
}}},error:function(j){console.log(j)
}})
}},buildBadPricingString:function(e){var f=[];
for(var d=0;
d<e.length;
d++){if(!e[d].valid){f.push(e[d].partNumber)
}}return f
},resizeSearchiFrame:function(d){$("#magellan-frame").css("height",d)
}}
}());
NS("fishersci.components").BrandResults=(function(){var k="BrandResults.js",A,n,M,u,l,y,I,v,O,b,d,z,w,N,h,L,Q,T,S,q,s,D,f,F,C,R,H,J,j,o,B,a,m,g,e,r,K,G,E,P,p;
return{init:function(){console.log("init called from "+k);
var U=this;
U.initVariables();
if(J){r.on("click",e,function(W){$this=$(this);
$("#content_spotlighting").html("");
if($this.is("a")){W.preventDefault()
}var V=$this.data("refinements");
location.hash="nav="+V;
m.val(V);
U.initBrowseResults({refine:true})
})
}if(A.length){U.offCanvasFilters();
U.removeItemLevelFacet()
}fishersci.components.BrowseResults.updateRefinements();
args=fishersci.Common.getHashToArray();
if(m.val()==""){if(fishersci.Common.getHashToArray().arrayToObj().nav){m.val(fishersci.Common.getHashToArray().arrayToObj().nav)
}}},initVariables:function(){A=$(".search_results");
n=$(".search_results_filters");
M=(".search_filter");
u=$(".off_canvas_link");
l=$(".item_Facet_Value .icon_Remove");
y=LocalePath.getLocalePath()+"catalog/service/search/products";
I=LocalePath.getLocalePath()+"catalog/service/browse/products";
v=$("#SCSearchTerm").attr("content");
O=$("#loadmoresearch");
b=$(".load_more");
d=$(".load_more_container");
z=$(".pagination-container");
w=!fishersci.Common.isLocal()?y:"/etc/designs/fishersci/clientlibs/json-temp/search-results.json";
N=!fishersci.Common.isLocal()?I:I;
h=$("#hb-refinements");
L=$("#hb-breadcrumbs");
Q=$("#hb-search");
T=!fishersci.Common.isLocal()?"/shop/FisherSci/catalog/search/templates/search-refinements-tmpl.html":"/etc/designs/fishersci/clientlibs/handlebars/search/searchRefinements.hbs";
S=!fishersci.Common.isLocal()?"/shop/FisherSci/catalog/search/templates/search-results-breadcrumbs-tmpl.html":"/etc/designs/fishersci/clientlibs/handlebars/search/searchBreadcrumbs.hbs";
q=!fishersci.Common.isLocal()?"/shop/FisherSci/catalog/browse/templates/browse-breadcrumbs-tmpl.html":"/etc/designs/fishersci/clientlibs/headlibs/js/handlebars/browse-breadcrumbs-tmpl.html";
s=!fishersci.Common.isLocal()?"/shop/FisherSci/catalog/browse/templates/brand-refinements-tmpl.html":"/etc/designs/fishersci/clientlibs/headlibs/js/handlebars/brand-refinements-tmpl.html";
D=30;
f=fishersci.Common.getQueryString("page")!=""?fishersci.Common.getQueryString("page"):1;
F=30;
C=$('[data-result="start"]');
R=$('[data-result="end"]');
H=$('[data-result="total"]');
J=(typeof env!=="undefined"&&env.isBrand)?true:false;
j=$("#browseIdentifier").val();
o=$(".browse_header");
B=$(".browse_error_msg");
a=$(".browse_error");
m=$('[data-type="refinement-nav"]');
g=$('[data-type="refinement-sort"]');
e='[data-type="refinement"]';
r=$(".general_search");
K=$("#content_spotlighting");
G=$(".brand_spotlight");
E=$("#cross-reference").length?true:false;
P=false;
p=$("#showMoreNav")
},initBrowseResults:function(Z){console.log("initBrowseResults called from "+k);
var X=fishersci.components.BrandResults;
var Z=Z||{};
var V=fishersci.Common.getHashToArray();
var ab=m.val()||"";
var U=j;
var Y=V.arrayToObj();
var aa=Y.offset||0;
var W=Z.refine||false;
K.html("");
data={storeId:"10652",offset:aa,Ns:g.val()};
if(ab!=""){data.nav=ab
}if(ab===""&&U!==""){data.identifier=U
}$.ajax({url:N,dataType:"json",data:data,beforeSend:function(){fishersci.Common.showPleaseWaitMessage()
},success:function(ac){f=1;
fishersci.SearchCommon.initBrowseObject({data:ac});
fishersci.Common.hidePleaseWaitMessage();
X.initRefinements({data:ac});
X.initBreadcrumbs({data:ac});
X.renderSearchResults({data:ac});
X.setSearchDisplayElements({data:ac});
X.updateProductCount({data:ac});
z.show();
if(W){fishersci.SearchCommon.renderPagination({items:ac.aggrRecordListSize,hrefTextPrefix:location.hash?location.hash.replace(fishersci.Common.removeSearchRegEx(),"")+"&page=":"#&page=",onPageClick:function(ad,ae){X.getLoadMore({pageNumber:ad})
}})
}if(ac.contentSpotlightVO.pageUrl){for(i in ac.contentSpotlightVO.pageUrl){if(i===2){break
}fishersci.SearchCommon.doContentSpotlighting({url:ac.contentSpotlightVO.pageUrl[i],container:$("#content_spotlighting")})
}}else{K.hide()
}p.val(ac.refine);
if(!ac.errorMessage){X._doBrowseCat(ac)
}else{X._doBrowseError(ac.errorMessage);
L.hide()
}$("html, body").animate({scrollTop:0},800)
}})
},_doBrowseError:function(U){console.log("_doBrowseError called from "+k);
G.remove();
a.removeClass("hide").html(U);
B.removeClass("hide");
o.removeClass("hide").fadeIn();
fishersci.Common.hideOnError()
},_doBrowseCat:function(U){console.log("_doBrowseCat called from "+k);
o.removeClass("hide").fadeIn()
},updateProductCount:function(U){console.log("updateProductCount called from "+k);
if($('.circle[id*="tabname"]').length>0){$('.circle[id*="tabname"]').eq(0).text(U.data.aggrRecordListSize)
}},initRefinements:function(W){console.log("initRefinements called from "+k);
var U=this,V=W.data.refinements!=null?W.data.refinements.length.length:0;
if(V===0||(V===1&&W.data.refinements[0].name==="BRAND")){h.find(".off_canvas_target").html("<h4>No Refinements</h4>");
return false
}h.html("");
h.append(Handlebars.templates["browse/brandRefinements"](W.data));
fishersci.Common.initCollapsibleBlocks();
$(M).each(function(X){if(X>3){$(this).removeClass("active")
}});
$("body").on("click",".cross-ref-item .add-to-cart",function(){var X=$(this);
addItemToCart(X)
});
fishersci.components.BrowseResults.updateRefinements()
},initBreadcrumbs:function(V){console.log("initBreadcrumbs called from "+k);
var U=this;
L.html("");
L.append(Handlebars.templates["browse/browseBreadcrumbs"](V.data));
if($("html").hasClass("ie8")){fishersci.Common.setChevrons()
}},initSearchObject:function(V){console.log("initSearchObject called from "+k);
var W=Object.keys(V.data.refinements);
V.data.labels=[];
for(i in W){V.data.labels[i]={label:W[i]}
}var U=Object.keys(V.data.breadCrumbs);
V.data.breadcrumbLabel=[];
for(i in U){V.data.breadcrumbLabel[i]={breadcrumblabel:U[i]}
}V.data.startFrom=0
},renderSearchResults:function(X){console.log("renderSearchResults called from "+k);
var W=this;
var U=fishersci.SearchCommon.getEndPage({pageNumber:f,data:X.data});
var V;
Q.html("");
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
V=Handlebars.templates["browse/browseResults"];
X.data.startFrom=X.data.startFrom||0;
if(E){data.suppressCrossRef=true
}if(X.data.aggrRecordListSize<=D){R.text(X.data.aggrRecordListSize)
}else{R.text(U)
}C.text(((f-1)*F)+1);
H.text(X.data.aggrRecordListSize);
Q.html(V(X.data));
acctTimer=setTimeout(function(){if(env.accountNumber){fishersci.SearchCommon.getPricingOnSearch.apply(X.data);
clearTimeout(window.acctTimer)
}},500);
fishersci.SearchCommon.appendStrategyResponse(X.data)
},getLoadMore:function(W){console.log("getLoadMore called from "+k);
var X=this;
var W=W||{};
var Y={pageNumber:1};
var U=$.extend(Y,W);
var Z=m.val()||"";
var V=j;
data={storeId:"10652",offset:0,Ns:g.val(),keyword:v};
if(U.pageNumber>1){data.offset=((U.pageNumber-1)*F)
}f=U.pageNumber;
if(Z!=""){data.nav=Z
}if(Z===""&&V!==""){data.identifier=V
}$.ajax({url:X.setLoadMoreUrl(),dataType:"json",data:data,beforeSend:function(){P=true;
z.after('<img src = "/shop/FisherSci/theme/images/search/ajax_loader_product.gif" class="spinner_icon" />')
},success:function(aa){z.next("img.spinner_icon").remove();
fishersci.SearchCommon.initBrowseObject({data:aa});
X.renderLoadMore({data:aa});
P=false
}})
},setRefinementTemplate:function(){console.log("setRefinementTemplate called from "+k);
if(J){return s
}return T
},getSearchTemplate:function(){console.log("getSearchTemplate called from "+k);
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
return Handlebars.templates["browse/browseResults"]
},setBreadcrumbTemplate:function(){console.log("setBreadcrumbTemplate called from "+k);
if(J){return q
}return S
},setLoadMoreUrl:function(){console.log("setLoadMoreUrl called from "+k);
if(J){return N
}if(_IS_MSDS_SEARCH){return _MSDS_LOAD_MORE_URL
}return w
},setSearchDisplayElements:function(W){console.log("setSearchDisplayElements called from "+k);
var V=W.data;
var U;
if(f>1){U=(fishersci.Common.getQueryString("offset")!=""?+fishersci.Common.getQueryString("offset"):F)+V.productResults.length
}else{U=V.productResults.length
}if(V.aggrRecordListSize<=D){R.text(V.aggrRecordListSize)
}else{z.show();
R.text(U)
}C.text(((f-1)*F)+1);
H.text(V.aggrRecordListSize)
},renderLoadMore:function(Z){console.log("renderLoadMore called from "+k);
var W=this;
var Y=Z.data;
Y.showSavings=fishersci.FisherCommerceMessages.showSavings;
Y.showAlternate=fishersci.FisherCommerceMessages.showAlternate;
Z.data.locale=LocalePath.getLocalePath();
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
var V=Handlebars.templates["browse/browseResults"],U=Y.aggrRecordListSize,X=(f-1)*D;
if(E){Y.suppressCrossRef=true
}Y.startFrom=X;
Q.html(V(Y));
C.text(((f-1)*F)+1);
if(U<=(f*D)){R.text(U)
}else{R.text(f*D)
}$("html, body").animate({scrollTop:0},400);
fishersci.SearchCommon.getPricingOnSearch.apply(Y);
fishersci.SearchCommon.appendStrategyResponse(Y)
},offCanvasFilters:function(){console.log("offCanvasFilters loaded from "+k);
h.on("click",u,function(U){console.log("clicked");
var V=$(this);
if(n.hasClass("off_canvas_active")){n.removeClass("off_canvas_active")
}else{n.addClass("off_canvas_active")
}if(V.hasClass("active")){V.removeClass("active")
}else{V.addClass("active")
}})
},removeItemLevelFacet:function(){console.log("removeItemLevelFacet called from "+k);
l.on("click",function(U){if($(this).closest("ul.facet_Group_wraper").children().length>3){$(this).closest("li.item_Facet_Value").remove()
}else{$(this).closest("ul.facet_Group_wraper").remove()
}})
}}
}());
NS("fishersci.components").Registration=(function(){var g,e,b,h,a,f,d;
return{init:function(){var j=this;
j.initVariables();
e.on("click",function(m){m.preventDefault();
var k=j.validate_requiredFields(m);
if(k){var l=j.validate_CheckBox();
if(l){a.show()
}else{a.hide();
if(d){g.submit()
}}}else{a.show()
}});
f.on("click",function(k){k.preventDefault();
var l=$("#terms_cond_modal").html();
$.colorbox({html:'<div class="reg_inline_message">'+l+"</div>",width:"50%",height:"90%",scrolling:true});
$("#tooltip").remove()
});
h.tooltip({content:function(){return $(this).prop("title")
}})
},initVariables:function(){g=$("#NewUserRegForm");
e=g.find(".btn_register_account");
b=g.find('input:checkbox[name="acceptTerms"]');
h=$("span.messageDialog");
a=$("#top_Error_Panel");
f=$("#toc_link");
d=""
},user_available:function(j){d=j
},validate_requiredFields:function(k){var j=fishersci.Forms.processForm(g);
return j
},validate_CheckBox:function(l){var m=this,k=(b).is(":checked"),j=b.data("formErrorMessage")||"Please select the Check Box";
if(!k){m.custom_Error_Display(b,j);
return true
}else{return false
}},custom_Error_Display:function(m,l){var j=this,k=$(m.parents(".form_field")[0]);
k.addClass("error");
m.addClass("error");
k.append('<label class="error injected_label"><span class="icon_Warning_Triangle font_icon"></span>'+l+"</label>")
}}
}());
NS("fishersci.components").HeroCarousel=(function(){var b,h,j,l,k,a,f,g,e,d;
return{init:function(){$(".homePageCarousel:gt(0)").remove();
var m=this;
m.initVariables();
console.log("fishersci.components.HeroCarousel.init(); from HeroCarousel.js");
b.find("ul").removeClass("hide");
$(".hero_carousel li div.outerDiv a img").each(function(){var p=$(this);
if(p.attr("src")===""){p.attr("src",(p.hasClass("hide_in_mobile")?"https://placehold.it/993x482?text=Placeholder+Image":"https://placehold.it/640x458?text={Missing+Image}"))
}});
m.hero_width=($("html").hasClass("ie8")?881:b.outerWidth());
m.slide_count=j.find("li").length;
var o=false;
var n=6000;
if(b.length>0&&b.attr("data-carousel-rotation").length>0){o=true;
n=b.attr("data-carousel-rotation")*1000
}m.hero_carousel_obj_options={controls:false,minSlide:k,maxSlide:1,pager:m.showGeneratedPager(),auto:o,pause:n,onBeforeNextSlide:function(){var p=m.getNextSlideIndex();
m.$hero_pagination_carousel_obj.goToSlide(p);
m.setTopPagination(p)
},onBeforePrevSlide:function(){var p=m.getPrevSlideIndex();
m.$hero_pagination_carousel_obj.goToSlide(p);
m.setTopPagination(p)
}};
m.hero_carousel_obj_pagination_options={controls:false,minSlide:k,maxSlide:m.getMaxSlideCount(),pager:false,slideWidth:m.hero_width/m.slide_count,auto:false,pause:6000};
m.$hero_carousel_obj=h.lightSlider(m.hero_carousel_obj_options);
m.$hero_pagination_carousel_obj=j.lightSlider(m.hero_carousel_obj_pagination_options);
j.find("li a").on("click",function(){var p=$(this);
j.find("li."+f).removeClass(f);
m.$hero_carousel_obj.goToSlide(p.data(e));
p.parent().addClass(f)
});
b.find(".csPager li a").on("click",function(){var p=parseInt($(this).text())-1;
console.log("cs pager cli: Go to Slide: "+p);
m.$hero_pagination_carousel_obj.goToSlide(p)
});
m.equalizeSlideHeights();
if(!m.showGeneratedPager()){l.hide()
}$(".ctaText a").each(function(){var p=$(this);
if(p.text().trim().length===0){p.find("span.icon_Arrow_Right2").remove()
}});
if(fishersci.Common.getBreakpoint()=="mobile"){$(".bodyCopy").each(function(){var p=$(this);
if(p.text().trim().length>105){p.css({"font-size":"18px","line-height":"21px"})
}})
}l.on("click",function(){var p=m.getNextSlideIndex();
m.$hero_carousel_obj.goToSlide(p);
m.$hero_pagination_carousel_obj.goToSlide(p);
j.find("li."+f).removeClass(f);
j.find('[data-carousel-index="'+p+'"]').parent().addClass(f)
});
if(d){h.children().each(function(){$(this).find("img.hide_in_mobile").css("width",m.hero_width)
})
}},initVariables:function(){b=$(".hero_carousel_container");
h=$(".hero_carousel");
j=$(".hero_carousel_pagination");
l=$(".hero_carousel_pagination_next");
k=1;
a={IN_MOBILE:2,IN_TABLET:4,IN_DESKTOP:5};
f="active";
g="."+f;
e="carousel-index";
d=($("input[name=displayMode]").val()==="b")?true:false
},setTopPagination:function(m){j.find("li."+f).removeClass(f);
j.find('[data-carousel-index="'+m+'"]').parent().addClass(f)
},equalizeSlideHeights:function(){var q=j.outerHeight();
var n=j.find("p");
var m=0;
var p=true;
var o=0;
n.each(function(){o=$(this).height();
if(p){m=o;
p=false
}else{if(o>m){m=o
}}});
n.height(m)
},refreshCarousels:function(){var m=this;
m.$hero_carousel_obj=h.lightSlider(m.hero_carousel_obj_options);
m.$hero_pagination_carousel_obj=j.lightSlider(m.hero_carousel_obj_pagination_options)
},getActiveSlideIndex:function(){return j.find("li.active a").data(e)
},getNextSlideIndex:function(){var m=this,n=m.getActiveSlideIndex();
if(n===(m.slide_count-1)){return 0
}return n+1
},getPrevSlideIndex:function(){var m=this,n=m.getActiveSlideIndex();
if(n==0){return m.slide_count-1
}return n-1
},getMaxSlideCount:function(){if(fishersci.Common.inTabletBreakpoint()){return a.IN_DESKTOP
}if(fishersci.Common.inDesktopBreakpoint()){return a.IN_DESKTOP
}return a.IN_MOBILE
},showGeneratedPager:function(){var m=this;
if(fishersci.Common.inMobileBreakpoint()&&m.slide_count>a.IN_MOBILE){return true
}if(fishersci.Common.inTabletBreakpoint()&&m.slide_count>a.IN_TABLET){return true
}if(fishersci.Common.inDesktopBreakpoint()&&m.slide_count>a.IN_DESKTOP){return true
}return false
}}
}());
NS("fishersci.components").ProductCarousel=(function(){var g,e,d,f,a,b;
return{init:function(){var h=this;
h.initVariables();
h.slideCount=g.find(".carousel_item").length;
h.minSlideCount=f;
h.product_carousel_obj_options={controls:h.showControls(),minSlide:1,pager:false,prevHtml:'<span class="icon_Arrow_Left2 font_icon"></span>',nextHtml:'<span class="icon_Arrow_Right2 font_icon"></span>'};
h.$product_carousel_obj=g.lightSlider(h.product_carousel_obj_options);
if(e.length>0){h.slideCount=e.find("li").length;
h.minSlideCount=e.data(d);
if(typeof h.minSlideCount==="undefined"){h.minSlideCount=a
}else{if($(window).width()<480){h.minSlideCount=3
}}if($(".video_large").length){b=136
}if(h.slideCount>h.minSlideCount){e.attr("class","optional_carousel");
h.$optional_carousel_obj=e.lightSlider($.extend({},h.product_carousel_obj_options,{minSlide:1,controls:h.showControls(),slideWidth:b,slideMargin:42}))
}}},initVariables:function(){g=$(".related_products_carousel");
e=$(".optional_carousel");
d="carousel-minslides";
f=1;
a=4;
b=102
},refreshCarousel:function(){var h=this;
if(typeof h.product_carousel_obj!=="undefined"){h.$product_carousel_obj.refresh
}if(typeof h.optional_carousel_obj!=="undefined"){h.$optional_carousel_obj.refresh
}},showControls:function(){return this.slideCount>this.minSlideCount&&!(window.matchMedia("only screen and (min-width: 1025px)").matches)
}}
}());
NS("fishersci.components").Trademarks=(function(){var d=$(".trademarks_component"),b=d.find(".trademarks_nav a"),a=d.find(".trademarks_select"),e=b.filter("#trademarks_A").attr("href");
return{init:function(){if(d.length){var f=this;
if(!fishersci.Common.inCQAuthoringMode()){b.on("click",function(g){g.preventDefault();
f.setTrademarkContent($(this).attr("href"))
});
a.on("change",function(){f.setTrademarkContent($(this).val())
})
}if($(".trademarks_listing").length===0){f.setTrademarkContent(e)
}}},setTrademarkContent:function(f){var g=this;
$.ajax(f).done(function(h){d.find(".trademark").remove();
d.append(h)
}).fail(function(h){return"<p>An error occured. Please try again later.</p>"
}).complete(function(){console.log("AJAX call complete")
})
}}
}());
NS("fishersci.components").MruZipCode=function(){var e="MruZipCode.js",a=".js_save_zip_mru",f=".js_dont_show_mru",d="/shop/FisherSci/theme/mru-zip-modal-tmpl.html",b="#zipCodeMru";
return{init:function(){_SELF=this;
$("body").on("click",a,_SELF.saveMruZip);
$("body").on("click",f,_SELF.doDontShowAgain);
_SELF.doTestForZip()
},doDontShowAgain:function(){console.log("do not show again");
var g=$(this);
$.ajax({url:"/shop/updateprofile?storeId=10652&memberId="+env.memberId+"&checkIgnorePopup=true",dataType:"json",success:function(h){if(h.status==="success"){$.colorbox.close()
}else{g.parent().after('<span class="alert_box">There was an issue updating your profile settings, please try again.</span>')
}},error:function(k,h,j){g.parent().after('<span class="alert_box">There was an issue updating your profile settings, please try again.</span>')
}})
},saveMruZip:function(){var j=$(this);
var h=$(b).val();
$(".mru-error").remove();
try{if($.trim(h)===""){j.parent().after('<span class="error display-block mru-error"><span class="icon_Warning_Triangle font_icon"></span>Please provide a Zip code</span>')
}else{if(!g($.trim(h))){j.parent().after('<span class="error display-block mru-error"><span class="icon_Warning_Triangle font_icon"></span>Invalid Zip code. Please enter a valid 5-digit Zip code</span>')
}else{k()
}}}catch(l){console.log(l.message)
}function g(n,p){p=typeof p!=="undefined"?p:"US";
if(!n){return -1
}var o=false;
var m="^[0-9]{5}$";
var q=["000","002","003","004","099","213","269","343","345","348","353","419","428","429","517","518","519","529","533","536","552","568","578","579","589","621","632","642","643","663","682","694","695","696","697","698","699","702","709","715","732","742","771","817","818","819","839","848","849","854","858","861","862","866","867","868","869","876","886","887","888","892","896","899","909","929","987"];
if(p=="US"){if(q.indexOf(n.substr(0,3))==-1&&n.length==5&&n.match(m)!==null){o=true
}}return o
}function k(){$.ajax({url:"/shop/updateprofile?storeId=10652&zipCode="+h,dataType:"json",success:function(m){if(m.status==="success"){$.colorbox.close()
}else{j.parent().after('<span class="error display-block mru-error">There was an issue updating your Zip code, please try again.</span>')
}},error:function(o,m,n){j.parent().after('<span class="error display-block mru-error">There was an issue updating your Zip code, please try again.</span>')
}})
}},doTestForZip:function(){if(typeof env!="undefined"&&env){if(env.userType==="M"&&!env.userIgnoreZip){if(env.displayZipModal&&!$.cookie("mruZipOffered")){console.log("Ask for zip");
g()
}}else{return false
}}function g(){$.colorbox({href:d});
$.cookie("mruZipOffered",true,{path:"/"})
}}}
}();
NS("fishersci.components").EcommMarketing=(function(){var a="EcommMarketing.js";
return{init:function(){console.log("init() called from  "+a);
var b=this;
if((window.location.href.indexOf(".ca")!=-1)&&((!$.cookie("usertype"))||$.cookie("usertype")=="G")){$(".ecommOnMarketing .add-to-cart-main.btn.primary").addClass("btn-sign-in")
}else{$(".ecommOnMarketing .add-to-cart-main.btn.primary").removeClass("btn-sign-in")
}},addHiddenFields:function(){var b=Handlebars.templates["forms/addCartListHiddenFields"];
$("body").append(b)
}}
}());
NS("fishersci.components").Eloqua=(function(){var a="Eloqua.js",g,f,o,k,m,h,b,n,l,e,j,q,p,d;
return{init:function(){console.log("Eloqua init");
var r=this;
r.initVariables();
$.getScript("https://secure.eloqua.com/visitor/v200/svrGP.aspx?pps=50&siteid=839961370&DLKey=f4ab7067b6f444228ac0d34002673611&DLLookup=&ms=33",function(){if(typeof GetElqContentPersonalizationValue=="function"&&GetElqContentPersonalizationValue("V_ElqEmailAddress")!=""){var s=GetElqContentPersonalizationValue("V_ElqEmailAddress")
}else{r.getSegmentData()
}$("input[name='emailAddress']").blur(function(){var u=$(this).parents().map(function(){var v=this.tagName;
if(v=="FORM"){return $(this).attr("data-autopopulate")
}});
if($.inArray("false",u)!=-1){return
}if($.trim($("input[name='emailAddress']").val())!=""){r.populateForm($.trim($("input[name='emailAddress']").val()))
}});
r.getSegmentData()
});
r.getLocationData({url:q,domEl:n});
r.getLocationData({url:j,domEl:l});
g.on("change",function(){var s=$(":selected",this).data("key");
if(s===""){$("#jobWorkFunction, #areasOfInterest,#subsegment").html("").val("");
$("#specifyJob, #specifyInterests,#specifySubsegment").hide("slow");
return false
}var u=$(":selected",this).data("segment-object");
if(!u){$("#specifyJob, #specifyInterests,#specifySubsegment").hide("slow");
return false
}var v=p[u];
if(s==="IN_ED"||s==="IN_HC"){f.show("slow");
o.html(r.getSubsegementData(v.colPar1.columncontrol.colPar3.dataset.data))
}else{f.hide("slow");
o.html("")
}k.show("slow");
m.html(r.getJobData(v.colPar1.columncontrol.colPar1.dataset.data));
b.show("slow");
h.html(r.getInterestData(v.colPar1.columncontrol.colPar2.dataset.data));
r.setDefaultToEmpty()
})
},initVariables:function(){g=$("#industry");
f=$("#specifySubsegment");
o=$("#subsegment");
k=$("#specifyJob");
m=$("#jobWorkFunction");
h=$("#areasOfInterest");
b=$("#specifyInterests");
n=$("#stateOrProvince");
l=$("#country");
e=LocalePath.getLocalePath()+"misc/appdata/segments.infinity.json";
j=LocalePath.getLocalePath()+"misc/appdata/country.infinity.json";
q=LocalePath.getLocalePath()+"misc/appdata/stateprovince.infinity.json";
p={};
d="org"
},getJobData:function(r){return Handlebars.templates["forms/commonDropdown"](r)
},getInterestData:function(r){return Handlebars.templates["forms/commonDropdown"](r)
},getSubsegementData:function(r){return Handlebars.templates["forms/commonDropdown"](r)
},getLocationData:function(s){var r=this;
$.ajax({url:s.url,success:function(w){var u=w["jcr:content"]["content-par-main"]["columncontrol"]["colPar1"]["dataset"]["data"];
var v=Handlebars.templates["forms/stateCountry"](u);
s.domEl.html(v);
r.setDefaultToEmpty();
r.populateAjaxFields()
}})
},getSegmentData:function(){var r=this;
$.ajax({url:e,success:function(u){var s=u["jcr:content"]["content-par-main"];
p=s;
r.updateSegmentData(s);
r.setDefaultToEmpty();
r.populateAjaxFields()
}})
},updateSegmentData:function(s){var r=Handlebars.templates["forms/industry"](s);
g.html(r)
},setValues:function(y,w){var u=this,v,r,s;
s=GetElqContentPersonalizationValue(w);
if(s==""||s==undefined){return
}if($("input[name='"+y+"']").length==1){$("input[name='"+y+"']").val(s)
}else{if($("select[name='"+y+"']").length==1){v=s.split("::");
r=$("select[name='"+y+"'] option:contains('"+v[0]+"')").val();
$("select[name='"+y+"']").val(r)
}else{if($("input[name='"+y+"[]']").length==1){$("input[name='"+y+"']").val(s.split("::"))
}}}},populateForm:function(r){var s=this;
$.getScript("https://secure.eloqua.com/visitor/v200/svrGP.aspx?pps=50&siteid=839961370&DLKey=cbb5c6b49250451e97212fc99faf5601&DLLookup=<C_EmailAddress>"+r+"</C_EmailAddress>&ms=3",function(){if($.trim($("input[name='emailAddress']").val())==""){s.setValues("emailAddress","C_EmailAddress")
}s.setValues("firstName","C_FirstName");
s.setValues("lastName","C_LastName");
s.setValues("title","C_Title");
s.setValues("company","C_Company");
s.setValues("address1","C_Address1");
s.setValues("address2","C_Address2");
s.setValues("city","C_City");
s.setValues("stateOrProvince","C_State_Prov");
s.setValues("zipOrPostalCode","C_Zip_Postal");
s.setValues("country","C_Country");
s.setValues("businessPhone","C_BusPhone");
s.setValues("mobilePhone","C_MobilePhone");
s.setValues("fax","C_Fax");
s.setValues("9DigitText","C_9_Digit_Text1");
if($("select[name='industry']").length==1){if($.trim($("select[name='industry']").html())==""){s.getSegmentData()
}s.setValues("industry","C_Industry1");
g.trigger("change")
}else{if($("input[name='industry']").length==1){if($.trim($("input[name='industry']").val())==""){setValues("industry","C_Industry1")
}g.trigger("change")
}}})
},setCampaign:function(w,v,s){var u=this,r=document.forms[w],v=fishersci.Common.getQueryString(v);
r.elements[s].value=v!==""?v:d
},setDefaultToEmpty:function(){$('[value*="..."]').val("")
},createIframe:function(r){var s=document.createElement("iframe");
s.style.display="none";
s.src="/shop/eloquaframe?"+r.queryString;
document.getElementsByTagName("body")[0].appendChild(s)
},populateAjaxFields:function(){$("[data-field-name]").each(function(){$this=$(this);
$name=$this.attr("data-field-name");
$val=$this.attr("data-field-value");
$('[name="'+$name+'"]').val($val)
})
}}
}());
NS("fishersci.legacy").SavedCart=(function(){var a=fishersci.Common.getSessionId();
return{init:function(){if($.cookie("new_cart")){return
}console.log("Saved Cart init, saves cart and retrieves saved cart");
var d=this;
var b="/shop/savedcart?storeId=10652";
$.ajax({url:b,dataType:"json",success:function(f,g,e){if(!f.isPunchOutUser){d.checkForPendingOrder(f.loggedIn,f.currentMemberId,f.currentOrderId,f.sessionId);
d.cartAnalytics()
}},error:function(e,g,f){console.log('ERROR: Retrieving saved cart data: "'+g+", "+f+'"')
}})
},cartAnalytics:function(){$("#mw_savedCartOverlay a").on("click",function(){try{fisherDataLayer.linkTrackVars="events";
fisherDataLayer.linkTrackEvents="event37";
fisherDataLayer.events="event37";
fisherDataLayer.customLinkGeneral="Saved Cart Discarded";
_satellite.track("trackEventsGeneral")
}catch(b){}$.modal.close()
});
$("#qa_add_saved_items_to_cart_button").on("click",function(b){b.preventDefault();
try{fisherDataLayer.linkTrackVars="events";
fisherDataLayer.linkTrackEvents="event38";
fisherDataLayer.events="event38";
fisherDataLayer.customLinkGeneral="Saved Cart Added";
_satellite.track("trackEventsGeneral")
}catch(b){}setTimeout(function(){$("#saved-cart-form").submit()
},500)
});
$("#qa_saved_cart_discard").on("click",function(){$.colorbox.close()
})
},checkForPendingOrder:function(h,l,d,f){var e="GUEST";
var j=this;
if(h==true){e=l
}var g=$.cookie("prevMemberId."+e);
var b=$.cookie("prevSessionId."+e);
var k=$.cookie("prevOrderId."+e);
if(b!=null&&g!=null&&k!=null){if(f!=b){j.getSavedCart(g,k);
store.session("savedCartTriggered",true);
$.cookie("prevMemberId."+e,l,{path:"/",expires:365});
$.cookie("prevSessionId."+e,f,{path:"/",expires:365});
$.cookie("prevOrderId."+e,d,{path:"/",expires:365})
}else{if(d!=k){$.cookie("prevMemberId."+e,l,{path:"/",expires:365});
$.cookie("prevSessionId."+e,f,{path:"/",expires:365});
$.cookie("prevOrderId."+e,d,{path:"/",expires:365})
}}}else{if(l>0&&d<0){if(null==k){k=-1
}if(null==g&&h==true){g=l
}if(!store.session.get("savedCartTriggered")){j.getSavedCart(g,k);
store.session("savedCartTriggered",true)
}$.cookie("prevMemberId."+e,l,{path:"/",expires:365});
$.cookie("prevSessionId."+e,f,{path:"/",expires:365});
$.cookie("prevOrderId."+e,d,{path:"/",expires:365})
}else{if(l>0&&d>0){$.cookie("prevMemberId."+e,l,{path:"/",expires:365});
$.cookie("prevSessionId."+e,f,{path:"/",expires:365});
$.cookie("prevOrderId."+e,d,{path:"/",expires:365})
}}}},getSavedCart:function(d,b){if(!d){fishersci.components.MruZipCode.doTestForZip();
return console.log("getSavedCart() did not receive the required parameter memberId")
}if(!b){fishersci.components.MruZipCode.doTestForZip();
return console.log("getSavedCart() did not receive required parameter orderId")
}var e={storeId:"10652",langId:"-1",memberId:d,resultUrl:"jsonsavedcart",orderId:b};
if(a!="undefined"&&a!=""){e.LBCID=a
}$.ajax({url:"/shop/OrderDisplayCmd",data:e,success:function(g){if(!g){console.log("No data returning");
return
}if(!g.savedOrderItems){console.log("No data returning");
return
}console.log("about to display modal 1"+g.savedOrderItems.length);
if(g.savedOrderItems.length>0){console.log("about to display modal 2"+g.savedOrderItems.length);
try{fisherDataLayer.linkTrackVars="events";
fisherDataLayer.linkTrackEvents="event36";
fisherDataLayer.events="event36";
fisherDataLayer.customLinkGeneral="Saved Cart Offered";
_satellite.track("trackEventsGeneral")
}catch(h){}var f=(Handlebars.templates["saved-cart/savedCart"](g));
$.colorbox({inline:true,href:f,innerWidth:"90%"});
fishersci.Common.fixIE8Tags()
}else{fishersci.components.MruZipCode.doTestForZip()
}}})
}}
}());
NS("fishersci.components").RecentlyViewedProducts=(function(){var k,b,h,d,g,j,e,f,a;
return{init:function(){console.log("init called from RecentlyViewedProducts.js");
var l=this;
l.initVariables();
l.buildRvDisplayArea();
if(env.populateRecentlyViewed){l.initStorage()
}},initVariables:function(){k=$(".recently_viewed_products");
b=k.find(".toggle_recently_viewed");
h="Hide";
d={};
g="";
j="";
e=20;
f="recentlyViewed";
a="rvClosed"
},initStorage:function(){var l=this;
l.initRecentlyViewedObject();
l.setRecentlyViewedData();
l.deDupeAndReorderProducts()
},clickToggle:function(){b.on("click",function(l){l.preventDefault();
if($_RECENTLY_VIEWED_CAROUSEL.hasClass("active")){$_RECENTLY_VIEWED_CAROUSEL.removeClass("active");
$_TOGGLE_TEXT.text(_SHOW_TEXT)
}else{$_RECENTLY_VIEWED_CAROUSEL.addClass("active");
$_TOGGLE_TEXT.text(I18n.t("recentlyViewed.hide"))
}})
},showContent:function(){console.log("showContent called from RecentlyViewedProducts.js");
var m=this;
var n=m.getRecentlyViewedJSON();
var l=(Handlebars.templates["product/recentlyViewed"](n));
$("#recently_viewed_products_list").html(l);
var o=$("#recently_viewed_products_list").lightSlider({minSlide:1,pager:false,prevHtml:'<span class="icon_Arrow_Left2 font_icon"></span>',nextHtml:'<span class="icon_Arrow_Right2 font_icon"></span>'});
$("#recently_viewed_products").addClass("rvHidden")
},buildRvDisplayArea:function(){var l=this;
console.log("Creating carousel");
$("body").append('<section class="recently_viewed_products" id="recently_viewed_products" />');
$("#recently_viewed_products").html('<div class="recently_viewed_products_carousel_container related_products_carousel_container" id="recently_viewed_products_carousel_container" />');
$("#recently_viewed_products_carousel_container").append('<header id="recently_viewed_products_header" class="recently_viewed_products_header" />');
$("#recently_viewed_products_header").append('<a href="#" class="toggle_recently_viewed"><h3>'+I18n.t("recentlyViewed.recentlyViewed")+'<span class="toggle_text" data-showtext="'+I18n.t("recentlyViewed.show")+'" data-hidetext="'+I18n.t("recentlyViewed.hide")+'">'+I18n.t("recentlyViewed.show")+"</span></h3></a>");
$("#recently_viewed_products_carousel_container").append('<div id="rv_carousel_container" class="row carousel_container" />');
$("#rv_carousel_container").append('<ul class="recently_viewed_products_carousel" id="recently_viewed_products_list" />');
$(".toggle_recently_viewed").on("click",function(n){n.preventDefault();
var o=$("#recently_viewed_products_carousel_container");
var m=$("#recently_viewed_products_header").find(".toggle_text");
if(o.hasClass("active")){o.removeClass("active");
m.text(m.data("showtext"));
$("#recently_viewed_products").addClass("rvHidden");
store.session(a,($("#recently_viewed_products_list li").length>2?"closed":"allowOpen"))
}else{o.addClass("active");
m.text(m.data("hidetext"));
$("#recently_viewed_products").removeClass("rvHidden");
store.session(a,"allowOpen")
}});
l.showContent()
},initRecentlyViewedObject:function(){if(store.get(f)==null){store.set(f,{products:[]})
}},copyStoredObject:function(){return store.get(f)
},setRecentlyViewedData:function(){var l=this;
d=l.copyStoredObject();
var m=l.getSingleProduct();
if(m){d.products.unshift(m);
g=m.condensed;
j=m.tStamp
}},deDupeAndReorderProducts:function(){var n,m=d.products.length;
for(var l=0;
l<m;
l++){if(l===(e-1)){break
}n=d.products[l];
if(n){if(g===n.condensed&&j!=n.tStamp){d.products.splice(l,1)
}}}store.set(f,d)
},getSingleProduct:function(){return recentlyViewedData||false
},getRecentlyViewedJSON:function(){var l=store.get(f);
return typeof l!=="undefined"?l:false
}}
}());
var currentvideopopup;
NS("fishersci.components").Videos=(function(){var e="Videos.js",j,n,k,m,q,b,l,d,h,g,o,f,p,a;
return{init:function(){var r=this;
r.initVariables();
$(j).on("click",function(s){s.preventDefault();
r.displayVideoTitle(this)
});
r.limitCharacter();
if(document.location.protocol=="https:"){$(".non_secured_connect").remove()
}else{$(".secured_connect").remove()
}$(".carousal_thumbnail_img img").each(function(){if($(this).height()>70){$(this).parent().parent().addClass("alt_img_container")
}});
$(".img_container").hover(function(){o=$(this).find(l).attr("id");
if(!$(this).hasClass("selected")){$(this).addClass("selected_hover");
$(this).prepend("<span onclick='loadVideo(event, "+o+")' class='icon_Play play_btn font_icon'></span>")
}},function(){if(!$(this).hasClass("selected")){$(this).removeClass("selected_hover");
$(this).find(".play_btn").remove()
}})
},initVariables:function(){j=".brightcove_video";
n=$(j);
k=".video_title";
m=$(k);
q=".video_description";
b=$(q);
l=".carousal_thumbnail_img";
d="carousal_video_title";
h=".carousal_video_title";
g=$(".video_thumbnail")
},displayVideoTitle:function(s){f=$(s).attr("href");
p=$(s).attr("title");
a=$(s).attr("data-value");
currentvideopopup=$(s).attr("id");
var s=this,r;
if(!fishersci.Common.inMobileBreakpoint()){r={width:"95%",height:"95%",maxWidth:"930px",maxHeight:"620px",href:f,onComplete:function(){$(k).html(p);
$(q).html(a);
s.limitCharacter();
$.colorbox.resize();
setTimeout(function(){videojs("video_popup_id_html5_api").play()
},1000)
}};
$.colorbox(r);
$(window).resize(function(){$.colorbox.resize({width:window.innerWidth>parseInt(r.maxWidth)?r.maxWidth:r.width,height:window.innerHeight>parseInt(r.maxHeight)?r.maxHeight:r.height})
})
}else{r={width:"100%",height:"auto",maxWidth:"320px",maxHeight:"auto",href:f,onComplete:function(){$("#cboxContent").css("background-color","rgba(0, 0, 0, 0)");
$("#cboxClose").remove();
$.colorbox.resize();
$("#cboxOverlay").bind("touchmove",function(u){u.preventDefault()
});
setTimeout(function(){videojs("video_popup_id_html5_api").play()
},1000)
}};
$.colorbox(r);
$(window).resize(function(){$.colorbox.resize()
})
}},nowplaying:function(u){var r,w,v,s="<span class='play_btn font_icon' onclick='loadVideo(event, "+u+")'><span class='icon_Refresh'></span></span>";
g.find(".selected").removeClass("selected");
g.find(".selected_hover").removeClass("selected_hover");
g.find(".play_btn").remove();
g.find(".icon_Refresh").remove();
w=u;
v=$("#"+w);
v.parent().addClass("selected");
v.parent().prepend(s)
},limitCharacter:function(){var s,r;
$(".carousal_video_title, .video_title").each(function(){r=$(this).html();
r=r.replace(/\s+/g," ");
$(this).text(r.substring(0,100))
});
$(".video_details p, .video_description").each(function(){s=$(this).html();
$(this).text(s.substring(0,200))
})
}}
}());
NS("fishersci.components").CheckAvailability=(function(){var b="CheckAvailability.js";
var a=false;
return{init:function(){},getAvailabilityElement:function(e){e.showIrimsItem=e.irimsItem==="true"?"true":"";
if(e.alternateItemsAvailFlag==="false"){e.alternateItemsAvailFlag=""
}e.randomNumber=Math.floor(Math.random()*300);
var d=Handlebars.templates["product/availability"](e);
return d
},getNewAvailabilityElement:function(f){var e=f;
if(f.priceAndAvailability){e=f.priceAndAvailability[Object.keys(f.priceAndAvailability)[0]][0]
}e.showIrimsItem=e.irimsItem==="true"?"true":"";
e.zipCode=f.zipCode;
if(e.alternateItemsAvailFlag==="false"){e.alternateItemsAvailFlag=""
}e.randomNumber=Math.floor(Math.random()*300);
Handlebars.registerPartial("availability/availabilityLeadTime",Handlebars.templates["product/availabilityLeadTime"]);
var d=Handlebars.templates["product/newAvailability"](e);
return d
},getAvailability:function(j,g,e,d,h){var f={parts:[{partNumber:e,uom:g,quantity:j}]};
if(env.userType==="M"||env.userType==="G"){f.zipCode=env.userType==="G"?$.cookie("shipZipCode"):env.zipInProfile
}$.ajax({url:"/shop/products/service/availability",data:JSON.stringify(f),type:"POST",contentType:"application/json",beforeSend:function(){dev.log("Sending Check Availability AJAX call - from product_availability.js in CheckAvailability")
},error:function(k){},success:function(k){if(env.userType==="G"){k.zipCode=$.cookie("shipZipCode")
}k.quantityOrdered=j;
h(d,k)
}})
},checkAvailability:function(l,d,k,h,j){var g=typeof env.regNoAcct==="string"?env.regNoAcct==="true":env.regNoAcct;
var f=(env.userType==="RNoAcct"||g);
var e=(env.userType==="M"&&env.zipInProfile==="");
var m=env.userType==="G"&&!$.cookie("shipZipCode");
if(e||(m)||f){fishersci.components.CheckAvailability.showAvailabilityBox(l,d,k,h,j)
}else{fishersci.components.CheckAvailability.getAvailability(l,d,k,h,j)
}},showAvailabilityBox:function(p,d,o,k,n){var f=typeof env.regNoAcct==="string"?env.regNoAcct==="true":env.regNoAcct;
var e=(env.userType==="RNoAcct"||f);
var h=(env.userType==="M");
var j={mruNoZip:h,regNoAccount:e};
if($.cookie("shipZipCode")){j.zipCode=$.cookie("shipZipCode")
}var l=Handlebars.templates["product/availabilityPopup"](j);
var m=$(".callout-container");
m.remove();
var g=$("#cboxWrapper");
if(g.length>0&&g.find(k).length>0){g.append(l);
m=$(".callout-container");
m.css({top:$(k).offset().top+15-g.offset().top,left:$(k).offset().left-g.offset().left});
$.colorbox.resize({height:g.prop("scrollHeight"),width:g.prop("scrollWidth")+10})
}else{$("body").append(l);
m=$(".callout-container");
m.css({top:$(k).offset().top+15,left:$(k).offset().left})
}if((m.width()+m.offset().left)>$(window).width()){m.css({left:$(window).width()-m.width()})
}$("body").off("click","#qa_guest_check_avail_btn").on("click","#qa_guest_check_avail_btn",function(){fishersci.components.CheckAvailability.zipCodeAvailabilityClicked(p,d,o,k,n)
});
$("body").off("click",".close-callout").on("click",".close-callout",function(){m.remove()
})
},zipCodeAvailabilityClicked:function(k,h,f,e,j){var g=$.trim($("#qa_gu_zipcode").val());
var d=$("#qa_guest_zipcode_error");
if(!g){d.html("<span class='icon_Warning_Triangle'>Please provide a Zip code.</span>");
d.show();
return false
}else{if(!Validator.validateZipCode(g)){d.html("<span class='icon_Warning_Triangle'>Invalid Zip Code. Please enter a valid <br> 5-digit Zip code.</span>");
d.show();
return false
}else{if(d.is(":visible")){d.hide()
}}}$(".callout-container").remove();
if(g===$.cookie("shipZipCode")){return false
}else{$.cookie("shipZipCode",g,{path:"/"})
}fishersci.components.CheckAvailability.getAvailability(k,h,f,e,j)
}}
}());
NS("fishersci.components").ProductModals=(function(){return{fixUpElementData:function(b,e,a){b.isFisherItem=e.isFisherItem;
b.endecaQuery=e.endecaQuery;
var h=$('[name="miniSiteKey"]').length>0&&$('[name="miniSiteKey"]').val()!==""?$('[name="miniSiteKey"]').val():"";
var d=$('[name="backToUrlKey"]').length>0&&$('[name="backToUrlKey"]').val()!==""?$('[name="backToUrlKey"]').val():"";
var g=$('[name="miniSiteNavKey"]').length>0&&$('[name="miniSiteNavKey"]').val()!==""?$('[name="miniSiteNavKey"]').val():"";
if($("#minisiteProvideFeedback").length>0&&$("#minisiteProvideFeedback").val()=="true"){b.minisiteProvideFeedback=true;
b.minisiteFullName=$("#minisiteFullName").val();
b.minisiteFisherAccountNumber=$("#minisiteFisherAccountNumber").val()
}if(h!=""&&g!=""&&d!=""){b.itemUrl=b.seoUrl+"&miniSiteKey="+h+"&miniSiteNavKey="+g+"&backToUrlKey="+d
}else{b.itemUrl=b.seoUrl
}b.isLoadedFromEU=LocalePath.getLocalePath()!=="/us/en/"?true:false;
b.isEULocale=LocalePath.isEULocale();
if((b.isValid||b.hasSubstitute)&&b.isRestricted==false&&b.productErrors.length==0&&b.priceUoms[0].stdShowQty=="true"){b.displayAddToCart=true
}if(env.userType=="G"||(b.isValid==false&&b.hasSubstitute==false||b.isRestricted==true||b.productErrors.length>0)){b.canBeAddedToHotlist=false
}if(typeof b.whiteListFlag==="undefined"){b.isWhiteListed=true
}else{if(b.whiteListFlag===false){b.isWhiteListed=false
}else{b.isWhiteListed=true
}}if(b.isValid&&b.isRestricted==false&&b.productErrors.length==0&&b.priceUoms[0].stdShowQty=="true"){b.displayQty=true
}else{if((b.priceUoms[0].length==1&&b.priceUoms[0].uomType=="STD")&&b.isDiscontinued==false&&b.isValid==true){b.displayAvailability=true
}else{if((Object.keys(b.priceUoms[0]).length>0&&b.priceUoms[0].uomType=="STD")&&b.isDiscontinued==true&&b.isValid==true){b.showAvailabilityNA=true
}}}if(b.isRevealPrice==false&&(b.productErrors.length>0||(b.isValid==true&&b.hasSubstitute==true)||b.isRestricted)){b.showPriceNA=true
}else{if(b.isRevealPrice&&b.breakPriceInfo){if(b.isValid==true||b.hasSubstitute==true){b.showWebDiscount=true
}}else{if(b.isEULocale&&b.isDiscontinued==true&&b.isValid==true){b.showPriceNA=true
}else{b.showNormalPrice=true
}}}var f=false;
if(b.priceUoms.length>1){f=true
}$(b.priceUoms).each(function(k,j){j.multiplePrices=f;
if(f&&j.uomType=="STD"){j.availability=j.stdAvailability;
j.showQty=j.stdShowQty;
j.checked=true
}else{if(f&&j.uomType=="ALT"){j.availability=j.altAvailability;
j.showQty=j.altAvailability
}else{j.availability="";
j.showQty=""
}}if(typeof j.costSavings!=="undefined"){if(j.uom=="PK"){j.costSavingMid="per";
j.costSavingPost="Pack"
}else{if(j.uom=="EA"){j.costSavingMid="on";
j.costSavingPost="Each"
}else{if(j.uom=="CS"){j.costSavingMid="per";
j.costSavingPost="Case"
}}}}})
}}
}());
NS("fishersci.components").AddToList=(function(){var d="AddToList.js",g,a,e,f,b;
return{init:function(){b=this;
b.initVariables();
$(document).mouseup(function(k){var j=$("#qa_add_to_list_modal");
if(!j.is(k.target)&&j.has(k.target).length===0){j.remove()
}});
var h=$("body");
h.on("click",'[data-pa-element="addToHotlistButton"]:not(".cross-ref-item")',function(k){k.preventDefault();
a.log("Hotlist link clicked from "+d);
var m=$(this),n=m.attr("data-catalogentryreferencenumber"),r=m.attr("data-partnumber"),q=m.attr("data-shortdesc"),j=m.attr("data-noncompliant"),o=m.attr("data-crossitem"),l=m.attr("data-qanum"),p=m.attr("data-origin");
if(!p){p="Product View"
}b.addToHotlist(n,r,q,j,o,l,m,p)
});
h.off("click","#qa_create_new_list").on("click","#qa_create_new_list",function(k){k.preventDefault();
var j=$(this);
b.createNewHotlist(j)
});
h.off(".personal_dropdown_div li, .company_dropdown_div li","click").on("click",".personal_dropdown_div li, .company_dropdown_div li",function(o){o.preventDefault();
var n=$(this).text(),q=$(this).attr("data-itemInList");
if(q=="true"){return
}if($(this).attr("data-listType")=="personal"){$(".personal_dropdown_main").text(n);
$(".personal_dropdown_div").hide()
}else{$(".company_dropdown_main").text(n);
$(".company_dropdown_div").hide()
}var m=$(this).attr("data-listType"),j=$(this).attr("data-listId");
$("input[id=hotlistId]").val(j);
$("input[id=listId]").val(j);
$("input[id=listType]").val(m);
$("input[id=listName]").val(n);
$("input[id=quantity]").val("");
var l;
var p=$(".selected_add_to_list");
if(typeof p!=="undefined"&&p.data("hotlist")=="simple"){l=p
}else{if($('[name="save-to-hotlist"]').attr("data-save-from")){var k=$('[name="save-to-hotlist"]').attr("data-save-from");
l=$('body [data-hotlist-partnumber="'+k+'"]')
}else{l=$("body .add-to-hotlist.active");
l=!l.length?$('body input[name="add-to-hotlist"].active'):l
}}b.fs_saveItemToHotlist(l,false)
});
h.off("click",".save_as_template").on("click",".save_as_template",function(k){k.preventDefault();
var m=$(this),n="1",r="1",q="n/a",j="false",o="false",l="0",p="ShoppingCart";
b.addToHotlist(n,r,q,j,o,l,m,p)
});
h.off("click",".personal_dropdown_cart_group_div li, .company_dropdown_cart_group_div li").on("click",".personal_dropdown_cart_group_div li, .company_dropdown_cart_group_div li",function(m){m.preventDefault();
var l=$(this).text();
var n=$(document.createElement("img")).attr({src:"/shop/FisherSci/theme/images/search/ajax_loader_product.gif",id:"qa_add_list_spinner","class":"ajax_loading_gif float_right ajax_loading"});
$(".save_as_template").after(n);
if($(this).attr("data-listType")=="personal"){$(".personal_dropdown_main").text(l);
$(".personal_dropdown_cart_group_div").hide()
}else{$(".company_dropdown_main").text(l);
$(".company_dropdown_cart_group_div").hide()
}var k=$(this).attr("data-listType"),o=$(this).attr("data-itemInList"),j=$(this).attr("data-listId");
$("input[id=hotlistId]").val(j);
$("input[id=listId]").val(j);
$("input[id=listType]").val(k);
$("input[id=listName]").val(l);
$("input[id=quantity]").val("");
b.addAllItemsToHotlist(j,k)
})
},initVariables:function(){a=typeof fishersci!=="undefined"?fishersci.Common.dev:a;
g=fishersci.Common.getSessionId();
$_ADD_TO_LIST_LINK={}
},removeHotlistChoiceElement:function(){$("div.hotlist-wrapper").remove()
},clearActiveHotlistButtons:function(){$(".add-to-hotlist.active").removeClass("active");
$('input[name="add-to-hotlist"].active').removeClass("active")
},hideHotlistWindow:function(){fishersci.components.AddToList.removeHotlistChoiceElement();
fishersci.components.AddToList.clearActiveHotlistButtons()
},addToHotlist:function(n,m,o,l,k,h,j,p){fishersci.components.AddToList.fs_addItemToHotlist("/shop/service/lists",n,m,"lsashotlistpanel","lsashotlistpanel","10652","add",p,j)
},simpleAddItemToHotlist:function(h){fishersci.components.AddToList.fs_addItemToHotlist("/shop/service/lists","",$(h).data("partnumber"),"","","","","simple",h)
},fs_addItemToHotlist:function(j,p,r,s,u,v,l,q,n){$(n).addClass("selected_add_to_list");
$(".add_to_list_modal").remove();
fishersci.components.AddToList.hideHotlistWindow();
var o=$('[data-pa-element="idle-button"]');
o.each(function(){fishersci.components.AddToList.fs_resetButton($(this),false,q)
});
var k=n.find(".text_btn");
if(k.length==0){k=n
}var h="/store/mylists/items";
var m={partNumber:r,language:LocalePath.getLanguage(),countryCode:LocalePath.getCountry().toUpperCase(),time:Date.now()};
fishersci.Common.addSpinnerToElement(k);
$.ajax({url:h,type:"GET",data:m,dataType:"json",complete:function(){fishersci.Common.removeSpinnerFromElement(k)
},error:function(z,w,y){fishersci.components.AddToList.clearActiveHotlistButtons()
},success:function(w){if(typeof w.personalLists==="undefined"||w.personalLists.length==0){w.personalLists=false
}switch(q){case"Product View":case"QuickView":case"ItemDetail":case"Assessory Item":case"CrossRef":$(n).show();
break
}w.catEntryId=p;
w.partNum=r;
w.from=q;
if($(n).hasClass("save_as_template")){w.fromCartGroup="true"
}fishersci.Common.getTranslationData("mylist",false);
var z=$(Handlebars.templates["account/addToList"](w));
if(q=="needItNow"){try{NeedItNow.nin_hotlistAddResponse("html",z,n)
}catch(y){}}else{if(q=="xref"){xref_hotlistAddResponse("html",z,n)
}else{if(q=="lsas"){lsas_hotlistAddResponse("html",z,n)
}else{fishersci.components.AddToList.general_hotlistAddResponse("html",z,n)
}}}fishersci.Common.scrollToElement("#qa_add_to_list_modal")
}})
},fs_saveItemToHotlist:function(o,q,l,z,s,v,w){var r=this,j=env.isBrowsePage?":Browse":"",u=r.getQtyAndUom(o),p="";
var n={language:LocalePath.getLanguage(),countryCode:LocalePath.getCountry().toUpperCase(),unit:u.units,description:o.data("shortdesc")};
if(u.qty){n.quantity=u.qty
}if(LocalePath.getCountry().toUpperCase()=="CA"){var m=$(o).closest("tbody").find('input[name^="comment"]').val();
if(typeof m!=="undefined"&&m!==""){n.lineComments=m
}var h=$(o).closest("tbody").find('input[name^="customerItem"]').val();
if(typeof h!=="undefined"&&h!==""){n.billingCode=h
}}var k="hotlist.item.save",y="lsashotlistpanel";
if(q){p=l;
n.partNumber=o.data("partnumber")
}else{p=$("#hotlistId").val();
n.partNumber=o.data("partnumber")
}if(!q&&$("#hotlistId").val()==""){$("p.hotlist-select-error").show();
return
}fishersci.components.AddToList.hideHotlistWindow();
$.ajax({url:"/store/mylists/"+p+"/items",type:"POST",contentType:"application/x-www-form-urlencoded",data:n,dataType:"json",success:function(A){$("#qa_add_to_list_modal").remove();
if(env.origin=="cart"||o.data("origin")=="ShoppingCart"){$(o).html('<span class="js_add_to_list css_add_to_list bold"><span class="icon_Check valid"></span>'+fishersci.Common.getTranslationMessage("mylist.messages.addedToList")+"</span>")
}else{$(o).children("a").text(fishersci.Common.getTranslationMessage("mylist.messages.addedToList"));
$(o).children("a").prepend('<span class="icon_Check valid"></span>')
}var C;
if(w=="pqv"){pqv_hotlistAddResponse(true,A,o);
C="From Product Quick View"
}else{if(w=="needItNow"){try{NeedItNow.nin_hotlistAddResponse(true,A,o)
}catch(B){}}else{if(w=="xref"){xref_hotlistAddResponse(true,A,o);
C="From Product Cross Reference"
}else{if(w=="lsas"){lsas_hotlistAddResponse(true,A,o);
C="From Life Science Advanced Search"
}else{if(o.data("hotlist")=="simple"){$(o).removeAttr("disabled");
$(".selected_add_to_list").removeClass("selected_add_to_list")
}else{fishersci.components.AddToList.general_hotlistAddResponse(true,A,o);
C=w;
fishersci.components.AddToList.fs_resetButton(o,true,w)
}}}}}try{fisherDataLayer.linkTrackVars="events";
fisherDataLayer.linkTrackEvents="event23";
fisherDataLayer.events="event23";
fisherDataLayer.customLinkGeneral="Add to Hotlist"+j+" - "+C;
_satellite.track("addToList")
}catch(B){}if(o.attr("redirect-to-my-lists")==="true"){location.href="/shop/viewhotlist?storeId=10652&langId=-1"
}},error:function(A){console.log("Error adding item to list.")
}})
},fs_resetButton:function(h,k,j){$(h).removeAttr("disabled");
$(".selected_add_to_list").removeClass("selected_add_to_list");
$(h).attr({"data-pa-element":"addToHotlistButton"});
if(k){$(h).attr({"data-is-in-hotlist":"true"})
}$("#qa_add_to_list_modal").remove();
$("#qa_add_list_spinner").remove()
},general_hotlistAddResponse:function(r,m,n){$(n).removeClass("wait");
var p=n.attr("data-origin");
$(n).children("#addedToList").remove();
var h,q;
try{h=n.offset().top;
q=n.offset().left-252
}catch(j){h=0;
q=0
}if(typeof p!=="undefined"){if(p=="GuidedSelling"||p=="ShoppingCart"||p=="RapidOrder"){q=q+252
}if(p==="eCMS-Carousel"){h=n.position().top+200;
q=n.closest("li").position().left+225
}}$_ADD_TO_LIST_LINK=$(n);
var o="absolute";
if(r=="html"){var l=$("#cboxWrapper"),k=$("#cboxLoadedContent");
if(l.length>0&&l.find(n).length>0){h=h+15-k.offset().top;
q=q-k.offset().left;
l.append(m);
o="absolute"
}else{$("body").append(m)
}fishersci.components.Tabs.init()
}else{if(r!=true){switch(m){default:$(n).parent("td").find(".message-container").html(m.errorMsg);
break
}}}if(p!=="ProductCompare"){$("#qa_add_to_list_modal").css({top:h,"z-index":"9999",left:q,margin:"0px 0px 13rem 0px",position:o,"background-color":"#FFFFFF"})
}if($("html").hasClass("ie8")){$(".add-to-list-modal-commerce #qa_personal_list_name").each(function(){var s=$(this);
e=s.attr("placeholder");
f=s.val();
if(f==""){s.val(e).addClass("showingPlaceholder")
}s.focus(function(){if(s.val()==e){s.val("").removeClass("showingPlaceholder")
}}).blur(function(){if(s.val()==""){s.val(e).addClass("showingPlaceholder")
}}).css({"font-size":"12px","line-height":"14px"})
})
}},addAllItemsToHotlist:function(n,p){var j=$("[data-pa-element=addToHotlistButton]",".shopping_cart_main"),l="language="+LocalePath.getLanguage()+"&countryCode="+LocalePath.getCountry().toUpperCase();
for(count=0;
count<$(j).size();
count++){var m=j[count],s=$(m).attr("data-partnumber"),v=$(m).attr("data-shortdesc"),r=$(m).attr("data-origin");
var o=fishersci.components.AddToList.getQtyAndUom(m);
var q=o.units;
var u=o.qty;
l+="&partNumber="+s+"&description="+v+"&unit="+q+"&quantity="+u;
if(LocalePath.getCountry().toUpperCase()=="CA"){var k=$(m).closest("tbody").find('input[name^="comment"]').val();
if(typeof k!=="undefined"){l+="&lineComments="+k
}var h=$(m).closest("tbody").find('input[name^="customerItem"]').val();
if(typeof h!=="undefined"){l+="&billingCode="+h
}}}l=encodeURI(l);
m=$(".selected_add_to_list");
$.ajax({url:"/store/mylists/"+n+"/items?"+l,type:"POST",dataType:"json",error:function(z,w,y){fishersci.components.AddToList.general_hotlistAddResponse(false,"ajaxFail",m);
$("#qa_add_list_spinner").remove()
},success:function(w){$("#qa_add_to_list_modal").remove();
fishersci.components.AddToList.general_hotlistAddResponse(true,w,m);
$("#qa_add_list_spinner").remove();
$(".save_as_template").html('<span class="js_add_to_list css_add_to_list bold"><span class="icon_Check valid"></span>'+fishersci.Common.getTranslationMessage("mylist.messages.addedToList")+"</span>");
var y=r;
fishersci.components.AddToList.fs_resetButton(m,true,r);
fisherDataLayer.events="event120";
_satellite.track("trackEventsGeneral")
}})
},createNewHotlist:function(m){$(".create_list_error").remove();
var n=this,o=$(".js-list-type:checked").val(),k=$("#qa_list_name").val().trim(),h=$('[name="makeDefault"]:checked'),j=$('[name="retainQty"]:checked'),p=n.getQtyAndUom($_ADD_TO_LIST_LINK);
if(k==""){m.parent().parent().append('<span class="create_list_error"><span class="font_icon icon_Warning_Triangle"></span>'+fishersci.Common.getTranslationMessage("mylist.messages.enterListName")+"</span>");
return
}var q=$(document.createElement("img")).attr({src:"/shop/FisherSci/theme/images/search/ajax_loader_product.gif",id:"qa_add_list_spinner","class":"ajax_loading_gif float_right ajax_loading"});
var l={listTitle:k,type:o.toUpperCase(),retainQuantity:typeof j.val()!="undefined",defaultList:typeof h.val()!="undefined",language:LocalePath.getLanguage(),countryCode:LocalePath.getCountry().toUpperCase()};
m.after(q);
$.ajax({url:"/store/mylists",dataType:"json",type:"post",data:l}).done(function(u){console.log("JSON Data: "+u);
$("input[id=hotlistId]").val(u.listId);
$("input[id=listId]").val(u.listId);
$("input[id=listType]").val(u.listType);
$("input[id=listName]").val(k);
$("input[id=quantity]").val("");
var s;
var v=$(".selected_add_to_list");
if(typeof v!=="undefined"&&v.data("hotlist")=="simple"){s=v
}else{if($('[name="save-to-hotlist"]').attr("data-save-from")){var r=$('[name="save-to-hotlist"]').attr("data-save-from");
s=$('body [data-hotlist-partnumber="'+r+'"]')
}else{s=$("body .add-to-hotlist.active");
s=!s.length?$('body input[name="add-to-hotlist"].active'):s
}}if(typeof v!=="undefined"&&v.data("hotlist")=="simple"){fishersci.components.AddToList.fs_saveItemToHotlist(s,false)
}else{if($(".selected_add_to_list").hasClass("save_as_template")){fishersci.components.AddToList.addAllItemsToHotlist(u.listId,u.listType)
}else{fishersci.components.AddToList.fs_saveItemToHotlist(s,false);
fishersci.components.AddToList.fs_resetButton(s,true,"")
}}}).fail(function(v,w,s){var u=w+", "+s;
var r=v.status;
console.log("Request Failed: "+u);
if(r!=409){fishersci.components.AddToList.fs_resetButton(m,true,"")
}else{m.parent().parent().append('<span class="create_list_error"><span class="font_icon icon_Warning_Triangle"></span>&nbsp;List name already in use. Please enter a different name.</span>');
$("#qa_add_list_spinner").remove()
}})
},getQtyAndUom:function(j){var l=$('[name="from"]').val();
var k="";
var h="";
switch(l){case"QuickView":h=$(j).closest("tr").find("input.uom-input:checked").val();
k=$(j).closest("tr").find('[name="shoppingCartQty"]').val();
break;
case"Product View":case"Assessory Item":h=$(j).closest("tr").find('[name="shoppingCartUnits"]').val();
k=$(j).closest("tr").find('[name="shoppingCartQty"]').val();
break;
case"GuidedSelling":h=$(j).closest("li").find('input[type="radio"]:checked').val();
k=$(j).closest("li").find('[name="shoppingCartQty"]').val();
break;
case"ItemDetail":h=$(j).closest("#SKUHighlightContainer").find('[name="shoppingCartUnits"]').val();
k=$(j).closest("#SKUHighlightContainer").find('[name="shoppingCartQty"]').val();
break;
case"CrossRef":k=$(j).closest("tr").find(".cross-qty-input").val();
h=$(j).closest("tr").find("input.uom-input:checked").length!==0?$(j).closest("tr").find("input.uom-input:checked").val():$(j).closest("tr").find('[name="unitString"]').val();
break;
case"ShoppingCart":case"compare":if(LocalePath.getCountry().toUpperCase()=="US"){k=$(j).attr("data-qty");
h=$(j).attr("data-unit")
}else{if(LocalePath.getCountry().toUpperCase()=="CA"){k=$(j).closest("tbody").find(".quantity input").val();
h=$(j).closest("tbody").find("div.price input:checked").data("unit")
}else{k=$(j).closest("tbody").find('[name="edit-qty-field"]').val();
h=$(j).attr("data-unit")
}}break;
case"RapidOrder":k=$(j).attr("data-qty");
h=$(j).attr("data-unit");
break;
default:h="";
k="";
break
}if($(j).data("hotlist")=="simple"){k=$(j).data("qty");
h=$(j).data("unit")
}return{qty:k,units:h}
}}
}());
NS("fishersci.components").QuickViewTabs=(function(){var m=".quickView_tabs",h=".tab_nav",e=".tab",b=h+" li a",j=$(b),k=".tab2",f=".font_icon",a="icon_Arrow_Down2",l="icon_Arrow_Up2",d=LocalePath.getLocalePath()+"catalog/service/search/specifications",g="/etc/designs/fishersci/clientlibs/handlebars/product/specTable.hbs";
return{init:function(){var n=this;
if(!$(".main_commerce_section").length){j.on("click",function(o){o.preventDefault();
n.setTab($(this))
});
$("#hb-search").on("click",".spec-link",function(o){o.preventDefault();
var p=$(this);
n.getSpecData(p)
})
}},setTab:function(o){var n=o;
_CLICKED_TAB=n.attr("data-tab");
n.parent().parent().parent().find(e).not("."+_CLICKED_TAB).hide();
n.parent().parent().parent().find("."+_CLICKED_TAB).toggle();
if(!fishersci.components.SearchResults.localGds){$(n).parent().find(f).toggleClass(l);
$(n).parent().find(f).toggleClass(a);
$(n).parent().siblings().find(f).addClass(a);
$(n).parent().siblings().find(f).removeClass(l)
}n.toggleClass("active");
$(n).parent().siblings().find(b).removeClass("active");
$(n).parent().siblings().find(".active").removeClass("active")
},getSpecData:function(p){var o=this,n=p.attr("data-item-catno");
data={productSAPID:n};
$.ajax({url:d,data:data,dataType:"json",success:function(q){o.setSpecTab({data:q},p)
}})
},setSpecTab:function(p,o){var n=o.closest(".search_result_item").find(k);
n.html("");
if(o.hasClass("active")){o.closest(".search_result_item").find(".tab1").addClass("hide");
n.html(Handlebars.templates["search/specTable"](p.data))
}}}
}());
NS("fishersci.components").FeaturedPromotions=(function(){var v="FeaturedPromotions",d="/libs/services/wcm/ListPromotions",y=LocalePath.getLocalePath(),q=y+"catalog/service/search/listPromotions",w="",h=[],s=true,r=[],o={},e=false,b=false,g=false,n=0,m=I18n.t("featuredPromotionListResults.noPromoMessage"),u=I18n.t("featuredPromotionListResults.checkBackMessage"),k=I18n.t("featuredPromotionListResults.viewAllPromosMessage"),z="<h3>"+m+"</h3><p>"+u+" <a href='"+y+"scientific-products/special-offers-and-programs/promotions.html'>"+k+"</a>.</p>",p="[data-for-dimensionid]",l="",j=[],f,a=false;
return{init:function(){fishersci.Common.initCollapsibleBlocks()
},initEventHandlers:function(A){l=$("#"+A.compID).find(".promo_search_results_filters");
$("#"+A.compID).find(".click-filter").on("click",function(C){C.preventDefault();
var B=$(this).closest("div");
if(B.hasClass("selected_filters")){fishersci.components.FeaturedPromotions.removeFilter(this,A)
}else{fishersci.components.FeaturedPromotions.selectFilter(this,A)
}fishersci.components.FeaturedPromotions.doFilter(this,A)
});
l.on("click",p,fishersci.SearchCommon.doShowMoreToggle)
},initEventHandlersEndeca:function(B){if(typeof B==="undefined"){B=f
}$("#"+B.compID).find(".disabledLink").each(function(){for(var C=0;
C<h.length;
C++){if($(this).attr("data-refinementid")==h[C]){$(this).removeClass("disabledLink")
}}});
var A=$("</div>");
$("#"+B.compID).find(".selected_filters li a").each(function(){var C=$(this);
if(C.attr("data-dimensionId-link")==n&&n>0){A=C
}$("#"+B.compID).find(".selected_filters li a").each(function(){var D=$(this);
if(D.attr("data-dimensionId-link")==n&&n>0){D.addClass("disabledLink")
}});
A.removeClass("disabledLink")
});
$("#"+B.compID).find(".click-filter").not(".disabledLink").on("click",function(F){F.preventDefault();
var C={};
var D=$(this).attr("data-refinementid");
var G=$(this).attr("data-dimensionId-link");
C.refinement=D;
C.dimension=G;
if(C.dimension!=="undefined"){j.push(C)
}console.log("Refining by ID: "+D);
if($(this).hasClass("icon_Remove")){for(var E=0;
E<h.length;
E++){if(h[E]==D||h[E]==""){h.splice(E,1);
s=true
}}}else{for(var E=0;
E<r.length;
E++){if(r[E]==G){h[h.length]=D
}}s=false
}fishersci.components.FeaturedPromotions.initFeaturedPromotionsListEndeca(INITIAL_PAGE,B)
});
$("#"+B.compID).find(".disabledLink").click(function(){return false
})
},initFeaturedPromotionsList:function(D,B,C){console.dir(C);
console.log("Retrieving GRIDVIEW promotions. Service: CQ. Current page: "+D);
b=false;
if(C.allpromotionlink&&C.allpromotionlink.length>0){z="<h3>"+m+"</h3><p>"+u+" <a href='"+C.allpromotionlink+".html'>"+k+"</a>.</p>"
}var A={promoTypes:C.promoTypes,contentPath:C.contentPath,isAuth:C.isAuth,rpp:C.rpp,offset:(D-1)*C.rpp,application:B,sortby:C.sortBy};
if(C.order&&C.order!=""&&C.order!=="undefined"){A.order=C.order
}$.ajax({url:d,dataType:"json",type:"GET",data:A,error:function(E){console.log("initFeaturedPromotionsList() - Error condition generated in AJAX call. ServiceURL: "+d)
},beforeSend:function(F,E){$("#"+C.compID+"promosH").html('<img src="/etc/designs/fishersci/images/icons/loader.gif" class="spinner-icon" />');
$("#"+C.compID+"results-number").html("");
console.log("Attempting to get the service URL: "+E.url)
},success:function(I){console.log("initFeaturedPromotionsList() - Success on AJAX request. Page "+D+" on ServiceURL: "+d);
console.dir(I);
var H={items:I.totalResult,itemsOnPage:C.rpp,displayedPages:3,currentPage:D,edges:1,prevText:I18n.t("searchResults.previous"),nextText:I18n.t("searchResults.next"),onPageClick:function(K,L){fishersci.components.FeaturedPromotions.initFeaturedPromotionsList(K,B,C)
}};
var J=fishersci.components.FeaturedPromotions.getPaginationResultsGap(C.rpp);
var E=fishersci.components.FeaturedPromotions.getPaginationFirstRpp(D,C.rpp,J);
var G=fishersci.components.FeaturedPromotions.getPaginationLastRpp(C.rpp,D);
if(G>=I.totalResult){G=I.totalResult
}if(I.promotions&&I.promotions.length>0){$("#"+C.compID+"results-number").html(E+"  -  "+G+" of "+I.totalResult+" Results")
}I.isBrandPage=false;
if(typeof globalCQConfigs!=="undefined"&&typeof globalCQConfigs.isBrandPage!=="undefined"){I.isBrandPage=globalCQConfigs.isBrandPage
}var F=fishersci.components.FeaturedPromotions.fixPromotionData(I);
if(!b){if(C.title!=""){F.title=C.title
}$("#"+C.compID+"promosH").html(Handlebars.templates["promotions/featuredPromotionListResults"](F));
if(B.length==0){$("#"+C.compID).find(".promo_search_results_filters").html(Handlebars.templates["promotions/featuredPromotionListRefinements"](F));
fishersci.components.FeaturedPromotions.initEventHandlers(C);
fishersci.Common.initOffCanvasMenu()
}fishersci.components.FeaturedPromotions.doPagination(H,C);
if(D>1){$("body").animate({scrollTop:$("#"+C.compID).offset().top-100},"fast")
}}else{$("#"+C.compID+"promosH").parent().parent().html(z)
}}})
},initFeaturedPromotionsListEndeca:function(I,M){console.dir(M);
console.log("Retrieving GRIDVIEW promotions. Service: Endeca. Current page: "+I);
b=false;
l=$("#"+M.compID).find(".promo_search_results_filters");
l.on("click",p,fishersci.SearchCommon.doShowMoreToggle);
if(typeof M.nav!="undefined"&&M.nav!=null&&M.nav!=""){h.push(M.nav);
g=true
}if(M.allpromotionlink&&M.allpromotionlink.length>0){z="<h3>"+m+"</h3><p>"+u+" <a href='"+M.allpromotionlink+".html'>"+k+"</a>.</p>"
}var H="?promoTypes=&identifier=";
if(typeof(M.promoTypes)!="undefined"&&typeof(M.identifier)!="undefined"&&!a){H="?promoTypes="+encodeURI(M.promoTypes)+"&identifier="+encodeURI(M.identifier)
}var B=Array.from(h);
var N=[];
var J=[];
if(o.refinements!=undefined){var A=o.refinements;
for(var G=0;
G<A.length;
G++){if(A[G].name.toLowerCase()=="category"){N=A[G].refinementElements;
n=A[G].dimensionId
}}var D=[];
for(var G=0;
G<N.length;
G++){D.push(N[G].id)
}$(j).each(function(Q,P){if(P.dimension!=="undefined"&&P.dimension==n){if(D.indexOf(P.refinement)<0){var R={id:P.refinement,dimensionId:P.dimension};
N.push(R)
}}});
for(var G=0;
G<B.length;
G++){for(var F=0;
F<N.length;
F++){if(N[F].id==B[G]){J[J.length]=B[G]
}}}for(var G=0;
G<J.length-1;
G++){for(var F=0;
F<N.length;
F++){if(N[F].id==J[G]){for(var E=0;
E<B.length;
E++){if(B[E]==J[G]){B.splice(E,1)
}}}}}}var O="";
for(var G=0;
G<B.length;
G++){if(B[G]!=undefined){O+="+"+B[G]
}}O=O.replace("++","+");
console.log("New nav string = "+O);
if(O!==""){O=O.split("+");
O=$.unique(O);
O=O.join("+");
$("#navRefinements").val(O.substr(1))
}var C={isAuth:M.isAuth,offset:(I-1)*M.rpp,rpp:M.rpp,sortBy:M.sortBy,excludeFilter:M.excludeFilter};
var L="&nav="+O.substr(1);
console.log("Full nav string = "+L);
var K=q+H+L;
console.log("Endeca calculatedUrl = "+K);
if(e){K=d+H+L
}if(M.order&&M.order!=""&&M.order!=="undefined"){C.order=M.order
}console.log("Retrieving promo data from "+K);
$.ajax({url:K,dataType:"json",type:"GET",data:C,beforeSend:function(Q,P){$("#"+M.compID+"promosH").html('<img src="/etc/designs/fishersci/images/icons/loader.gif" class="spinner-icon" />');
$("#"+M.compID+"results-number").html("");
console.log("Attempting to get the service URL: "+P.url)
},error:function(P){console.log("initFeaturedPromotionsListEndeca() - Error condition generated in AJAX call");
console.log("ERROR trying to get the "+M.service+" Service URL: "+K)
},success:function(T){console.log("initFeaturedPromotionsListEndeca() - Success on AJAX request. Page "+I+" on ServiceURL: "+K);
o=T;
var S={items:T.totalResult,itemsOnPage:M.rpp,displayedPages:3,edges:2,prevText:I18n.t("searchResults.previous"),nextText:I18n.t("searchResults.next"),currentPage:I,onPageClick:function(W,X){fishersci.components.FeaturedPromotions.initFeaturedPromotionsListEndeca(W,M)
}};
var V=fishersci.components.FeaturedPromotions.getPaginationResultsGap(M.rpp);
var P=fishersci.components.FeaturedPromotions.getPaginationFirstRpp(I,M.rpp,V);
var R=fishersci.components.FeaturedPromotions.getPaginationLastRpp(M.rpp,I);
if(R>=T.totalResult){R=T.totalResult
}if(T.promotions&&T.promotions.length>0){$("#"+M.compID+"results-number").html(P+"  -  "+R+" of "+T.totalResult+" Results")
}T.isBrandPage=false;
if(typeof globalCQConfigs!=="undefined"&&typeof globalCQConfigs.isBrandPage!=="undefined"){T.isBrandPage=globalCQConfigs.isBrandPage
}var U=fishersci.components.FeaturedPromotions.fixPromotionDataEndeca(T);
if(r.length==0&&T.refinements!=null){if(g){r.push(M.nav)
}for(var Q=0;
Q<T.refinements.length;
Q++){r.push(T.refinements[Q].dimensionId)
}}if(!b){if(M.title!=""){T.title=M.title
}$("#"+M.compID+"promosH").html(Handlebars.templates["promotions/featuredPromotionListResultsEndeca"](U));
$("#"+M.compID).find(".promo_search_results_filters").html(Handlebars.templates["promotions/featuredPromotionListRefinementsEndeca"](T));
fishersci.Common.initOffCanvasMenu();
if(typeof(T.breadCrumbs)!="undefined"&&T.breadCrumbs!=null&&T.breadCrumbs.length>0){$("#"+M.compID).find(".selected_filters").removeClass("hide")
}if(I>1){$("body").animate({scrollTop:$("#"+M.compID).offset().top-100},"fast")
}}else{$("#"+M.compID+"promosH").parent().parent().html(z)
}a=true;
H="?promoTypes=&identifier=";
f=M;
fishersci.components.FeaturedPromotions.initEventHandlersEndeca(M);
fishersci.components.FeaturedPromotions.doPagination(S,M)
}})
},initFeaturedPromotionsListView:function(D,F){console.dir(F);
console.log("Retrieving LISTVIEW promotions. Service: "+F.service+". BackgroundColor: "+F.colour+". Current page: "+D);
b=false;
if(F.allpromotionlink&&F.allpromotionlink.length>0){z="<h3>"+m+"</h3><p>"+u+" <a href='"+F.allpromotionlink+".html'>"+k+"</a>.</p>"
}var I=$("#"+F.compID);
var G=30;
var H="/libs/services/wcm/ListPromotions";
var C=y+"catalog/service/search/listPromotions";
var E=(F.service=="endeca")?C:H;
var B={isAuth:F.isAuth,offset:(D-1)*F.rpp,rpp:F.rpp,contentPath:F.contentPath,promoTypes:F.promoTypes};
if(F.service=="endeca"){if(typeof(F.promoTypes)!="undefined"&&typeof(F.identifier)!="undefined"&&!a){B.promoTypes=encodeURI(F.promoTypes);
B.identifier=encodeURI(F.identifier)
}B.nav=F.nav;
B.sortBy=F.sortBy;
B.excludeFilter=F.excludeFilter
}else{B.sortby=F.sortBy
}if(F.order&&F.order!=""&&F.order!=="undefined"){B.order=F.order
}var A=$("#"+F.compID+"promoOfferListView");
$.ajax({url:E,dataType:"json",type:"GET",error:function(J){console.log("initFeaturedPromotionsListView() - Error condition generated in AJAX call");
console.log("ERROR trying to get the "+F.service+" Service URL: "+window.location.origin+E)
},beforeSend:function(K,J){A.html('<img src="/etc/designs/fishersci/images/icons/loader.gif" class="spinner-icon" />');
console.log("Attempting to get the service URL: "+J.url)
},data:B,success:function(L){console.log("initFeaturedPromotionsListView() - Success on AJAX request. Page "+D);
console.log(L);
$("#"+F.compID).find("div.spinner_icon").remove();
$("#"+F.compID+"offerHeader").html(F.title);
var K={items:L.totalResult,itemsOnPage:F.rpp,displayedPages:1,edges:1,currentPage:D,prevText:"",nextText:"",onPageClick:function(M,N){fishersci.components.FeaturedPromotions.initFeaturedPromotionsListView(M,F)
}};
I.addClass("promo-"+F.colour);
I.addClass("promo-box");
if(fishersci.components.FeaturedPromotions.isObjectOk(L,F.service)){console.log(">>> SUCCESS getting the "+F.service+" service JSON response");
var J=fishersci.components.FeaturedPromotions.formatPromotions(L,G)
}else{console.log(">>> ERROR trying to get the "+F.service+" service JSON response");
var J=[]
}if(J.promotions!=null&&J.promotions.length>0){if(fishersci.Common.inDesktopBreakpoint()&&fishersci.components.FeaturedPromotions.getComponentSize(I.width())!=="large"){I.find("div.pagination").removeClass("show_in_desktop").addClass("hide_in_desktop");
I.find("div.smPagination").removeClass("hide_in_desktop").addClass("show_in_desktop")
}if(fishersci.Common.inDesktopBreakpoint()&&fishersci.components.FeaturedPromotions.getComponentSize(I.width())=="small"){$("#"+F.compID+"titleHeader").removeClass("large-8").addClass("large-6");
$("#"+F.compID+"pagHeader").removeClass("large-4").addClass("large-6")
}fishersci.components.FeaturedPromotions.doPagination(K,F);
A.html(Handlebars.templates["promotions/featuredPromotionListView"](J))
}else{I.html(z)
}}})
},getPaginationResultsGap:function(A){return A-1
},getPaginationFirstRpp:function(B,A,C){return(B*A)-C
},getPaginationLastRpp:function(B,A){return(B*A)
},redrawFilteredResults:function(B,C){if(C.service==="cq"){var A="";
if(B!==""){$.each(B,function(D,E){A+=E.refName+","
});
A=A.slice(0,-1)
}fishersci.components.FeaturedPromotions.initFeaturedPromotionsList(INITIAL_PAGE,A,C)
}},doFilter:function(A,C){var B=[];
if($("#"+C.compID).find(".selected_filters .filter-values .click-filter").length===0){$("#"+C.compID).find(".selected_filters").addClass("hide");
$("#"+C.compID).find(".promo-item").removeClass("hide");
fishersci.components.FeaturedPromotions.redrawFilteredResults(B,C)
}else{$("#"+C.compID).find(".promo-item").addClass("hide");
$("#"+C.compID).find(".selected_filters .filter-values .click-filter").each(function(E,F){var G=$(F).data("refinementtype");
var H=$(F).data("filtervalues");
var D={refType:G,refName:H};
B.push(D);
$("#"+C.compID).find(".promo-item[data-"+G+'*="'+H+'"] ').removeClass("hide")
});
fishersci.components.FeaturedPromotions.redrawFilteredResults(B,C)
}},selectFilter:function(A,C){$_element=$(A);
$_element.addClass("icon_Remove");
$_element.find("span").addClass("hide");
var B=$_element.parent();
$("#"+C.compID).find(".selected_filters").removeClass("hide");
$("#"+C.compID).find(".selected_filters .filter-values").append(B)
},removeFilter:function(A,D){$_element=$(A);
$_element.removeClass("icon_Remove");
$_element.find("span").removeClass("hide");
var B=$_element.parent();
var C=$_element.data("refinementtype");
$("#"+D.compID).find('.nonselected_filters .filter-values[data-refinementType="'+C+'"]').append(B)
},fixPromotionData:function(C){var B=$.extend({},C);
if(B.promotions!=null&&B.promotions.length>0){$.each(B.promotions,function(D,E){if(E.limitedTime==="N"){E.limitedTime=""
}if(E.newOffer==="N"){E.newOffer=""
}if(E.savingsEvent==="N"){E.savingsEvent=""
}if(E.hotdeal==="N"){E.hotdeal=""
}else{E.limitedTime=""
}if(E.brands&&E.brands.length>0){if(E.brands.length<=5){E.brandString=E.brands.join(", ")
}else{E.brandString=I18n.t("featuredPromotionListResults.multipleBrands")
}}if(E.actionTextListing&&E.actionTextListing===""){delete E.actionTextListing
}});
var A=-1;
$.each(B.refinements,function(D,E){if(E.refinementName==="Applications"){E.refinementType="applicationType"
}else{if(B.isBrandPage&&E.refinementName.toUpperCase()==="BRAND"){A=D
}}});
if(A>-1){B.refinements.splice(A,1)
}}else{b=true
}return B
},fixPromotionDataEndeca:function(C){var B=$.extend({},C);
if(B.promotions!=null&&B.promotions.length>0){$.each(B.promotions,function(D,E){if(E.limitedTime==="N"){E.limitedTime=""
}if(E.newOffer==="N"){E.newOffer=""
}if(E.hotdeal==="N"){E.hotdeal=""
}if(E.brands&&E.brands.length>0){if(E.brands.length<=5){E.brandString=E.brands.join(", ")
}else{E.brandString=I18n.t("featuredPromotionListResults.multipleBrands")
}}if(E.callToAction&&E.callToAction===""){delete E.callToAction
}});
var A=-1;
if(B.refinements!=null){$.each(B.refinements,function(D,E){if(E.name==="Applications"){E.refinementType="applicationType"
}else{if(B.isBrandPage&&E.name.toUpperCase()==="BRAND"){A=D
}}})
}if(A>-1){B.refinements.splice(A,1)
}}else{b=true
}return B
},formatPromotions:function(A,B){if(A.promotions!==undefined){$.each(A.promotions,function(C,D){if(D.expireSoon&&D.expireSoon<=B&&D.expireSoon>=0){D.customExpireSoon=D.expireSoon
}})
}else{console.log("ERROR trying to format the promotions array. It seems 'promotions' is undefined")
}return A
},isObjectOk:function(B,A){var C=false;
if(A=="endeca"){C=(B.statusCode=="200")
}else{C=(B.status=="OK")
}return C
},getComponentGridClasses:function(D){var C=D.width();
console.log("Screen size: "+fishersci.Common.getBreakpoint());
console.log("Component size: "+C);
var F=[];
if(C>0){var B=12,A=12;
var H=12,G=12;
var E=fishersci.components.FeaturedPromotions.getComponentSize(C);
console.log("COMPSIZE: "+E);
if(E!==""){if(fishersci.Common.inDesktopBreakpoint()){switch(E){case"large":B=6;
A=6;
H=8;
G=4;
break;
case"medium":B=6;
A=6;
H=7;
G=5;
break
}}if(fishersci.Common.inTabletBreakpoint()||fishersci.Common.inMobileBreakpoint()){B=6;
A=6;
H=7;
G=5
}}F[0]="small-12 medium-"+B+" large-"+H+" columns";
F[1]="small-12 medium-"+A+" large-"+G+" columns"
}return F
},getComponentSize:function(B){var E="";
var G=0,D=640,F=641,A=1024,C=1025;
if(B>0){if(fishersci.Common.inRange(B,G,D)){E="small"
}else{if(fishersci.Common.inRange(B,F,A)){E="medium"
}else{if(B>=C){E="large"
}}}}return E
},getTags:function(B){var A=B.replace("[","");
A=A.replace("]","");
A=A.split(", ");
$.each(A,function(C,D){D=D.slice(D.indexOf("fishersci"));
D=D.replace(D[D.indexOf("/")],":");
A[C]=D
});
return A
},cleanComponentRequestParams:function(A){A.service=(A.service!=="")?A.service:"endeca";
A.sortBy=(A.sortBy=="expiringSoon")?"expireSoon":A.sortBy.toLowerCase();
if(A.sortBy!="none"&&A.sortBy!=""){A.order=(A.sortBy=="weight")?"desc":"asc"
}if(A.service!="endeca"){delete A.excludeFilter;
delete A.nav;
delete A.identifier
}else{A.excludeFilter=fishersci.components.FeaturedPromotions.getTags(A.excludeFilter).join(",")
}if(A.contentPath.indexOf("[")==0&&A.contentPath.indexOf("]")==A.contentPath-1){A.contentPath=fishersci.components.FeaturedPromotions.getTags(A.contentPath).join(",")
}A.promoTypes=fishersci.components.FeaturedPromotions.getTags(A.promoTypes).join(" ");
return A
},doPagination:function(O,N){var A=fishersci.Common.inMobileBreakpoint()?3:4;
var C=fishersci.Common.inMobileBreakpoint()?0:1;
var L=fishersci.Common.getQueryString("page")||1;
var I=fishersci.Common.getHashToArray();
var J=I.arrayToObj();
var K=location.search.replace(fishersci.Common.removeSearchRegEx(),"");
var E=$("#"+N.compID).find(".pagination");
var B=$("#"+N.compID).find(".smPagination");
var M=30;
var D={items:M,itemsOnPage:M,displayedPages:A,ellipsePageSet:false,edges:C,cssStyle:"fisher-theme",prevText:I18n.t("searchResults.previous"),nextText:I18n.t("searchResults.next"),showChevron:true,passOffset:true,onPageClick:function(P,Q){console.log(P)
}};
var F=$.extend(D,O);
if(N.viewType&&N.viewType=="list"){var H=$.extend({},F);
H.edges=0;
H.displayedPages=0
}var G=setInterval(function(){if(E.length){E.pagination(F);
if(N.viewType&&N.viewType=="list"){B.pagination(H)
}if(L){E.pagination("drawPage",L);
if(N.viewType&&N.viewType=="list"){B.pagination("drawPage",L)
}}if(F.currentPage){E.pagination("drawPage",F.currentPage);
if(N.viewType&&N.viewType=="list"){B.pagination("drawPage",F.currentPage)
}}clearInterval(G);
if(F.items<=F.itemsOnPage){E.hide();
if(N.viewType&&N.viewType=="list"){B.hide()
}}else{E.show();
if(N.viewType&&N.viewType=="list"){B.show()
}}}},400)
}}
}());
NS("fishersci.components").FeaturedCollection=(function(){var d="FeaturedCollection.js",j="[data-for-dimensionid]",e,h,a,p,b,o,n,g,k,f=false,l,m;
return{init:function(){console.log("init() called from  "+d);
if(env.isFeaturedCollection==true){m=this;
m.initVariables();
e.off().on("click",function(q){q.preventDefault();
if(!h){h=true;
m.getLoadMore({})
}});
if(env.isFeaturedCollectionDynamic==true){m.initDynamicFeaturedCollection();
$("#hb-refinements").off("click").on("click",'[data-type="refinement"]',function(r){r.preventDefault();
$this=$(this);
var q=$this.data("refinements");
g.val(q);
m.initDynamicFeaturedCollection()
});
$("#hb-refinements").on("click",j,fishersci.SearchCommon.doShowMoreToggle);
k.on("change",m.initDynamicFeaturedCollection)
}}},initVariables:function(){e=$("#loadmoresearch");
h=false;
a=1;
b=30;
p=30;
o=$('[data-result="end"]');
n=$("#hb-search");
g=$('[data-type="refinement-nav"]');
k=$("#qa_srchSort_Ns_input_select");
if(env.isFeaturedCollectionDynamic==true){l=LocalePath.getLocalePath()+"catalog/service/featured/"+$("#featuredCollectionIdentifier").val()
}else{l=LocalePath.getLocalePath()+"catalog/service/featured/promotions"
}},initDynamicFeaturedCollection:function(){n.empty();
$("#hb-refinements").empty();
$("#hb-topBreadcrumbs").empty();
var q={storeId:"10652",offset:"0",Ns:k.val()};
var r=g.val()||"";
if(r!=""){q.nav=r
}$.ajax({url:l,dataType:"json",data:q,success:function(s){console.log("Got featured collection data from "+l);
s.startFrom=0;
fishersci.SearchCommon.initBrowseObject({data:s});
m.appendFeaturedCollection(s)
},error:function(v,s,u){console.log("Error getting featured collection data");
m.appendFeaturedCollection(q)
}})
},appendFeaturedCollection:function(s){var r=globalCQConfigs.currentpagetemplate.split("/");
s.hideLinks=(r[r.length-1]=="promotionDetailPage");
console.log("hideLinks before override = "+s.hideLinks);
console.log("globalCQConfigs:");
console.dir(globalCQConfigs);
globalCQConfigs.featurecollection=globalCQConfigs.featurecollection||{};
if(globalCQConfigs.featurecollection.forceshowlinks!==undefined){console.log("globalCQConfigs.featurecollection.forceshowlinks is not undefined.  Its value is "+globalCQConfigs.featurecollection.forceshowlinks);
s.hideLinks=!globalCQConfigs.featurecollection.forceshowlinks
}console.log("hideLinks after override = "+s.hideLinks);
f=s.hideLinks;
Handlebars.registerPartial("crossReference",Handlebars.templates["search/crossReference"]);
n.append(Handlebars.templates["search/searchResults"](s));
$("#hb-refinements").append(Handlebars.templates["featured-collection/featuredCollectionRefinements"](s));
$("#hb-topBreadcrumbs").append(Handlebars.templates["search/searchTopBreadcrumbs"](s));
if($("#hb-breadcrumbs").length!==0){document.getElementById("hb-breadcrumbs").innerHTML=Handlebars.templates["search/searchBreadcrumbs"](s)
}fishersci.Common.initCollapsibleBlocks();
$('[data-type="refinement-nav"]').val(s.refine);
var q=s.aggrRecordListSize;
$('[data-result="total"]').text(q);
$(".search_filter").each(function(u){if(u>3){$(this).removeClass("active")
}});
$("#hb-refinements h3 .block_button").off("click").on("click",function(){$(".featuredCollection .featured_collection_dynamic .promo_search_results_filters").toggleClass("off_canvas_active")
});
if(q<=(b)){o.text(q);
e.hide()
}else{o.text(a*b);
e.show()
}},getLoadMore:function(){console.log("getLoadMore called from "+d);
var r=this;
data={storeId:"10652",offset:a*p,nav:g.val(),Ns:k.val()};
var q=fishersci.Common.getParameterByName("mainSearch");
if(q==="true"){data.mainSearch="true"
}$.ajax({url:l,dataType:"json",data:data,beforeSend:function(){e.after('<img src = "/shop/FisherSci/theme/images/search/ajax_loader_product.gif" class="spinner_icon" />')
},success:function(s){e.next("img.spinner_icon").remove();
fishersci.SearchCommon.initBrowseObject({data:s});
r.renderLoadMore({data:s});
h=false
}})
},renderLoadMore:function(u){console.log("renderLoadMore called from "+d);
var s=u.data;
var r=Handlebars.templates["search/searchResults"],q=s.aggrRecordListSize;
s.startFrom=a*b;
s.hideLinks=f;
a++;
n.append(r(s));
if(q<=(a*b)){o.text(q);
e.hide()
}else{o.text(a*b);
e.show()
}}}
}());
NS("fishersci.components").PromoCode=(function(){var z="PromoCode.js",y,u,s,H,v,d,k,e=new Array(),p=new Array(),A="",g="",q=new Array(),w=new Array(),b,f,E,D,F,m,o,n,B,l,j,a,C,G,h,r;
return{init:function(){var J=this;
var I="";
var K="";
J.initVariables();
y=J.getPromoCodeOnLoad();
if(y){if(C){I="approval"
}J.promoCodeApply({promoCode:y,flow:I});
s.val(y)
}s.keyup(function(L){if(s.val()!=""){$("#promoCodeRemove").css("display","inline-block")
}else{$("#promoCodeRemove").hide()
}if(s.val().length>2){H.removeClass("disabled");
$(".promoCodeMessage").remove()
}else{H.addClass("disabled")
}});
H.click(function(){var M=s.val().toUpperCase().replace(/ /g,"");
var L=C?"approval":"";
if(!($(this).hasClass("disabled"))){fishersci.Common.addSpinnerToElement($(".js-promo-progress"),{classes:" float_right"});
s.val(M);
if(G){J.doUpdateApproverCart(J.promoCodeApply,{promoCode:M,flow:L});
return false
}J.promoCodeApply({promoCode:M,flow:L})
}return false
});
$("#promoCodeRemove, #promoCodeRemoveSubmitted").click(function(){J.promocodeReset();
H.addClass("disabled");
s.val("")
});
$(".js-units, .js-quantity").on("change",function(){G=true
})
},initVariables:function(){u="";
y=false;
v=false;
d=false;
G=false;
h=$('[name="promoCode"]');
C=window.env.approverPage||false;
s=$(".js-promo-code-input");
H=$(".js-promo-code-apply");
D=$(".js-promo-message");
E=$(".js-promo-message-wrapper");
F=$(".js-promo-discount-wrapper");
m=$(".js-promo-discount-details-approver");
o=$(".js-promo-discount-details");
n=$(".js-promo-total-discount");
j=$(".js-cart-total");
a=$(".js-promo-est-order-total");
B=$(".js-shipping-charges");
l=$(".js-estimated-tax");
r=$("#ecs-message-container");
k=120
},promoCodeApply:function(K){var L=this;
var M={promoCode:"",flow:""};
var K=$.extend(M,K);
var I="";
var J=new Date();
$(".promoCodeMessage").remove();
$.getJSON("/shop/promo/apply",K,function(N,P,O){I=L.setPromoDescription(N);
fisherDataLayer.promoData=N;
fisherDataLayer.promoCode=K.promoCode;
fisherDataLayer.promoData.action="Apply";
fisherDataLayer.customLinkGeneral="Promo Code Applied";
_satellite.track("promoCodes");
if(!N.applied){d=true;
$("#promoCodeRemove").css("display","inline-block");
L.showPromocodeMessage(D,{message:N.message,event:"error"});
$("#promoCodeRemoveSubmitted").trigger("click");
L.doDestroyPromoCookies()
}else{d=false;
J.setTime(J.getTime()+(k*60*1000));
if(!$.cookie("promocode")){$.cookie("promocode",s.val(),{expires:J,path:"/"})
}$.cookie("promodescription",I,{expires:J,path:"/"});
if(N.shipCharge&&window.env.userType!=="G"){$.cookie("promoshipcharge",N.shipCharge,{expires:J,path:"/"});
L.setShippingCharges({amount:N.shipCharge})
}L.doUiUpdate(N,{action:"add",promoCode:K.promoCode});
$(".js-apply, .js-promo-code-label").hide();
$("#promocodeAppliedWrapper").show();
$("#promocodeSubmitted").text(K.promoCode);
L.showPromocodeMessage(D,{message:N.message,event:"success"})
}}).fail(function(N,P,O){console.log("Error getting promocode data: "+O)
}).complete(function(){fishersci.Common.removeSpinnerFromElement($(".js-promo-progress"))
})
},promocodeReset:function(){console.log("Promocodes Resetting");
var J=this;
var I=C?"approval":"";
F.hide();
m.hide();
var K={promoCode:$.cookie("promocode"),remove:true,flow:I};
$.getJSON("/shop/promo/remove",K,function(L,N,M){console.log("Removal request sent to backend");
fisherDataLayer.promoData=L;
fisherDataLayer.promoData.action="Remove";
fisherDataLayer.promoCode=$.cookie("promocode");
J.doUiUpdate(L,{action:"remove",promoCode:$.cookie("promocode")});
J.doDestroyPromoCookies()
}).fail(function(L,N,M){console.log("Error cancelling promocode data: "+M);
J.showPromocodeMessage(D,{message:"There was an issue removing the promo code",event:"error"})
});
if(!d){$(".promoCodeMessage").remove()
}$(".js-apply, .js-promo-code-label").show();
$("#promocodeAppliedWrapper").hide();
$("#promocodeSubmitted").text("");
$("#promoCodeRemove").css("display","none")
},showPromocodeMessage:function(J,I){var L=this;
var K=I.event=="success"?"success_box":"error_box";
var M="";
if(I.message!=""){if(window.env.cartUpdated&&I.message==="REQUIRED_ITEM_NOT_FOUND"){I.message="CART_CHANGED_INVALID";
window.env.cartUpdated=false
}M=fishersci.FisherCommerceMessages[I.message]?fishersci.FisherCommerceMessages[I.message]:"";
J.html('<div class="promoCodeMessage '+K+'">'+M+"</div>")
}E.removeClass("hide").fadeIn("slow",function(){var N=$(this);
if(I.event=="success"){setTimeout(function(){N.fadeOut(2000)
},3000)
}})
},doUiUpdate:function(U,W){var R=this;
var O=U.cartTotal;
var M=U.regularCartTotal;
var I=R.setPromoDescription(U);
var P=U.totalDiscount;
var V=U.estOrderTotal||null;
var L=U.estsalestax||null;
var S=U.orderLvLExceed||false;
var T=U.itemLvLExceed||false;
var J=U.itemPrePromoSubTotal||false;
var K={action:"add"};
var W=$.extend(K,W);
var N=W.promoCode;
var Q={};
if(U.lineItems){$.each(U.lineItems,function(aa,ab){var Y=$('[data-orderitemid="'+ab.orderItemId+'"]');
var X=$('[data-container-orderitemid="'+ab.orderItemId+'"]');
var Z=$('[data-message-orderitemid="'+ab.orderItemId+'"]');
if(ab.itemLvLExceed){$(Z).remove();
T=true;
Q={message:fishersci.FisherCommerceMessages.EXCEEDED_AUTH_LIMIT,index:aa,el:$(X),orderItemId:ab.orderItemId};
addItemLevelErrorMessage(Q)
}else{$(Z).remove()
}if(W.action=="add"){$(Y).next("span").remove();
$(Y).css("text-decoration","line-through");
$(Y).after('<span class="block">'+ab.itemSubTotal+" </span>")
}else{$(Y).css("text-decoration","none");
$(Y).next("span").remove()
}if(ab.itemPrePromoSubTotal){$(Y).text(ab.itemPrePromoSubTotal)
}})
}if(W.action=="add"){o.text(N+" : "+I);
if(P){n.text(" -"+P)
}else{n.text("")
}if(C){m.removeClass("hide").fadeIn()
}else{F.removeClass("hide").fadeIn()
}}else{F.fadeOut();
if(C){m.fadeOut()
}}$.each(j,function(){$(this).text(O)
});
if(V){$.each(a,function(){$(this).text(V)
})
}if(L){$.each(l,function(){$(this).text(L)
})
}if(!C){if(T){appendAuthLimitMessage(r)
}else{removeAuthLimitMessage()
}if(S){appendDollarMessage(r)
}else{removeDollarMessage()
}if(T||S){disableCheckout()
}else{enableCheckout()
}}},doConfirmationUIupdate:function(){var I=this;
if($.cookie("promocode")){o.text($.cookie("promocode")+" : "+$.cookie("promodescription"))
}if($.cookie("promoshipcharge")){I.setShippingCharges({amount:$.cookie("promoshipcharge")})
}},doDestroyPromoCookies:function(){$.removeCookie("promocode",{path:"/"});
$.removeCookie("promodescription",{path:"/"});
$.removeCookie("promoshipcharge",{path:"/"})
},doUpdateApproverCart:function(K,I){var J=this;
var K=K||function(){};
var I=I||{};
$.ajax({url:"/shop/editorder",type:"post",data:$('[name="dispEditOrdFrm"]').serialize(),success:function(){K.apply(J,[I])
}})
},setShippingCharges:function(I){var J={amount:"0.00"};
var I=$.extend(J,I);
B.text(I.amount)
},setPromoDescription:function(J){var I="";
if(J.lineItems){if(J.lineItems.length>0){return J.lineItems[0].promoDescription||""
}}if(J.transFree){return J.promoDescription||""
}},getPromoCodeOnLoad:function(){var I=fisherDataLayer.orderNumber;
if(I&&I.length>0){return false
}if(h.length>0){return h.val()
}if($.cookie("promocode")&&!C){return $.cookie("promocode")
}return false
}}
}());
NS("fishersci.components").EdgeResults=(function(){var B="EdgeResults.js",j,w,D,A,k,y,o,E,v,s,e,l,q,z,f,n,d,b,a,C,h,u,g,p,r,m;
return{init:function(){console.log("init called from "+B);
m=this;
m.initVariables();
m.preventSingleResultRedirect();
$(window).on("scroll",function(J){var H=$("html").scrollTop();
var I=$("#back-to-top-button");
if(H>650&&!I.hasClass("active")&&fishersci.Common.inDesktopBreakpoint()){I.show(300);
I.toggleClass("active");
I.off("click").on("click",function(K){K.preventDefault();
$("html,body").animate({scrollTop:0},200);
return false
})
}else{if(H<300&&$("#back-to-top-button").hasClass("active")){I.hide(300);
I.toggleClass("active")
}}});
if(LocalePath.getCountry()==="us"&&LocalePath.getCountry()==="ca"){if($("#languageSelector").find("option[value="+LocalePath.getLanguage().toUpperCase()+"]")[0]!=undefined){$("#languageSelector").find("option[value="+LocalePath.getLanguage().toUpperCase()+"]").attr("selected",true)
}$(".langpref_EU").addClass("hide")
}fishersci.Common.glyphToolTipHover();
if(j.length){y.on("click",function(H){H.preventDefault();
if(!u){m.getLoadMore({})
}});
m.offCanvasFilters();
m.removeItemLevelFacet();
fishersci.SearchCommon.appendStrategyResponse(window.edgeResults);
if(r.length){fishersci.SearchCommon.renderPagination({items:window.edgeResults.aggrRecordListSize})
}}$(D).each(function(H){if(H>3){$(this).removeClass("active")
}});
if($(".selected_link").length){var F,G;
F=$(".selected_link").length-1;
G=encodeURI($("#all_categories").attr("value"));
$(".selected_link:eq( "+F+" )").addClass("selected");
$(".selected_link:eq( "+F+" ) a").attr("href","javascript:void(0)");
$(".topBreadCrumb li:last-child").addClass("selected");
$(".topBreadCrumb li:last-child a").attr("href","javascript:void(0);");
if(env.isEdge){$(".selected_link").parent().prepend("<li class='selected_link all_category'><a href="+G+" class='all_categories'><span class='font_icon icon_Chevron_Left'></span>"+I18n.t("searchResults.allCategories")+"</a></li>")
}$("#hb-topBreadcrumbs").addClass("show_breadcrumb")
}$(".search_filters").on("click",".category_link",function(){if($("#qa_srchSort_Ns_input option:selected").length>0){var H=$("#qa_srchSort_Ns_input option:selected").val();
this.href=this.href+"&sortBy="+H
}});
$(".all_categories").on("click",function(I){if($("#qa_srchSort_Ns_input option:selected").length>0){var H=$("#qa_srchSort_Ns_input option:selected").val();
this.href=this.href+"&sortBy="+H
}});
g.on("click",m.removeAllFilters)
},initVariables:function(){p=LocalePath.getLocalePath();
j=$(".search_results");
w=$(".search_results_filters");
D=(".search_filter");
A=$(".item_Facet_Value .icon_Remove");
k=p+"catalog/service/search/program/edge"+window.edgeResults.categoryId;
y=$("#loadmoresearch");
o=!fishersci.Common.isLocal()?k:k.replace(p,"/");
E=$("#hb-refinements");
v=$("#hb-breadcrumbs");
s=$("#hb-topBreadcrumbs");
e=$("#hb-search");
l="/etc/designs/fishersci/clientlibs/handlebars/edge/edgeRefinements.hbs";
q="/etc/designs/fishersci/clientlibs/handlebars/edge/edgeBreadcrumbs.hbs";
z="/etc/designs/fishersci/clientlibs/handlebars/edge/edgeTopBreadcrumbs.hbs";
f=Handlebars.templates["search/searchResults"];
n=30;
d=1;
b=30;
a=$('[data-result="end"]');
C=$('[data-type="refinement-nav"]');
h=$('[data-type="refinement-sort"]');
u=false;
g=$("#search_removeAll_filters");
r=$(".pagination")
},initEdgeResults:function(){console.log("initEdgeResults called from "+B);
m=this;
var F={storeId:"10652",offset:"0",nav:C.val(),Ns:h.val()};
$.ajax({url:o,dataType:"json",data:F,success:function(G){m.initEdgeObject({data:G});
m.initRefinements({data:G});
m.initBreadcrumbs({data:G});
m.initTopBreadcrumbs({data:G});
m.renderEdgeResults({data:G})
}})
},initRefinements:function(G){console.log("initRefinements called from "+B);
m=this;
E.html("");
var F=Handlebars.getTemplate(m.setRefinementTemplate());
E.append(F(G.data))
},initBreadcrumbs:function(G){console.log("initBreadcrumbs called from "+B);
m=this;
v.html("");
var F=Handlebars.getTemplate(m.setBreadcrumbTemplate());
v.append(F(G.data))
},initTopBreadcrumbs:function(G){console.log("initTopBreadcrumbs called from "+B);
m=this;
s.html("");
var F=Handlebars.getTemplate(m.setTopBreadcrumbTemplate());
s.append(F(G.data))
},initEdgeObject:function(F){console.log("initEdgeObject called from "+B);
fishersci.SearchCommon.initBrowseObject(F);
F.data.startFrom=0
},renderEdgeResults:function(G){console.log("renderEdgeResults called from "+B);
m=this;
e.html("");
var F=Handlebars.getTemplate(m.setEdgeResultsTemplate());
G.data.startFrom=0;
e.append(F(G.data))
},getLoadMore:function(G){console.log("getLoadMore called from "+B);
m=this;
var G=G||{};
var I={pageNumber:d};
var F=$.extend(I,G);
var H={storeId:"10652",offset:b,nav:C.val(),Ns:h.val()};
if(F.pageNumber>1){H.offset=((F.pageNumber-1)*b);
d=F.pageNumber
}$.ajax({url:m.setLoadMoreUrl(),dataType:"json",data:H,beforeSend:function(){u=true;
y.after('<img src = "/shop/FisherSci/theme/images/search/ajax_loader_product.gif" class="spinner_icon" />')
},success:function(J){y.next("img.spinner_icon").remove();
m.initSearchObject({data:J});
m.renderLoadMore({data:J});
fishersci.Common.scrollToElement($(".general_search"));
u=false
}})
},setRefinementTemplate:function(){console.log("setRefinementTemplate called from "+B);
return l
},setEdgeResultsTemplate:function(){console.log("setEdgeResultsTemplate called from "+B);
return f
},setBreadcrumbTemplate:function(){console.log("setBreadcrumbTemplate called from "+B);
return q
},setTopBreadcrumbTemplate:function(){console.log("setTopBreadcrumbTemplate called from "+B);
return z
},setLoadMoreUrl:function(){console.log("setLoadMoreUrl called from "+B);
return o
},renderLoadMore:function(J){console.log("renderLoadMore called from "+B);
var I=J.data;
var G=f,F=I.aggrRecordListSize,H=d*n;
I.startFrom=H;
e.html(G(I));
if(F<=(d*n)){a.text(F)
}else{a.text(d*n)
}fishersci.SearchCommon.getPricingOnSearch.apply(I)
},offCanvasFilters:function(){E.on("click",".off_canvas_link",function(F){var G=$(this);
if(w.hasClass("off_canvas_active")){w.removeClass("off_canvas_active")
}else{w.addClass("off_canvas_active")
}if(G.hasClass("active")){G.removeClass("active")
}else{G.addClass("active")
}})
},removeItemLevelFacet:function(){console.log("removeItemLevelFacet called from "+B);
A.on("click",function(F){if($(this).closest("ul.facet_Group_wraper").children().length>3){$(this).closest("li.item_Facet_Value").remove()
}else{$(this).closest("ul.facet_Group_wraper").remove()
}})
},preventSingleResultRedirect:function(){$.cookie("preventSingleResultRedirect","true",{path:"/",expires:365})
}}
}());